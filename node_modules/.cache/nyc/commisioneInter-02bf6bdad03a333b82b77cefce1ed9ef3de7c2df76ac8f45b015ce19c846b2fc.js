function cov_2h3qfavtug(){var path="/Users/salvatore/Desktop/EasyAgreement-IGES/app/models/commisioneInter.js";var hash="716eebb49f15040cc90fe360ceef07e5367acd70";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/salvatore/Desktop/EasyAgreement-IGES/app/models/commisioneInter.js",statementMap:{"0":{start:{line:1,column:18},end:{line:1,column:48}},"1":{start:{line:4,column:12},end:{line:4,column:53}},"2":{start:{line:7,column:15},end:{line:7,column:30}},"3":{start:{line:15,column:4},end:{line:15,column:20}},"4":{start:{line:16,column:4},end:{line:16,column:23}},"5":{start:{line:17,column:4},end:{line:17,column:24}},"6":{start:{line:18,column:4},end:{line:18,column:21}},"7":{start:{line:26,column:4},end:{line:26,column:20}},"8":{start:{line:34,column:4},end:{line:34,column:23}},"9":{start:{line:42,column:4},end:{line:42,column:24}},"10":{start:{line:50,column:4},end:{line:50,column:21}},"11":{start:{line:58,column:4},end:{line:58,column:20}},"12":{start:{line:66,column:4},end:{line:66,column:26}},"13":{start:{line:74,column:4},end:{line:74,column:28}},"14":{start:{line:82,column:4},end:{line:82,column:22}},"15":{start:{line:91,column:4},end:{line:110,column:6}},"16":{start:{line:92,column:6},end:{line:109,column:8}},"17":{start:{line:93,column:8},end:{line:93,column:28}},"18":{start:{line:93,column:17},end:{line:93,column:28}},"19":{start:{line:94,column:18},end:{line:94,column:31}},"20":{start:{line:95,column:8},end:{line:108,column:10}},"21":{start:{line:96,column:10},end:{line:96,column:30}},"22":{start:{line:96,column:19},end:{line:96,column:30}},"23":{start:{line:97,column:10},end:{line:106,column:11}},"24":{start:{line:98,column:23},end:{line:98,column:39}},"25":{start:{line:99,column:12},end:{line:99,column:39}},"26":{start:{line:100,column:12},end:{line:100,column:37}},"27":{start:{line:101,column:12},end:{line:101,column:43}},"28":{start:{line:102,column:12},end:{line:102,column:45}},"29":{start:{line:103,column:12},end:{line:103,column:25}},"30":{start:{line:105,column:12},end:{line:105,column:25}},"31":{start:{line:107,column:10},end:{line:107,column:20}},"32":{start:{line:114,column:4},end:{line:124,column:6}},"33":{start:{line:115,column:6},end:{line:123,column:8}},"34":{start:{line:116,column:8},end:{line:116,column:28}},"35":{start:{line:116,column:17},end:{line:116,column:28}},"36":{start:{line:117,column:18},end:{line:117,column:31}},"37":{start:{line:118,column:8},end:{line:122,column:10}},"38":{start:{line:119,column:10},end:{line:119,column:28}},"39":{start:{line:119,column:19},end:{line:119,column:28}},"40":{start:{line:120,column:10},end:{line:120,column:19}},"41":{start:{line:121,column:10},end:{line:121,column:20}},"42":{start:{line:134,column:4},end:{line:158,column:6}},"43":{start:{line:135,column:6},end:{line:157,column:8}},"44":{start:{line:136,column:8},end:{line:136,column:28}},"45":{start:{line:136,column:17},end:{line:136,column:28}},"46":{start:{line:137,column:18},end:{line:137,column:31}},"47":{start:{line:138,column:22},end:{line:138,column:39}},"48":{start:{line:139,column:24},end:{line:139,column:52}},"49":{start:{line:140,column:8},end:{line:142,column:10}},"50":{start:{line:141,column:10},end:{line:141,column:30}},"51":{start:{line:141,column:19},end:{line:141,column:30}},"52":{start:{line:143,column:8},end:{line:156,column:10}},"53":{start:{line:144,column:10},end:{line:144,column:30}},"54":{start:{line:144,column:19},end:{line:144,column:30}},"55":{start:{line:145,column:10},end:{line:154,column:11}},"56":{start:{line:146,column:23},end:{line:146,column:39}},"57":{start:{line:147,column:12},end:{line:147,column:39}},"58":{start:{line:148,column:12},end:{line:148,column:37}},"59":{start:{line:149,column:12},end:{line:149,column:43}},"60":{start:{line:150,column:12},end:{line:150,column:45}},"61":{start:{line:151,column:12},end:{line:151,column:25}},"62":{start:{line:153,column:12},end:{line:153,column:25}},"63":{start:{line:155,column:10},end:{line:155,column:20}},"64":{start:{line:166,column:2},end:{line:180,column:4}},"65":{start:{line:167,column:4},end:{line:179,column:6}},"66":{start:{line:168,column:6},end:{line:168,column:26}},"67":{start:{line:168,column:15},end:{line:168,column:26}},"68":{start:{line:169,column:16},end:{line:169,column:29}},"69":{start:{line:170,column:6},end:{line:178,column:8}},"70":{start:{line:171,column:8},end:{line:171,column:26}},"71":{start:{line:171,column:17},end:{line:171,column:26}},"72":{start:{line:172,column:8},end:{line:176,column:9}},"73":{start:{line:173,column:10},end:{line:173,column:23}},"74":{start:{line:175,column:10},end:{line:175,column:24}},"75":{start:{line:177,column:8},end:{line:177,column:18}},"76":{start:{line:188,column:2},end:{line:199,column:4}},"77":{start:{line:189,column:4},end:{line:198,column:6}},"78":{start:{line:190,column:6},end:{line:190,column:26}},"79":{start:{line:190,column:15},end:{line:190,column:26}},"80":{start:{line:191,column:16},end:{line:191,column:29}},"81":{start:{line:193,column:6},end:{line:197,column:8}},"82":{start:{line:194,column:8},end:{line:194,column:26}},"83":{start:{line:194,column:17},end:{line:194,column:26}},"84":{start:{line:195,column:8},end:{line:195,column:23}},"85":{start:{line:196,column:8},end:{line:196,column:18}},"86":{start:{line:203,column:0},end:{line:203,column:27}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:17},end:{line:19,column:3}},line:14},"1":{name:"(anonymous_1)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:13},end:{line:27,column:3}},line:25},"2":{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:16},end:{line:35,column:3}},line:33},"3":{name:"(anonymous_3)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:17},end:{line:43,column:3}},line:41},"4":{name:"(anonymous_4)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:14},end:{line:51,column:3}},line:49},"5":{name:"(anonymous_5)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:17},end:{line:59,column:3}},line:57},"6":{name:"(anonymous_6)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:23},end:{line:67,column:3}},line:65},"7":{name:"(anonymous_7)",decl:{start:{line:73,column:2},end:{line:73,column:3}},loc:{start:{line:73,column:25},end:{line:75,column:3}},line:73},"8":{name:"(anonymous_8)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:19},end:{line:83,column:3}},line:81},"9":{name:"(anonymous_9)",decl:{start:{line:90,column:2},end:{line:90,column:3}},loc:{start:{line:90,column:29},end:{line:111,column:3}},line:90},"10":{name:"(anonymous_10)",decl:{start:{line:91,column:23},end:{line:91,column:24}},loc:{start:{line:91,column:50},end:{line:110,column:5}},line:91},"11":{name:"(anonymous_11)",decl:{start:{line:92,column:84},end:{line:92,column:85}},loc:{start:{line:92,column:103},end:{line:109,column:7}},line:92},"12":{name:"(anonymous_12)",decl:{start:{line:95,column:63},end:{line:95,column:64}},loc:{start:{line:95,column:86},end:{line:108,column:9}},line:95},"13":{name:"(anonymous_13)",decl:{start:{line:113,column:2},end:{line:113,column:3}},loc:{start:{line:113,column:36},end:{line:125,column:3}},line:113},"14":{name:"(anonymous_14)",decl:{start:{line:114,column:23},end:{line:114,column:24}},loc:{start:{line:114,column:50},end:{line:124,column:5}},line:114},"15":{name:"(anonymous_15)",decl:{start:{line:115,column:84},end:{line:115,column:85}},loc:{start:{line:115,column:103},end:{line:123,column:7}},line:115},"16":{name:"(anonymous_16)",decl:{start:{line:118,column:59},end:{line:118,column:60}},loc:{start:{line:118,column:74},end:{line:122,column:9}},line:118},"17":{name:"(anonymous_17)",decl:{start:{line:133,column:2},end:{line:133,column:3}},loc:{start:{line:133,column:39},end:{line:159,column:3}},line:133},"18":{name:"(anonymous_18)",decl:{start:{line:134,column:23},end:{line:134,column:24}},loc:{start:{line:134,column:50},end:{line:158,column:5}},line:134},"19":{name:"(anonymous_19)",decl:{start:{line:135,column:84},end:{line:135,column:85}},loc:{start:{line:135,column:103},end:{line:157,column:7}},line:135},"20":{name:"(anonymous_20)",decl:{start:{line:140,column:67},end:{line:140,column:68}},loc:{start:{line:140,column:87},end:{line:142,column:9}},line:140},"21":{name:"(anonymous_21)",decl:{start:{line:143,column:64},end:{line:143,column:65}},loc:{start:{line:143,column:87},end:{line:156,column:9}},line:143},"22":{name:"(anonymous_22)",decl:{start:{line:165,column:1},end:{line:165,column:2}},loc:{start:{line:165,column:32},end:{line:181,column:1}},line:165},"23":{name:"(anonymous_23)",decl:{start:{line:166,column:21},end:{line:166,column:22}},loc:{start:{line:166,column:48},end:{line:180,column:3}},line:166},"24":{name:"(anonymous_24)",decl:{start:{line:167,column:82},end:{line:167,column:83}},loc:{start:{line:167,column:101},end:{line:179,column:5}},line:167},"25":{name:"(anonymous_25)",decl:{start:{line:170,column:70},end:{line:170,column:71}},loc:{start:{line:170,column:93},end:{line:178,column:7}},line:170},"26":{name:"(anonymous_26)",decl:{start:{line:187,column:1},end:{line:187,column:2}},loc:{start:{line:187,column:23},end:{line:200,column:1}},line:187},"27":{name:"(anonymous_27)",decl:{start:{line:188,column:21},end:{line:188,column:22}},loc:{start:{line:188,column:48},end:{line:199,column:3}},line:188},"28":{name:"(anonymous_28)",decl:{start:{line:189,column:82},end:{line:189,column:83}},loc:{start:{line:189,column:101},end:{line:198,column:5}},line:189},"29":{name:"(anonymous_29)",decl:{start:{line:193,column:50},end:{line:193,column:51}},loc:{start:{line:193,column:73},end:{line:197,column:7}},line:193}},branchMap:{"0":{loc:{start:{line:93,column:8},end:{line:93,column:28}},type:"if",locations:[{start:{line:93,column:8},end:{line:93,column:28}},{start:{line:93,column:8},end:{line:93,column:28}}],line:93},"1":{loc:{start:{line:96,column:10},end:{line:96,column:30}},type:"if",locations:[{start:{line:96,column:10},end:{line:96,column:30}},{start:{line:96,column:10},end:{line:96,column:30}}],line:96},"2":{loc:{start:{line:97,column:10},end:{line:106,column:11}},type:"if",locations:[{start:{line:97,column:10},end:{line:106,column:11}},{start:{line:97,column:10},end:{line:106,column:11}}],line:97},"3":{loc:{start:{line:116,column:8},end:{line:116,column:28}},type:"if",locations:[{start:{line:116,column:8},end:{line:116,column:28}},{start:{line:116,column:8},end:{line:116,column:28}}],line:116},"4":{loc:{start:{line:119,column:10},end:{line:119,column:28}},type:"if",locations:[{start:{line:119,column:10},end:{line:119,column:28}},{start:{line:119,column:10},end:{line:119,column:28}}],line:119},"5":{loc:{start:{line:136,column:8},end:{line:136,column:28}},type:"if",locations:[{start:{line:136,column:8},end:{line:136,column:28}},{start:{line:136,column:8},end:{line:136,column:28}}],line:136},"6":{loc:{start:{line:141,column:10},end:{line:141,column:30}},type:"if",locations:[{start:{line:141,column:10},end:{line:141,column:30}},{start:{line:141,column:10},end:{line:141,column:30}}],line:141},"7":{loc:{start:{line:144,column:10},end:{line:144,column:30}},type:"if",locations:[{start:{line:144,column:10},end:{line:144,column:30}},{start:{line:144,column:10},end:{line:144,column:30}}],line:144},"8":{loc:{start:{line:145,column:10},end:{line:154,column:11}},type:"if",locations:[{start:{line:145,column:10},end:{line:154,column:11}},{start:{line:145,column:10},end:{line:154,column:11}}],line:145},"9":{loc:{start:{line:168,column:6},end:{line:168,column:26}},type:"if",locations:[{start:{line:168,column:6},end:{line:168,column:26}},{start:{line:168,column:6},end:{line:168,column:26}}],line:168},"10":{loc:{start:{line:171,column:8},end:{line:171,column:26}},type:"if",locations:[{start:{line:171,column:8},end:{line:171,column:26}},{start:{line:171,column:8},end:{line:171,column:26}}],line:171},"11":{loc:{start:{line:172,column:8},end:{line:176,column:9}},type:"if",locations:[{start:{line:172,column:8},end:{line:176,column:9}},{start:{line:172,column:8},end:{line:176,column:9}}],line:172},"12":{loc:{start:{line:190,column:6},end:{line:190,column:26}},type:"if",locations:[{start:{line:190,column:6},end:{line:190,column:26}},{start:{line:190,column:6},end:{line:190,column:26}}],line:190},"13":{loc:{start:{line:194,column:8},end:{line:194,column:26}},type:"if",locations:[{start:{line:194,column:8},end:{line:194,column:26}},{start:{line:194,column:8},end:{line:194,column:26}}],line:194}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"716eebb49f15040cc90fe360ceef07e5367acd70"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2h3qfavtug=function(){return actualCoverage;};}return actualCoverage;}cov_2h3qfavtug();var MongoClient=(cov_2h3qfavtug().s[0]++,require('mongodb').MongoClient);// Database URL
const url=(cov_2h3qfavtug().s[1]++,'mongodb://localhost:27017/easyagreement');// Database name
const dbName=(cov_2h3qfavtug().s[2]++,'easyagreement');class Commission{/**
     * Constructor of commission
     * @constructor
     */constructor(){cov_2h3qfavtug().f[0]++;cov_2h3qfavtug().s[3]++;this.name=null;cov_2h3qfavtug().s[4]++;this.surname=null;cov_2h3qfavtug().s[5]++;this.Password=null;cov_2h3qfavtug().s[6]++;this.email=null;}/**
     * Get name
     * @returns {String} - return name
     */getName(){cov_2h3qfavtug().f[1]++;cov_2h3qfavtug().s[7]++;return this.name;}/**
     * Get surname
     * @returns {String} - return surname
     */getSurname(){cov_2h3qfavtug().f[2]++;cov_2h3qfavtug().s[8]++;return this.surname;}/**
     * Get password
     * @returns {Object} - return password
     */getPassword(){cov_2h3qfavtug().f[3]++;cov_2h3qfavtug().s[9]++;return this.Password;}/**
     * Get email
     * @returns {String} - return email
     */getEmail(){cov_2h3qfavtug().f[4]++;cov_2h3qfavtug().s[10]++;return this.email;}/**
     * Set name
     * @param {String} name - name
     */setName(name){cov_2h3qfavtug().f[5]++;cov_2h3qfavtug().s[11]++;this.name=name;}/**
     * Set surname
     * @param {String} surname - surname
     */setSurname(surname){cov_2h3qfavtug().f[6]++;cov_2h3qfavtug().s[12]++;this.surname=surname;}/**
     * Set password
     * @param {Object} password - password
     */setPassword(password){cov_2h3qfavtug().f[7]++;cov_2h3qfavtug().s[13]++;this.Password=password;}/**
     * Set email
     * @param {String} email - email
     */setEmail(email){cov_2h3qfavtug().f[8]++;cov_2h3qfavtug().s[14]++;this.email=email;}/**
 * Find commission by email
 * @param {String} email- email of commision
 * @returns {boolean} - return true if the object does not exist in database, else false
 */static findByEmail(email){cov_2h3qfavtug().f[9]++;cov_2h3qfavtug().s[15]++;return new Promise(function(resolve,reject){cov_2h3qfavtug().f[10]++;cov_2h3qfavtug().s[16]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_2h3qfavtug().f[11]++;cov_2h3qfavtug().s[17]++;if(err){cov_2h3qfavtug().b[0][0]++;cov_2h3qfavtug().s[18]++;reject(err);}else{cov_2h3qfavtug().b[0][1]++;}var dbo=(cov_2h3qfavtug().s[19]++,db.db(dbName));cov_2h3qfavtug().s[20]++;dbo.collection('Commission').findOne({email:email},function(err,result){cov_2h3qfavtug().f[12]++;cov_2h3qfavtug().s[21]++;if(err){cov_2h3qfavtug().b[1][0]++;cov_2h3qfavtug().s[22]++;reject(err);}else{cov_2h3qfavtug().b[1][1]++;}cov_2h3qfavtug().s[23]++;if(result!=null){cov_2h3qfavtug().b[2][0]++;var comm=(cov_2h3qfavtug().s[24]++,new Commission());cov_2h3qfavtug().s[25]++;comm.setEmail(result.email);cov_2h3qfavtug().s[26]++;comm.setName(result.name);cov_2h3qfavtug().s[27]++;comm.setSurname(result.surname);cov_2h3qfavtug().s[28]++;comm.setPassword(result.Password);cov_2h3qfavtug().s[29]++;resolve(comm);}else{cov_2h3qfavtug().b[2][1]++;cov_2h3qfavtug().s[30]++;resolve(null);}cov_2h3qfavtug().s[31]++;db.close();});});});}static addCommiInter(CommiInter){cov_2h3qfavtug().f[13]++;cov_2h3qfavtug().s[32]++;return new Promise(function(resolve,reject){cov_2h3qfavtug().f[14]++;cov_2h3qfavtug().s[33]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_2h3qfavtug().f[15]++;cov_2h3qfavtug().s[34]++;if(err){cov_2h3qfavtug().b[3][0]++;cov_2h3qfavtug().s[35]++;reject(err);}else{cov_2h3qfavtug().b[3][1]++;}var dbo=(cov_2h3qfavtug().s[36]++,db.db(dbName));cov_2h3qfavtug().s[37]++;dbo.collection('Commission').insertOne(CommiInter,function(err){cov_2h3qfavtug().f[16]++;cov_2h3qfavtug().s[38]++;if(err){cov_2h3qfavtug().b[4][0]++;cov_2h3qfavtug().s[39]++;throw err;}else{cov_2h3qfavtug().b[4][1]++;}cov_2h3qfavtug().s[40]++;resolve();cov_2h3qfavtug().s[41]++;db.close();});});});}/**
   * This method update the commission password 
   * @param {String} password - the new commission password 
   * @param {String} emailv - commission email
   * @returns {Object} - It returns the updated commission if result != null, else it returns null
   */static updatePassword(pass,emailv){cov_2h3qfavtug().f[17]++;cov_2h3qfavtug().s[42]++;return new Promise(function(resolve,reject){cov_2h3qfavtug().f[18]++;cov_2h3qfavtug().s[43]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_2h3qfavtug().f[19]++;cov_2h3qfavtug().s[44]++;if(err){cov_2h3qfavtug().b[5][0]++;cov_2h3qfavtug().s[45]++;reject(err);}else{cov_2h3qfavtug().b[5][1]++;}var dbo=(cov_2h3qfavtug().s[46]++,db.db(dbName));var myquery=(cov_2h3qfavtug().s[47]++,{email:emailv});var newvalues=(cov_2h3qfavtug().s[48]++,{$set:{Password:pass}});cov_2h3qfavtug().s[49]++;dbo.collection('Commission').updateOne(myquery,newvalues,function(err,res){cov_2h3qfavtug().f[20]++;cov_2h3qfavtug().s[50]++;if(err){cov_2h3qfavtug().b[6][0]++;cov_2h3qfavtug().s[51]++;reject(err);}else{cov_2h3qfavtug().b[6][1]++;}});cov_2h3qfavtug().s[52]++;dbo.collection('Commission').findOne({email:emailv},function(err,result){cov_2h3qfavtug().f[21]++;cov_2h3qfavtug().s[53]++;if(err){cov_2h3qfavtug().b[7][0]++;cov_2h3qfavtug().s[54]++;reject(err);}else{cov_2h3qfavtug().b[7][1]++;}cov_2h3qfavtug().s[55]++;if(result!=null){cov_2h3qfavtug().b[8][0]++;var comm=(cov_2h3qfavtug().s[56]++,new Commission());cov_2h3qfavtug().s[57]++;comm.setEmail(result.email);cov_2h3qfavtug().s[58]++;comm.setName(result.name);cov_2h3qfavtug().s[59]++;comm.setSurname(result.surname);cov_2h3qfavtug().s[60]++;comm.setPassword(result.Password);cov_2h3qfavtug().s[61]++;resolve(comm);}else{cov_2h3qfavtug().b[8][1]++;cov_2h3qfavtug().s[62]++;resolve(null);}cov_2h3qfavtug().s[63]++;db.close();});});});}/**
   * This method deletes an commis by email
   * @param {email} - commissario  email
   * @returns {Boolean} - It returns true if the delete was sucessfull, else false
   */static deleteCommInter(email){cov_2h3qfavtug().f[22]++;cov_2h3qfavtug().s[64]++;return new Promise(function(resolve,reject){cov_2h3qfavtug().f[23]++;cov_2h3qfavtug().s[65]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_2h3qfavtug().f[24]++;cov_2h3qfavtug().s[66]++;if(err){cov_2h3qfavtug().b[9][0]++;cov_2h3qfavtug().s[67]++;reject(err);}else{cov_2h3qfavtug().b[9][1]++;}var dbo=(cov_2h3qfavtug().s[68]++,db.db(dbName));cov_2h3qfavtug().s[69]++;dbo.collection('Commission').findOneAndDelete({email:email},function(err,result){cov_2h3qfavtug().f[25]++;cov_2h3qfavtug().s[70]++;if(err){cov_2h3qfavtug().b[10][0]++;cov_2h3qfavtug().s[71]++;throw err;}else{cov_2h3qfavtug().b[10][1]++;}cov_2h3qfavtug().s[72]++;if(result.value!=null){cov_2h3qfavtug().b[11][0]++;cov_2h3qfavtug().s[73]++;resolve(true);}else{cov_2h3qfavtug().b[11][1]++;cov_2h3qfavtug().s[74]++;resolve(false);}cov_2h3qfavtug().s[75]++;db.close();});});});}/**
 * Retrieve all commission
 *
 * @returns {promise} - return promise
 */static RetrieveAll(){cov_2h3qfavtug().f[26]++;cov_2h3qfavtug().s[76]++;return new Promise(function(resolve,reject){cov_2h3qfavtug().f[27]++;cov_2h3qfavtug().s[77]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_2h3qfavtug().f[28]++;cov_2h3qfavtug().s[78]++;if(err){cov_2h3qfavtug().b[12][0]++;cov_2h3qfavtug().s[79]++;reject(err);}else{cov_2h3qfavtug().b[12][1]++;}var dbo=(cov_2h3qfavtug().s[80]++,db.db(dbName));cov_2h3qfavtug().s[81]++;dbo.collection('Commission').find().toArray(function(err,result){cov_2h3qfavtug().f[29]++;cov_2h3qfavtug().s[82]++;if(err){cov_2h3qfavtug().b[13][0]++;cov_2h3qfavtug().s[83]++;throw err;}else{cov_2h3qfavtug().b[13][1]++;}cov_2h3qfavtug().s[84]++;resolve(result);cov_2h3qfavtug().s[85]++;db.close();});});});}}cov_2h3qfavtug().s[86]++;module.exports=Commission;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1pc2lvbmVJbnRlci5qcyJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsInJlcXVpcmUiLCJ1cmwiLCJkYk5hbWUiLCJDb21taXNzaW9uIiwiY29uc3RydWN0b3IiLCJuYW1lIiwic3VybmFtZSIsIlBhc3N3b3JkIiwiZW1haWwiLCJnZXROYW1lIiwiZ2V0U3VybmFtZSIsImdldFBhc3N3b3JkIiwiZ2V0RW1haWwiLCJzZXROYW1lIiwic2V0U3VybmFtZSIsInNldFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzZXRFbWFpbCIsImZpbmRCeUVtYWlsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiZXJyIiwiZGIiLCJkYm8iLCJjb2xsZWN0aW9uIiwiZmluZE9uZSIsInJlc3VsdCIsImNvbW0iLCJjbG9zZSIsImFkZENvbW1pSW50ZXIiLCJDb21taUludGVyIiwiaW5zZXJ0T25lIiwidXBkYXRlUGFzc3dvcmQiLCJwYXNzIiwiZW1haWx2IiwibXlxdWVyeSIsIm5ld3ZhbHVlcyIsIiRzZXQiLCJ1cGRhdGVPbmUiLCJyZXMiLCJkZWxldGVDb21tSW50ZXIiLCJmaW5kT25lQW5kRGVsZXRlIiwidmFsdWUiLCJSZXRyaWV2ZUFsbCIsImZpbmQiLCJ0b0FycmF5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IndsYkFlWTsyRkFmWixHQUFJQSxDQUFBQSxXQUFXLDBCQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFQLENBQW1CRCxXQUF0QixDQUFmLENBRUE7QUFDQSxLQUFNRSxDQUFBQSxHQUFHLDBCQUFHLHlDQUFILENBQVQsQ0FFQTtBQUNBLEtBQU1DLENBQUFBLE1BQU0sMEJBQUcsZUFBSCxDQUFaLENBRUEsS0FBTUMsQ0FBQUEsVUFBVyxDQUNmO0FBQ0Y7QUFDQTtBQUNBLE9BQ0VDLFdBQVcsRUFBSSxpREFDYixLQUFLQyxJQUFMLENBQVksSUFBWixDQURh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LENBZE0sQ0FBUCxDQWVELENBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUNtQixNQUFYZSxDQUFBQSxXQUFXLEVBQUksbURBQ3JCLE1BQU8sSUFBSTVCLENBQUFBLE9BQUosQ0FBWSxTQUFVQyxPQUFWLENBQW1CQyxNQUFuQixDQUEyQixtREFDNUN0QixXQUFXLENBQUN1QixPQUFaLENBQW9CckIsR0FBcEIsQ0FBeUIsQ0FBRXNCLGVBQWUsQ0FBRSxJQUFuQixDQUF5QkMsa0JBQWtCLENBQUUsSUFBN0MsQ0FBekIsQ0FBOEUsU0FBVUMsR0FBVixDQUFlQyxFQUFmLENBQW1CLG1EQUMvRixHQUFJRCxHQUFKLENBQVMsc0RBQUFKLE1BQU0sQ0FBQ0ksR0FBRCxDQUFOLENBQVcsQ0FBcEIsa0NBQ0EsR0FBSUUsQ0FBQUEsR0FBRywyQkFBR0QsRUFBRSxDQUFDQSxFQUFILENBQU14QixNQUFOLENBQUgsQ0FBUCxDQUYrRix5QkFJL0Z5QixHQUFHLENBQUNDLFVBQUosQ0FBZSxZQUFmLEVBQTZCb0IsSUFBN0IsR0FBb0NDLE9BQXBDLENBQTRDLFNBQVV4QixHQUFWLENBQWVLLE1BQWYsQ0FBdUIsbURBQ2pFLEdBQUlMLEdBQUosQ0FBUywyREFBTUEsQ0FBQUEsR0FBTixDQUFTLENBQWxCLGtDQURpRSx5QkFFakVMLE9BQU8sQ0FBQ1UsTUFBRCxDQUFQLENBRmlFLHlCQUdqRUosRUFBRSxDQUFDTSxLQUFILEdBQ0QsQ0FKRCxFQUtELENBVEQsRUFVRCxDQVhNLENBQVAsQ0FZRCxDQS9MZ0IsQyx5QkFrTWpCa0IsTUFBTSxDQUFDQyxPQUFQLENBQWlCaEQsVUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTW9uZ29DbGllbnQgPSByZXF1aXJlKCdtb25nb2RiJykuTW9uZ29DbGllbnRcblxuLy8gRGF0YWJhc2UgVVJMXG5jb25zdCB1cmwgPSAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9lYXN5YWdyZWVtZW50J1xuXG4vLyBEYXRhYmFzZSBuYW1lXG5jb25zdCBkYk5hbWUgPSAnZWFzeWFncmVlbWVudCdcblxuY2xhc3MgQ29tbWlzc2lvbiB7XG4gIC8qKlxuICAgICAqIENvbnN0cnVjdG9yIG9mIGNvbW1pc3Npb25cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMubmFtZSA9IG51bGxcbiAgICB0aGlzLnN1cm5hbWUgPSBudWxsXG4gICAgdGhpcy5QYXNzd29yZCA9IG51bGxcbiAgICB0aGlzLmVtYWlsID0gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAgICogR2V0IG5hbWVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSAtIHJldHVybiBuYW1lXG4gICAgICovXG4gIGdldE5hbWUgKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWVcbiAgfVxuXG4gIC8qKlxuICAgICAqIEdldCBzdXJuYW1lXG4gICAgICogQHJldHVybnMge1N0cmluZ30gLSByZXR1cm4gc3VybmFtZVxuICAgICAqL1xuICBnZXRTdXJuYW1lICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdXJuYW1lXG4gIH1cblxuICAvKipcbiAgICAgKiBHZXQgcGFzc3dvcmRcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIHJldHVybiBwYXNzd29yZFxuICAgICAqL1xuICBnZXRQYXNzd29yZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuUGFzc3dvcmRcbiAgfVxuXG4gIC8qKlxuICAgICAqIEdldCBlbWFpbFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IC0gcmV0dXJuIGVtYWlsXG4gICAgICovXG4gIGdldEVtYWlsICgpIHtcbiAgICByZXR1cm4gdGhpcy5lbWFpbFxuICB9XG5cbiAgLyoqXG4gICAgICogU2V0IG5hbWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIG5hbWVcbiAgICAgKi9cbiAgc2V0TmFtZSAobmFtZSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgfVxuXG4gIC8qKlxuICAgICAqIFNldCBzdXJuYW1lXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN1cm5hbWUgLSBzdXJuYW1lXG4gICAgICovXG4gIHNldFN1cm5hbWUgKHN1cm5hbWUpIHtcbiAgICB0aGlzLnN1cm5hbWUgPSBzdXJuYW1lXG4gIH1cblxuICAvKipcbiAgICAgKiBTZXQgcGFzc3dvcmRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFzc3dvcmQgLSBwYXNzd29yZFxuICAgICAqL1xuICBzZXRQYXNzd29yZCAocGFzc3dvcmQpIHtcbiAgICB0aGlzLlBhc3N3b3JkID0gcGFzc3dvcmRcbiAgfVxuXG4gIC8qKlxuICAgICAqIFNldCBlbWFpbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbWFpbCAtIGVtYWlsXG4gICAgICovXG4gIHNldEVtYWlsIChlbWFpbCkge1xuICAgIHRoaXMuZW1haWwgPSBlbWFpbFxuICB9XG5cbiAgLyoqXG4gKiBGaW5kIGNvbW1pc3Npb24gYnkgZW1haWxcbiAqIEBwYXJhbSB7U3RyaW5nfSBlbWFpbC0gZW1haWwgb2YgY29tbWlzaW9uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSByZXR1cm4gdHJ1ZSBpZiB0aGUgb2JqZWN0IGRvZXMgbm90IGV4aXN0IGluIGRhdGFiYXNlLCBlbHNlIGZhbHNlXG4gKi9cbiAgc3RhdGljIGZpbmRCeUVtYWlsIChlbWFpbCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBNb25nb0NsaWVudC5jb25uZWN0KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBkYikge1xuICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKVxuICAgICAgICB2YXIgZGJvID0gZGIuZGIoZGJOYW1lKVxuICAgICAgICBkYm8uY29sbGVjdGlvbignQ29tbWlzc2lvbicpLmZpbmRPbmUoeyBlbWFpbDogZW1haWwgfSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGVycikgcmVqZWN0KGVycilcbiAgICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBjb21tID0gbmV3IENvbW1pc3Npb24oKVxuICAgICAgICAgICAgY29tbS5zZXRFbWFpbChyZXN1bHQuZW1haWwpXG4gICAgICAgICAgICBjb21tLnNldE5hbWUocmVzdWx0Lm5hbWUpXG4gICAgICAgICAgICBjb21tLnNldFN1cm5hbWUocmVzdWx0LnN1cm5hbWUpXG4gICAgICAgICAgICBjb21tLnNldFBhc3N3b3JkKHJlc3VsdC5QYXNzd29yZClcbiAgICAgICAgICAgIHJlc29sdmUoY29tbSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZShudWxsKVxuICAgICAgICAgIH1cbiAgICAgICAgICBkYi5jbG9zZSgpXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBzdGF0aWMgYWRkQ29tbWlJbnRlciAoQ29tbWlJbnRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBNb25nb0NsaWVudC5jb25uZWN0KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBkYikge1xuICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKVxuICAgICAgICB2YXIgZGJvID0gZGIuZGIoZGJOYW1lKVxuICAgICAgICBkYm8uY29sbGVjdGlvbignQ29tbWlzc2lvbicpLmluc2VydE9uZShDb21taUludGVyLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyXG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgZGIuY2xvc2UoKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIHVwZGF0ZSB0aGUgY29tbWlzc2lvbiBwYXNzd29yZCBcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkIC0gdGhlIG5ldyBjb21taXNzaW9uIHBhc3N3b3JkIFxuICAgKiBAcGFyYW0ge1N0cmluZ30gZW1haWx2IC0gY29tbWlzc2lvbiBlbWFpbFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIEl0IHJldHVybnMgdGhlIHVwZGF0ZWQgY29tbWlzc2lvbiBpZiByZXN1bHQgIT0gbnVsbCwgZWxzZSBpdCByZXR1cm5zIG51bGxcbiAgICovXG4gIHN0YXRpYyB1cGRhdGVQYXNzd29yZCAocGFzcywgZW1haWx2KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIE1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlIH0sIGZ1bmN0aW9uIChlcnIsIGRiKSB7XG4gICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXG4gICAgICAgIHZhciBkYm8gPSBkYi5kYihkYk5hbWUpXG4gICAgICAgIHZhciBteXF1ZXJ5ID0geyBlbWFpbDogZW1haWx2IH1cbiAgICAgICAgdmFyIG5ld3ZhbHVlcyA9IHsgJHNldDogeyBQYXNzd29yZDogcGFzcyB9IH1cbiAgICAgICAgZGJvLmNvbGxlY3Rpb24oJ0NvbW1pc3Npb24nKS51cGRhdGVPbmUobXlxdWVyeSwgbmV3dmFsdWVzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKVxuICAgICAgICB9KVxuICAgICAgICBkYm8uY29sbGVjdGlvbignQ29tbWlzc2lvbicpLmZpbmRPbmUoeyBlbWFpbDogZW1haWx2IH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXG4gICAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgY29tbSA9IG5ldyBDb21taXNzaW9uKClcbiAgICAgICAgICAgIGNvbW0uc2V0RW1haWwocmVzdWx0LmVtYWlsKVxuICAgICAgICAgICAgY29tbS5zZXROYW1lKHJlc3VsdC5uYW1lKVxuICAgICAgICAgICAgY29tbS5zZXRTdXJuYW1lKHJlc3VsdC5zdXJuYW1lKVxuICAgICAgICAgICAgY29tbS5zZXRQYXNzd29yZChyZXN1bHQuUGFzc3dvcmQpXG4gICAgICAgICAgICByZXNvbHZlKGNvbW0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUobnVsbClcbiAgICAgICAgICB9XG4gICAgICAgICAgZGIuY2xvc2UoKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuICB9XG4vKipcbiAgICogVGhpcyBtZXRob2QgZGVsZXRlcyBhbiBjb21taXMgYnkgZW1haWxcbiAgICogQHBhcmFtIHtlbWFpbH0gLSBjb21taXNzYXJpbyAgZW1haWxcbiAgICogQHJldHVybnMge0Jvb2xlYW59IC0gSXQgcmV0dXJucyB0cnVlIGlmIHRoZSBkZWxldGUgd2FzIHN1Y2Vzc2Z1bGwsIGVsc2UgZmFsc2VcbiAgICovXG4gc3RhdGljIGRlbGV0ZUNvbW1JbnRlciAoZW1haWwpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBNb25nb0NsaWVudC5jb25uZWN0KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBkYikge1xuICAgICAgaWYgKGVycikgcmVqZWN0KGVycilcbiAgICAgIHZhciBkYm8gPSBkYi5kYihkYk5hbWUpXG4gICAgICBkYm8uY29sbGVjdGlvbignQ29tbWlzc2lvbicpLmZpbmRPbmVBbmREZWxldGUoeyBlbWFpbDogZW1haWwgfSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgIGlmIChlcnIpIHRocm93IGVyclxuICAgICAgICBpZiAocmVzdWx0LnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICByZXNvbHZlKHRydWUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShmYWxzZSlcbiAgICAgICAgfVxuICAgICAgICBkYi5jbG9zZSgpXG4gICAgICB9KVxuICAgIH0pXG4gIH0pXG59XG4vKipcbiAqIFJldHJpZXZlIGFsbCBjb21taXNzaW9uXG4gKlxuICogQHJldHVybnMge3Byb21pc2V9IC0gcmV0dXJuIHByb21pc2VcbiAqL1xuIHN0YXRpYyBSZXRyaWV2ZUFsbCAoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgTW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIHsgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSwgZnVuY3Rpb24gKGVyciwgZGIpIHtcbiAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXG4gICAgICB2YXIgZGJvID0gZGIuZGIoZGJOYW1lKVxuXG4gICAgICBkYm8uY29sbGVjdGlvbignQ29tbWlzc2lvbicpLmZpbmQoKS50b0FycmF5KGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICBpZiAoZXJyKSB0aHJvdyBlcnJcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICAgIGRiLmNsb3NlKClcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcbn1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb21taXNzaW9uXG4iXX0=