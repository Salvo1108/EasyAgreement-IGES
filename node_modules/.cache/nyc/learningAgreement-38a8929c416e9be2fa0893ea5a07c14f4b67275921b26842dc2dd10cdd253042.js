function cov_1f1e89vxnx(){var path="/Users/salvatore/Desktop/EasyAgreement-IGES/app/models/learningAgreement.js";var hash="a327b2f39b43d2499521c14971326d29eee63120";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/salvatore/Desktop/EasyAgreement-IGES/app/models/learningAgreement.js",statementMap:{"0":{start:{line:1,column:18},end:{line:1,column:48}},"1":{start:{line:2,column:15},end:{line:2,column:42}},"2":{start:{line:3,column:13},end:{line:3,column:38}},"3":{start:{line:6,column:12},end:{line:6,column:53}},"4":{start:{line:9,column:15},end:{line:9,column:30}},"5":{start:{line:16,column:4},end:{line:16,column:23}},"6":{start:{line:17,column:4},end:{line:17,column:24}},"7":{start:{line:18,column:4},end:{line:18,column:25}},"8":{start:{line:19,column:4},end:{line:19,column:21}},"9":{start:{line:20,column:4},end:{line:20,column:20}},"10":{start:{line:28,column:4},end:{line:28,column:26}},"11":{start:{line:36,column:4},end:{line:36,column:23}},"12":{start:{line:44,column:4},end:{line:44,column:28}},"13":{start:{line:52,column:4},end:{line:52,column:24}},"14":{start:{line:60,column:4},end:{line:60,column:30}},"15":{start:{line:68,column:4},end:{line:68,column:25}},"16":{start:{line:76,column:4},end:{line:76,column:22}},"17":{start:{line:84,column:4},end:{line:84,column:21}},"18":{start:{line:92,column:4},end:{line:92,column:20}},"19":{start:{line:100,column:4},end:{line:100,column:20}},"20":{start:{line:108,column:4},end:{line:168,column:6}},"21":{start:{line:109,column:6},end:{line:167,column:8}},"22":{start:{line:110,column:8},end:{line:110,column:26}},"23":{start:{line:110,column:17},end:{line:110,column:26}},"24":{start:{line:111,column:18},end:{line:111,column:31}},"25":{start:{line:112,column:25},end:{line:112,column:27}},"26":{start:{line:113,column:18},end:{line:113,column:90}},"27":{start:{line:114,column:8},end:{line:166,column:10}},"28":{start:{line:115,column:10},end:{line:165,column:11}},"29":{start:{line:116,column:12},end:{line:116,column:50}},"30":{start:{line:117,column:12},end:{line:117,column:54}},"31":{start:{line:118,column:31},end:{line:118,column:125}},"32":{start:{line:119,column:12},end:{line:121,column:14}},"33":{start:{line:120,column:14},end:{line:120,column:23}},"34":{start:{line:122,column:17},end:{line:165,column:11}},"35":{start:{line:123,column:12},end:{line:123,column:50}},"36":{start:{line:124,column:12},end:{line:127,column:14}},"37":{start:{line:125,column:14},end:{line:125,column:32}},"38":{start:{line:125,column:23},end:{line:125,column:32}},"39":{start:{line:126,column:14},end:{line:126,column:23}},"40":{start:{line:128,column:17},end:{line:165,column:11}},"41":{start:{line:129,column:12},end:{line:129,column:69}},"42":{start:{line:130,column:12},end:{line:130,column:51}},"43":{start:{line:131,column:12},end:{line:131,column:39}},"44":{start:{line:132,column:12},end:{line:132,column:58}},"45":{start:{line:133,column:22},end:{line:133,column:97}},"46":{start:{line:134,column:12},end:{line:143,column:14}},"47":{start:{line:135,column:14},end:{line:137,column:16}},"48":{start:{line:136,column:16},end:{line:136,column:34}},"49":{start:{line:136,column:25},end:{line:136,column:34}},"50":{start:{line:139,column:14},end:{line:141,column:16}},"51":{start:{line:140,column:16},end:{line:140,column:34}},"52":{start:{line:140,column:25},end:{line:140,column:34}},"53":{start:{line:142,column:14},end:{line:142,column:23}},"54":{start:{line:144,column:17},end:{line:165,column:11}},"55":{start:{line:145,column:12},end:{line:145,column:69}},"56":{start:{line:146,column:12},end:{line:146,column:51}},"57":{start:{line:147,column:12},end:{line:147,column:39}},"58":{start:{line:148,column:12},end:{line:148,column:41}},"59":{start:{line:149,column:12},end:{line:149,column:93}},"60":{start:{line:150,column:12},end:{line:155,column:14}},"61":{start:{line:151,column:14},end:{line:154,column:16}},"62":{start:{line:152,column:16},end:{line:152,column:34}},"63":{start:{line:152,column:25},end:{line:152,column:34}},"64":{start:{line:153,column:16},end:{line:153,column:25}},"65":{start:{line:156,column:17},end:{line:165,column:11}},"66":{start:{line:157,column:12},end:{line:157,column:69}},"67":{start:{line:158,column:12},end:{line:158,column:51}},"68":{start:{line:159,column:12},end:{line:159,column:50}},"69":{start:{line:160,column:12},end:{line:160,column:41}},"70":{start:{line:161,column:12},end:{line:164,column:14}},"71":{start:{line:162,column:14},end:{line:162,column:32}},"72":{start:{line:162,column:23},end:{line:162,column:32}},"73":{start:{line:163,column:14},end:{line:163,column:23}},"74":{start:{line:177,column:4},end:{line:187,column:6}},"75":{start:{line:178,column:6},end:{line:186,column:8}},"76":{start:{line:179,column:8},end:{line:179,column:26}},"77":{start:{line:179,column:17},end:{line:179,column:26}},"78":{start:{line:180,column:18},end:{line:180,column:31}},"79":{start:{line:181,column:8},end:{line:185,column:10}},"80":{start:{line:182,column:10},end:{line:182,column:28}},"81":{start:{line:182,column:19},end:{line:182,column:28}},"82":{start:{line:183,column:10},end:{line:183,column:20}},"83":{start:{line:184,column:10},end:{line:184,column:25}},"84":{start:{line:196,column:4},end:{line:206,column:6}},"85":{start:{line:197,column:6},end:{line:205,column:8}},"86":{start:{line:198,column:8},end:{line:198,column:26}},"87":{start:{line:198,column:17},end:{line:198,column:26}},"88":{start:{line:199,column:18},end:{line:199,column:31}},"89":{start:{line:200,column:8},end:{line:204,column:10}},"90":{start:{line:201,column:10},end:{line:201,column:28}},"91":{start:{line:201,column:19},end:{line:201,column:28}},"92":{start:{line:202,column:10},end:{line:202,column:20}},"93":{start:{line:203,column:10},end:{line:203,column:19}},"94":{start:{line:215,column:4},end:{line:225,column:6}},"95":{start:{line:216,column:6},end:{line:224,column:8}},"96":{start:{line:217,column:8},end:{line:217,column:26}},"97":{start:{line:217,column:17},end:{line:217,column:26}},"98":{start:{line:218,column:18},end:{line:218,column:31}},"99":{start:{line:219,column:8},end:{line:223,column:10}},"100":{start:{line:220,column:10},end:{line:220,column:28}},"101":{start:{line:220,column:19},end:{line:220,column:28}},"102":{start:{line:221,column:10},end:{line:221,column:20}},"103":{start:{line:222,column:10},end:{line:222,column:19}},"104":{start:{line:233,column:4},end:{line:243,column:6}},"105":{start:{line:234,column:6},end:{line:242,column:8}},"106":{start:{line:235,column:8},end:{line:235,column:26}},"107":{start:{line:235,column:17},end:{line:235,column:26}},"108":{start:{line:236,column:18},end:{line:236,column:31}},"109":{start:{line:237,column:8},end:{line:241,column:10}},"110":{start:{line:238,column:10},end:{line:238,column:28}},"111":{start:{line:238,column:19},end:{line:238,column:28}},"112":{start:{line:239,column:10},end:{line:239,column:20}},"113":{start:{line:240,column:10},end:{line:240,column:19}},"114":{start:{line:252,column:4},end:{line:262,column:6}},"115":{start:{line:253,column:6},end:{line:261,column:8}},"116":{start:{line:254,column:8},end:{line:254,column:26}},"117":{start:{line:254,column:17},end:{line:254,column:26}},"118":{start:{line:255,column:18},end:{line:255,column:31}},"119":{start:{line:256,column:8},end:{line:260,column:10}},"120":{start:{line:257,column:10},end:{line:257,column:28}},"121":{start:{line:257,column:19},end:{line:257,column:28}},"122":{start:{line:258,column:10},end:{line:258,column:20}},"123":{start:{line:259,column:10},end:{line:259,column:25}},"124":{start:{line:272,column:4},end:{line:302,column:6}},"125":{start:{line:273,column:6},end:{line:301,column:8}},"126":{start:{line:274,column:8},end:{line:274,column:26}},"127":{start:{line:274,column:17},end:{line:274,column:26}},"128":{start:{line:275,column:18},end:{line:275,column:31}},"129":{start:{line:276,column:8},end:{line:300,column:9}},"130":{start:{line:277,column:10},end:{line:291,column:12}},"131":{start:{line:278,column:12},end:{line:278,column:30}},"132":{start:{line:278,column:21},end:{line:278,column:30}},"133":{start:{line:279,column:12},end:{line:290,column:13}},"134":{start:{line:280,column:14},end:{line:280,column:24}},"135":{start:{line:281,column:14},end:{line:281,column:29}},"136":{start:{line:283,column:14},end:{line:289,column:16}},"137":{start:{line:284,column:16},end:{line:284,column:34}},"138":{start:{line:284,column:25},end:{line:284,column:34}},"139":{start:{line:285,column:16},end:{line:288,column:17}},"140":{start:{line:286,column:18},end:{line:286,column:28}},"141":{start:{line:287,column:18},end:{line:287,column:33}},"142":{start:{line:293,column:10},end:{line:299,column:12}},"143":{start:{line:294,column:12},end:{line:294,column:30}},"144":{start:{line:294,column:21},end:{line:294,column:30}},"145":{start:{line:295,column:12},end:{line:298,column:13}},"146":{start:{line:296,column:14},end:{line:296,column:24}},"147":{start:{line:297,column:14},end:{line:297,column:29}},"148":{start:{line:306,column:0},end:{line:306,column:34}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:15,column:2},end:{line:15,column:3}},loc:{start:{line:15,column:17},end:{line:21,column:3}},line:15},"1":{name:"(anonymous_1)",decl:{start:{line:27,column:2},end:{line:27,column:3}},loc:{start:{line:27,column:23},end:{line:29,column:3}},line:27},"2":{name:"(anonymous_2)",decl:{start:{line:35,column:2},end:{line:35,column:3}},loc:{start:{line:35,column:16},end:{line:37,column:3}},line:35},"3":{name:"(anonymous_3)",decl:{start:{line:43,column:2},end:{line:43,column:3}},loc:{start:{line:43,column:25},end:{line:45,column:3}},line:43},"4":{name:"(anonymous_4)",decl:{start:{line:51,column:2},end:{line:51,column:3}},loc:{start:{line:51,column:17},end:{line:53,column:3}},line:51},"5":{name:"(anonymous_5)",decl:{start:{line:59,column:2},end:{line:59,column:3}},loc:{start:{line:59,column:27},end:{line:61,column:3}},line:59},"6":{name:"(anonymous_6)",decl:{start:{line:67,column:2},end:{line:67,column:3}},loc:{start:{line:67,column:18},end:{line:69,column:3}},line:67},"7":{name:"(anonymous_7)",decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:19},end:{line:77,column:3}},line:75},"8":{name:"(anonymous_8)",decl:{start:{line:83,column:2},end:{line:83,column:3}},loc:{start:{line:83,column:14},end:{line:85,column:3}},line:83},"9":{name:"(anonymous_9)",decl:{start:{line:91,column:2},end:{line:91,column:3}},loc:{start:{line:91,column:17},end:{line:93,column:3}},line:91},"10":{name:"(anonymous_10)",decl:{start:{line:99,column:2},end:{line:99,column:3}},loc:{start:{line:99,column:13},end:{line:101,column:3}},line:99},"11":{name:"(anonymous_11)",decl:{start:{line:107,column:2},end:{line:107,column:3}},loc:{start:{line:107,column:53},end:{line:169,column:3}},line:107},"12":{name:"(anonymous_12)",decl:{start:{line:108,column:23},end:{line:108,column:24}},loc:{start:{line:108,column:50},end:{line:168,column:5}},line:108},"13":{name:"(anonymous_13)",decl:{start:{line:109,column:84},end:{line:109,column:85}},loc:{start:{line:109,column:103},end:{line:167,column:7}},line:109},"14":{name:"(anonymous_14)",decl:{start:{line:114,column:17},end:{line:114,column:18}},loc:{start:{line:114,column:35},end:{line:166,column:9}},line:114},"15":{name:"(anonymous_15)",decl:{start:{line:119,column:30},end:{line:119,column:31}},loc:{start:{line:119,column:42},end:{line:121,column:13}},line:119},"16":{name:"(anonymous_16)",decl:{start:{line:124,column:85},end:{line:124,column:86}},loc:{start:{line:124,column:100},end:{line:127,column:13}},line:124},"17":{name:"(anonymous_17)",decl:{start:{line:134,column:21},end:{line:134,column:22}},loc:{start:{line:134,column:33},end:{line:143,column:13}},line:134},"18":{name:"(anonymous_18)",decl:{start:{line:135,column:87},end:{line:135,column:88}},loc:{start:{line:135,column:102},end:{line:137,column:15}},line:135},"19":{name:"(anonymous_19)",decl:{start:{line:139,column:77},end:{line:139,column:78}},loc:{start:{line:139,column:92},end:{line:141,column:15}},line:139},"20":{name:"(anonymous_20)",decl:{start:{line:150,column:21},end:{line:150,column:22}},loc:{start:{line:150,column:33},end:{line:155,column:13}},line:150},"21":{name:"(anonymous_21)",decl:{start:{line:151,column:87},end:{line:151,column:88}},loc:{start:{line:151,column:102},end:{line:154,column:15}},line:151},"22":{name:"(anonymous_22)",decl:{start:{line:161,column:85},end:{line:161,column:86}},loc:{start:{line:161,column:100},end:{line:164,column:13}},line:161},"23":{name:"(anonymous_23)",decl:{start:{line:176,column:2},end:{line:176,column:3}},loc:{start:{line:176,column:42},end:{line:188,column:3}},line:176},"24":{name:"(anonymous_24)",decl:{start:{line:177,column:23},end:{line:177,column:24}},loc:{start:{line:177,column:50},end:{line:187,column:5}},line:177},"25":{name:"(anonymous_25)",decl:{start:{line:178,column:84},end:{line:178,column:85}},loc:{start:{line:178,column:103},end:{line:186,column:7}},line:178},"26":{name:"(anonymous_26)",decl:{start:{line:181,column:86},end:{line:181,column:87}},loc:{start:{line:181,column:109},end:{line:185,column:9}},line:181},"27":{name:"(anonymous_27)",decl:{start:{line:195,column:2},end:{line:195,column:3}},loc:{start:{line:195,column:40},end:{line:207,column:3}},line:195},"28":{name:"(anonymous_28)",decl:{start:{line:196,column:23},end:{line:196,column:24}},loc:{start:{line:196,column:50},end:{line:206,column:5}},line:196},"29":{name:"(anonymous_29)",decl:{start:{line:197,column:84},end:{line:197,column:85}},loc:{start:{line:197,column:103},end:{line:205,column:7}},line:197},"30":{name:"(anonymous_30)",decl:{start:{line:200,column:116},end:{line:200,column:117}},loc:{start:{line:200,column:139},end:{line:204,column:9}},line:200},"31":{name:"(anonymous_31)",decl:{start:{line:214,column:2},end:{line:214,column:3}},loc:{start:{line:214,column:38},end:{line:226,column:3}},line:214},"32":{name:"(anonymous_32)",decl:{start:{line:215,column:23},end:{line:215,column:24}},loc:{start:{line:215,column:50},end:{line:225,column:5}},line:215},"33":{name:"(anonymous_33)",decl:{start:{line:216,column:84},end:{line:216,column:85}},loc:{start:{line:216,column:103},end:{line:224,column:7}},line:216},"34":{name:"(anonymous_34)",decl:{start:{line:219,column:117},end:{line:219,column:118}},loc:{start:{line:219,column:140},end:{line:223,column:9}},line:219},"35":{name:"(anonymous_35)",decl:{start:{line:232,column:2},end:{line:232,column:3}},loc:{start:{line:232,column:45},end:{line:244,column:3}},line:232},"36":{name:"(anonymous_36)",decl:{start:{line:233,column:23},end:{line:233,column:24}},loc:{start:{line:233,column:50},end:{line:243,column:5}},line:233},"37":{name:"(anonymous_37)",decl:{start:{line:234,column:84},end:{line:234,column:85}},loc:{start:{line:234,column:103},end:{line:242,column:7}},line:234},"38":{name:"(anonymous_38)",decl:{start:{line:237,column:88},end:{line:237,column:89}},loc:{start:{line:237,column:103},end:{line:241,column:9}},line:237},"39":{name:"(anonymous_39)",decl:{start:{line:251,column:2},end:{line:251,column:3}},loc:{start:{line:251,column:36},end:{line:263,column:3}},line:251},"40":{name:"(anonymous_40)",decl:{start:{line:252,column:23},end:{line:252,column:24}},loc:{start:{line:252,column:50},end:{line:262,column:5}},line:252},"41":{name:"(anonymous_41)",decl:{start:{line:253,column:84},end:{line:253,column:85}},loc:{start:{line:253,column:103},end:{line:261,column:7}},line:253},"42":{name:"(anonymous_42)",decl:{start:{line:256,column:92},end:{line:256,column:93}},loc:{start:{line:256,column:115},end:{line:260,column:9}},line:256},"43":{name:"(anonymous_43)",decl:{start:{line:271,column:2},end:{line:271,column:3}},loc:{start:{line:271,column:27},end:{line:303,column:3}},line:271},"44":{name:"(anonymous_44)",decl:{start:{line:272,column:23},end:{line:272,column:24}},loc:{start:{line:272,column:50},end:{line:302,column:5}},line:272},"45":{name:"(anonymous_45)",decl:{start:{line:273,column:84},end:{line:273,column:85}},loc:{start:{line:273,column:103},end:{line:301,column:7}},line:273},"46":{name:"(anonymous_46)",decl:{start:{line:277,column:105},end:{line:277,column:106}},loc:{start:{line:277,column:128},end:{line:291,column:11}},line:277},"47":{name:"(anonymous_47)",decl:{start:{line:283,column:108},end:{line:283,column:109}},loc:{start:{line:283,column:131},end:{line:289,column:15}},line:283},"48":{name:"(anonymous_48)",decl:{start:{line:293,column:84},end:{line:293,column:85}},loc:{start:{line:293,column:107},end:{line:299,column:11}},line:293}},branchMap:{"0":{loc:{start:{line:110,column:8},end:{line:110,column:26}},type:"if",locations:[{start:{line:110,column:8},end:{line:110,column:26}},{start:{line:110,column:8},end:{line:110,column:26}}],line:110},"1":{loc:{start:{line:115,column:10},end:{line:165,column:11}},type:"if",locations:[{start:{line:115,column:10},end:{line:165,column:11}},{start:{line:115,column:10},end:{line:165,column:11}}],line:115},"2":{loc:{start:{line:115,column:14},end:{line:115,column:180}},type:"binary-expr",locations:[{start:{line:115,column:14},end:{line:115,column:20}},{start:{line:115,column:26},end:{line:115,column:42}},{start:{line:115,column:46},end:{line:115,column:96}},{start:{line:115,column:102},end:{line:115,column:117}},{start:{line:115,column:121},end:{line:115,column:178}}],line:115},"3":{loc:{start:{line:122,column:17},end:{line:165,column:11}},type:"if",locations:[{start:{line:122,column:17},end:{line:165,column:11}},{start:{line:122,column:17},end:{line:165,column:11}}],line:122},"4":{loc:{start:{line:122,column:21},end:{line:122,column:82}},type:"binary-expr",locations:[{start:{line:122,column:21},end:{line:122,column:28}},{start:{line:122,column:32},end:{line:122,column:82}}],line:122},"5":{loc:{start:{line:125,column:14},end:{line:125,column:32}},type:"if",locations:[{start:{line:125,column:14},end:{line:125,column:32}},{start:{line:125,column:14},end:{line:125,column:32}}],line:125},"6":{loc:{start:{line:128,column:17},end:{line:165,column:11}},type:"if",locations:[{start:{line:128,column:17},end:{line:165,column:11}},{start:{line:128,column:17},end:{line:165,column:11}}],line:128},"7":{loc:{start:{line:128,column:21},end:{line:128,column:64}},type:"binary-expr",locations:[{start:{line:128,column:21},end:{line:128,column:27}},{start:{line:128,column:31},end:{line:128,column:46}},{start:{line:128,column:50},end:{line:128,column:64}}],line:128},"8":{loc:{start:{line:136,column:16},end:{line:136,column:34}},type:"if",locations:[{start:{line:136,column:16},end:{line:136,column:34}},{start:{line:136,column:16},end:{line:136,column:34}}],line:136},"9":{loc:{start:{line:140,column:16},end:{line:140,column:34}},type:"if",locations:[{start:{line:140,column:16},end:{line:140,column:34}},{start:{line:140,column:16},end:{line:140,column:34}}],line:140},"10":{loc:{start:{line:144,column:17},end:{line:165,column:11}},type:"if",locations:[{start:{line:144,column:17},end:{line:165,column:11}},{start:{line:144,column:17},end:{line:165,column:11}}],line:144},"11":{loc:{start:{line:144,column:21},end:{line:144,column:81}},type:"binary-expr",locations:[{start:{line:144,column:21},end:{line:144,column:27}},{start:{line:144,column:31},end:{line:144,column:81}}],line:144},"12":{loc:{start:{line:152,column:16},end:{line:152,column:34}},type:"if",locations:[{start:{line:152,column:16},end:{line:152,column:34}},{start:{line:152,column:16},end:{line:152,column:34}}],line:152},"13":{loc:{start:{line:156,column:17},end:{line:165,column:11}},type:"if",locations:[{start:{line:156,column:17},end:{line:165,column:11}},{start:{line:156,column:17},end:{line:165,column:11}}],line:156},"14":{loc:{start:{line:162,column:14},end:{line:162,column:32}},type:"if",locations:[{start:{line:162,column:14},end:{line:162,column:32}},{start:{line:162,column:14},end:{line:162,column:32}}],line:162},"15":{loc:{start:{line:179,column:8},end:{line:179,column:26}},type:"if",locations:[{start:{line:179,column:8},end:{line:179,column:26}},{start:{line:179,column:8},end:{line:179,column:26}}],line:179},"16":{loc:{start:{line:182,column:10},end:{line:182,column:28}},type:"if",locations:[{start:{line:182,column:10},end:{line:182,column:28}},{start:{line:182,column:10},end:{line:182,column:28}}],line:182},"17":{loc:{start:{line:198,column:8},end:{line:198,column:26}},type:"if",locations:[{start:{line:198,column:8},end:{line:198,column:26}},{start:{line:198,column:8},end:{line:198,column:26}}],line:198},"18":{loc:{start:{line:201,column:10},end:{line:201,column:28}},type:"if",locations:[{start:{line:201,column:10},end:{line:201,column:28}},{start:{line:201,column:10},end:{line:201,column:28}}],line:201},"19":{loc:{start:{line:217,column:8},end:{line:217,column:26}},type:"if",locations:[{start:{line:217,column:8},end:{line:217,column:26}},{start:{line:217,column:8},end:{line:217,column:26}}],line:217},"20":{loc:{start:{line:220,column:10},end:{line:220,column:28}},type:"if",locations:[{start:{line:220,column:10},end:{line:220,column:28}},{start:{line:220,column:10},end:{line:220,column:28}}],line:220},"21":{loc:{start:{line:235,column:8},end:{line:235,column:26}},type:"if",locations:[{start:{line:235,column:8},end:{line:235,column:26}},{start:{line:235,column:8},end:{line:235,column:26}}],line:235},"22":{loc:{start:{line:238,column:10},end:{line:238,column:28}},type:"if",locations:[{start:{line:238,column:10},end:{line:238,column:28}},{start:{line:238,column:10},end:{line:238,column:28}}],line:238},"23":{loc:{start:{line:254,column:8},end:{line:254,column:26}},type:"if",locations:[{start:{line:254,column:8},end:{line:254,column:26}},{start:{line:254,column:8},end:{line:254,column:26}}],line:254},"24":{loc:{start:{line:257,column:10},end:{line:257,column:28}},type:"if",locations:[{start:{line:257,column:10},end:{line:257,column:28}},{start:{line:257,column:10},end:{line:257,column:28}}],line:257},"25":{loc:{start:{line:274,column:8},end:{line:274,column:26}},type:"if",locations:[{start:{line:274,column:8},end:{line:274,column:26}},{start:{line:274,column:8},end:{line:274,column:26}}],line:274},"26":{loc:{start:{line:276,column:8},end:{line:300,column:9}},type:"if",locations:[{start:{line:276,column:8},end:{line:300,column:9}},{start:{line:276,column:8},end:{line:300,column:9}}],line:276},"27":{loc:{start:{line:278,column:12},end:{line:278,column:30}},type:"if",locations:[{start:{line:278,column:12},end:{line:278,column:30}},{start:{line:278,column:12},end:{line:278,column:30}}],line:278},"28":{loc:{start:{line:279,column:12},end:{line:290,column:13}},type:"if",locations:[{start:{line:279,column:12},end:{line:290,column:13}},{start:{line:279,column:12},end:{line:290,column:13}}],line:279},"29":{loc:{start:{line:284,column:16},end:{line:284,column:34}},type:"if",locations:[{start:{line:284,column:16},end:{line:284,column:34}},{start:{line:284,column:16},end:{line:284,column:34}}],line:284},"30":{loc:{start:{line:285,column:16},end:{line:288,column:17}},type:"if",locations:[{start:{line:285,column:16},end:{line:288,column:17}},{start:{line:285,column:16},end:{line:288,column:17}}],line:285},"31":{loc:{start:{line:294,column:12},end:{line:294,column:30}},type:"if",locations:[{start:{line:294,column:12},end:{line:294,column:30}},{start:{line:294,column:12},end:{line:294,column:30}}],line:294},"32":{loc:{start:{line:295,column:12},end:{line:298,column:13}},type:"if",locations:[{start:{line:295,column:12},end:{line:298,column:13}},{start:{line:295,column:12},end:{line:298,column:13}}],line:295}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0},b:{"0":[0,0],"1":[0,0],"2":[0,0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a327b2f39b43d2499521c14971326d29eee63120"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1f1e89vxnx=function(){return actualCoverage;};}return actualCoverage;}cov_1f1e89vxnx();var MongoClient=(cov_1f1e89vxnx().s[0]++,require('mongodb').MongoClient);var ObjectID=(cov_1f1e89vxnx().s[1]++,require('mongodb').ObjectID);var Binary=(cov_1f1e89vxnx().s[2]++,require('mongodb').Binary);// Database URL
const url=(cov_1f1e89vxnx().s[3]++,'mongodb://localhost:27017/easyagreement');// Database name
const dbName=(cov_1f1e89vxnx().s[4]++,'easyagreement');/**
 * This module represents a Learning Agreement
 * @module LearningAgreement
 */class LearningAgreement{constructor(){cov_1f1e89vxnx().f[0]++;cov_1f1e89vxnx().s[5]++;this.filling=null;cov_1f1e89vxnx().s[6]++;this.document=null;cov_1f1e89vxnx().s[7]++;this.studentID=null;cov_1f1e89vxnx().s[8]++;this.state=null;cov_1f1e89vxnx().s[9]++;this.date=null;}/**
   * This method sets the Learing Agreement's filling
   * @param {JSON} filling
   */setFilling(filling){cov_1f1e89vxnx().f[1]++;cov_1f1e89vxnx().s[10]++;this.filling=filling;}/**
   * This method gets the Learning Agreement's filling
   * @returns {JSON}
   */getFilling(){cov_1f1e89vxnx().f[2]++;cov_1f1e89vxnx().s[11]++;return this.filling;}/**
   * This method sets the Learing Agreement's document
   * @param {ReadableStream} document
   */setDocument(document){cov_1f1e89vxnx().f[3]++;cov_1f1e89vxnx().s[12]++;this.document=document;}/**
   * This method gets the Learning Agreement's document
   * @returns {ReadableStream}
   */getDocument(){cov_1f1e89vxnx().f[4]++;cov_1f1e89vxnx().s[13]++;return this.document;}/**
   * This method sets the Learning Agreement's student's email
   * @param {String} state
   */setStudentID(studentID){cov_1f1e89vxnx().f[5]++;cov_1f1e89vxnx().s[14]++;this.studentID=studentID;}/**
   * This method gets the Learning Agreement's student's email
   * @returns {String}
   */getStudentID(){cov_1f1e89vxnx().f[6]++;cov_1f1e89vxnx().s[15]++;return this.studentID;}/**
   * This method sets the Learing Agreement's state
   * @param {String} state
   */setState(state){cov_1f1e89vxnx().f[7]++;cov_1f1e89vxnx().s[16]++;this.state=state;}/**
   * This method gets the Learning Agreement's state
   * @returns {String}
   */getState(){cov_1f1e89vxnx().f[8]++;cov_1f1e89vxnx().s[17]++;return this.state;}/**
   * This method sets the Learing Agreement's date
   * @param {String} date
   */setDate(date){cov_1f1e89vxnx().f[9]++;cov_1f1e89vxnx().s[18]++;this.date=date;}/**
   * This method gets the Learning Agreement's date
   * @returns {String}
   */getDate(){cov_1f1e89vxnx().f[10]++;cov_1f1e89vxnx().s[19]++;return this.date;}/**
   * This method inserts a new Learning Agreement and handles the versioning process
   * @param {LearningAgreement} learningAgreement - The Learnign Agreement object to insert
   */static insertLearningAgreement(learningAgreement){cov_1f1e89vxnx().f[11]++;cov_1f1e89vxnx().s[20]++;return new Promise(function(resolve,reject){cov_1f1e89vxnx().f[12]++;cov_1f1e89vxnx().s[21]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_1f1e89vxnx().f[13]++;cov_1f1e89vxnx().s[22]++;if(err){cov_1f1e89vxnx().b[0][0]++;cov_1f1e89vxnx().s[23]++;throw err;}else{cov_1f1e89vxnx().b[0][1]++;}var dbo=(cov_1f1e89vxnx().s[24]++,db.db(dbName));var insertData=(cov_1f1e89vxnx().s[25]++,{});var get=(cov_1f1e89vxnx().s[26]++,LearningAgreement.getLearningAgreement(learningAgreement.getStudentID()));cov_1f1e89vxnx().s[27]++;get.then(function(result){cov_1f1e89vxnx().f[14]++;cov_1f1e89vxnx().s[28]++;if((cov_1f1e89vxnx().b[2][0]++,result)&&((cov_1f1e89vxnx().b[2][1]++,!result.document)&&(cov_1f1e89vxnx().b[2][2]++,learningAgreement.getState().startsWith('Salvato'))||(cov_1f1e89vxnx().b[2][3]++,result.document)&&(cov_1f1e89vxnx().b[2][4]++,learningAgreement.getState().startsWith('In valutazione')))){cov_1f1e89vxnx().b[1][0]++;cov_1f1e89vxnx().s[29]++;learningAgreement._id=new ObjectID();cov_1f1e89vxnx().s[30]++;learningAgreement.version=result.version;var updateDataPr=(cov_1f1e89vxnx().s[31]++,LearningAgreement.updateData(learningAgreement.getStudentID(),learningAgreement.getFilling()));cov_1f1e89vxnx().s[32]++;updateDataPr.then(function(){cov_1f1e89vxnx().f[15]++;cov_1f1e89vxnx().s[33]++;resolve();});}else{cov_1f1e89vxnx().b[1][1]++;cov_1f1e89vxnx().s[34]++;if((cov_1f1e89vxnx().b[4][0]++,!result)&&(cov_1f1e89vxnx().b[4][1]++,learningAgreement.getState().startsWith('Salvato'))){cov_1f1e89vxnx().b[3][0]++;cov_1f1e89vxnx().s[35]++;learningAgreement._id=new ObjectID();cov_1f1e89vxnx().s[36]++;dbo.collection('current_LearningAgreement').insertOne(learningAgreement,function(err){cov_1f1e89vxnx().f[16]++;cov_1f1e89vxnx().s[37]++;if(err){cov_1f1e89vxnx().b[5][0]++;cov_1f1e89vxnx().s[38]++;throw err;}else{cov_1f1e89vxnx().b[5][1]++;}cov_1f1e89vxnx().s[39]++;resolve();});}else{cov_1f1e89vxnx().b[3][1]++;cov_1f1e89vxnx().s[40]++;if((cov_1f1e89vxnx().b[7][0]++,result)&&(cov_1f1e89vxnx().b[7][1]++,result.document)&&(cov_1f1e89vxnx().b[7][2]++,result.version)){cov_1f1e89vxnx().b[6][0]++;cov_1f1e89vxnx().s[41]++;insertData.file_data=Binary(learningAgreement.document);cov_1f1e89vxnx().s[42]++;learningAgreement.document=insertData;cov_1f1e89vxnx().s[43]++;result._id=new ObjectID();cov_1f1e89vxnx().s[44]++;learningAgreement.version=result.version+1;var del=(cov_1f1e89vxnx().s[45]++,LearningAgreement.deleteLearningAgreement(learningAgreement.getStudentID()));cov_1f1e89vxnx().s[46]++;del.then(function(){cov_1f1e89vxnx().f[17]++;cov_1f1e89vxnx().s[47]++;dbo.collection('current_LearningAgreement').insertOne(learningAgreement,function(err){cov_1f1e89vxnx().f[18]++;cov_1f1e89vxnx().s[48]++;if(err){cov_1f1e89vxnx().b[8][0]++;cov_1f1e89vxnx().s[49]++;throw err;}else{cov_1f1e89vxnx().b[8][1]++;}});cov_1f1e89vxnx().s[50]++;dbo.collection('LearningAgreement_revision').insertOne(result,function(err){cov_1f1e89vxnx().f[19]++;cov_1f1e89vxnx().s[51]++;if(err){cov_1f1e89vxnx().b[9][0]++;cov_1f1e89vxnx().s[52]++;throw err;}else{cov_1f1e89vxnx().b[9][1]++;}});cov_1f1e89vxnx().s[53]++;resolve();});}else{cov_1f1e89vxnx().b[6][1]++;cov_1f1e89vxnx().s[54]++;if((cov_1f1e89vxnx().b[11][0]++,result)&&(cov_1f1e89vxnx().b[11][1]++,learningAgreement.getState().startsWith('Inviato'))){cov_1f1e89vxnx().b[10][0]++;cov_1f1e89vxnx().s[55]++;insertData.file_data=Binary(learningAgreement.document);cov_1f1e89vxnx().s[56]++;learningAgreement.document=insertData;cov_1f1e89vxnx().s[57]++;result._id=new ObjectID();cov_1f1e89vxnx().s[58]++;learningAgreement.version=1;cov_1f1e89vxnx().s[59]++;del=LearningAgreement.deleteLearningAgreement(learningAgreement.getStudentID());cov_1f1e89vxnx().s[60]++;del.then(function(){cov_1f1e89vxnx().f[20]++;cov_1f1e89vxnx().s[61]++;dbo.collection('current_LearningAgreement').insertOne(learningAgreement,function(err){cov_1f1e89vxnx().f[21]++;cov_1f1e89vxnx().s[62]++;if(err){cov_1f1e89vxnx().b[12][0]++;cov_1f1e89vxnx().s[63]++;throw err;}else{cov_1f1e89vxnx().b[12][1]++;}cov_1f1e89vxnx().s[64]++;resolve();});});}else{cov_1f1e89vxnx().b[10][1]++;cov_1f1e89vxnx().s[65]++;if(!result){cov_1f1e89vxnx().b[13][0]++;cov_1f1e89vxnx().s[66]++;insertData.file_data=Binary(learningAgreement.document);cov_1f1e89vxnx().s[67]++;learningAgreement.document=insertData;cov_1f1e89vxnx().s[68]++;learningAgreement._id=new ObjectID();cov_1f1e89vxnx().s[69]++;learningAgreement.version=1;cov_1f1e89vxnx().s[70]++;dbo.collection('current_LearningAgreement').insertOne(learningAgreement,function(err){cov_1f1e89vxnx().f[22]++;cov_1f1e89vxnx().s[71]++;if(err){cov_1f1e89vxnx().b[14][0]++;cov_1f1e89vxnx().s[72]++;throw err;}else{cov_1f1e89vxnx().b[14][1]++;}cov_1f1e89vxnx().s[73]++;resolve();});}else{cov_1f1e89vxnx().b[13][1]++;}}}}}});});});}/**
   * This method retrieves a specific (current) Learning Agreement
   * @param {String} studentID - The student's email
   * @returns {LearningAgreement} - The current Learning Agreement
   */static getLearningAgreement(studentID){cov_1f1e89vxnx().f[23]++;cov_1f1e89vxnx().s[74]++;return new Promise(function(resolve,reject){cov_1f1e89vxnx().f[24]++;cov_1f1e89vxnx().s[75]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_1f1e89vxnx().f[25]++;cov_1f1e89vxnx().s[76]++;if(err){cov_1f1e89vxnx().b[15][0]++;cov_1f1e89vxnx().s[77]++;throw err;}else{cov_1f1e89vxnx().b[15][1]++;}var dbo=(cov_1f1e89vxnx().s[78]++,db.db(dbName));cov_1f1e89vxnx().s[79]++;dbo.collection('current_LearningAgreement').findOne({studentID:studentID},function(err,result){cov_1f1e89vxnx().f[26]++;cov_1f1e89vxnx().s[80]++;if(err){cov_1f1e89vxnx().b[16][0]++;cov_1f1e89vxnx().s[81]++;throw err;}else{cov_1f1e89vxnx().b[16][1]++;}cov_1f1e89vxnx().s[82]++;db.close();cov_1f1e89vxnx().s[83]++;resolve(result);});});});}/**
   * This method updates the state of a (current) Learning Agreement
   * @param {String} studentID - The student's email
   * @param {String} state - The new state
   */static updateState(studentID,state){cov_1f1e89vxnx().f[27]++;cov_1f1e89vxnx().s[84]++;return new Promise(function(resolve,reject){cov_1f1e89vxnx().f[28]++;cov_1f1e89vxnx().s[85]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_1f1e89vxnx().f[29]++;cov_1f1e89vxnx().s[86]++;if(err){cov_1f1e89vxnx().b[17][0]++;cov_1f1e89vxnx().s[87]++;throw err;}else{cov_1f1e89vxnx().b[17][1]++;}var dbo=(cov_1f1e89vxnx().s[88]++,db.db(dbName));cov_1f1e89vxnx().s[89]++;dbo.collection('current_LearningAgreement').updateOne({studentID:studentID},{$set:{state:state}},function(err,result){cov_1f1e89vxnx().f[30]++;cov_1f1e89vxnx().s[90]++;if(err){cov_1f1e89vxnx().b[18][0]++;cov_1f1e89vxnx().s[91]++;throw err;}else{cov_1f1e89vxnx().b[18][1]++;}cov_1f1e89vxnx().s[92]++;db.close();cov_1f1e89vxnx().s[93]++;resolve();});});});}/**
   * Thi method updates the filling data of the student's Learning Agreement
   * @param {String} studentID
   * @param {JSON} data
   */static updateData(studentID,data){cov_1f1e89vxnx().f[31]++;cov_1f1e89vxnx().s[94]++;return new Promise(function(resolve,reject){cov_1f1e89vxnx().f[32]++;cov_1f1e89vxnx().s[95]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_1f1e89vxnx().f[33]++;cov_1f1e89vxnx().s[96]++;if(err){cov_1f1e89vxnx().b[19][0]++;cov_1f1e89vxnx().s[97]++;throw err;}else{cov_1f1e89vxnx().b[19][1]++;}var dbo=(cov_1f1e89vxnx().s[98]++,db.db(dbName));cov_1f1e89vxnx().s[99]++;dbo.collection('current_LearningAgreement').updateOne({studentID:studentID},{$set:{filling:data}},function(err,result){cov_1f1e89vxnx().f[34]++;cov_1f1e89vxnx().s[100]++;if(err){cov_1f1e89vxnx().b[20][0]++;cov_1f1e89vxnx().s[101]++;throw err;}else{cov_1f1e89vxnx().b[20][1]++;}cov_1f1e89vxnx().s[102]++;db.close();cov_1f1e89vxnx().s[103]++;resolve();});});});}/**
   * This method deletes a Learning Agreement
   * @param {String} studentID - The student's email
   */static deleteLearningAgreement(studentID){cov_1f1e89vxnx().f[35]++;cov_1f1e89vxnx().s[104]++;return new Promise(function(resolve,reject){cov_1f1e89vxnx().f[36]++;cov_1f1e89vxnx().s[105]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_1f1e89vxnx().f[37]++;cov_1f1e89vxnx().s[106]++;if(err){cov_1f1e89vxnx().b[21][0]++;cov_1f1e89vxnx().s[107]++;throw err;}else{cov_1f1e89vxnx().b[21][1]++;}var dbo=(cov_1f1e89vxnx().s[108]++,db.db(dbName));cov_1f1e89vxnx().s[109]++;dbo.collection('current_LearningAgreement').deleteOne({studentID:studentID},function(err){cov_1f1e89vxnx().f[38]++;cov_1f1e89vxnx().s[110]++;if(err){cov_1f1e89vxnx().b[22][0]++;cov_1f1e89vxnx().s[111]++;throw err;}else{cov_1f1e89vxnx().b[22][1]++;}cov_1f1e89vxnx().s[112]++;db.close();cov_1f1e89vxnx().s[113]++;resolve();});});});}/**
   * gets older versions of a Learning Agreement
   * @param {String} studentID - The student's email
   * @returns {Array} The list of the requests
   */static getOldVersions(studentID){cov_1f1e89vxnx().f[39]++;cov_1f1e89vxnx().s[114]++;return new Promise(function(resolve,reject){cov_1f1e89vxnx().f[40]++;cov_1f1e89vxnx().s[115]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_1f1e89vxnx().f[41]++;cov_1f1e89vxnx().s[116]++;if(err){cov_1f1e89vxnx().b[23][0]++;cov_1f1e89vxnx().s[117]++;throw err;}else{cov_1f1e89vxnx().b[23][1]++;}var dbo=(cov_1f1e89vxnx().s[118]++,db.db(dbName));cov_1f1e89vxnx().s[119]++;dbo.collection('LearningAgreement_revision').find({studentID:studentID}).toArray(function(err,result){cov_1f1e89vxnx().f[42]++;cov_1f1e89vxnx().s[120]++;if(err){cov_1f1e89vxnx().b[24][0]++;cov_1f1e89vxnx().s[121]++;throw err;}else{cov_1f1e89vxnx().b[24][1]++;}cov_1f1e89vxnx().s[122]++;db.close();cov_1f1e89vxnx().s[123]++;resolve(result);});});});}/**
   * This method gets the ReadableStream of a LearningAgreement's version selected
   * @param {String} v - The Lerning Agreement's version
   * @param {String} email - The student's email
   * @returns {ReadableStream} - The Readable stream of the Learning Agreement
   */static getPdf(v,email){cov_1f1e89vxnx().f[43]++;cov_1f1e89vxnx().s[124]++;return new Promise(function(resolve,reject){cov_1f1e89vxnx().f[44]++;cov_1f1e89vxnx().s[125]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_1f1e89vxnx().f[45]++;cov_1f1e89vxnx().s[126]++;if(err){cov_1f1e89vxnx().b[25][0]++;cov_1f1e89vxnx().s[127]++;throw err;}else{cov_1f1e89vxnx().b[25][1]++;}var dbo=(cov_1f1e89vxnx().s[128]++,db.db(dbName));cov_1f1e89vxnx().s[129]++;if(v){cov_1f1e89vxnx().b[26][0]++;cov_1f1e89vxnx().s[130]++;dbo.collection('LearningAgreement_revision').findOne({version:Number(v),studentID:email},function(err,result){cov_1f1e89vxnx().f[46]++;cov_1f1e89vxnx().s[131]++;if(err){cov_1f1e89vxnx().b[27][0]++;cov_1f1e89vxnx().s[132]++;throw err;}else{cov_1f1e89vxnx().b[27][1]++;}cov_1f1e89vxnx().s[133]++;if(result){cov_1f1e89vxnx().b[28][0]++;cov_1f1e89vxnx().s[134]++;db.close();cov_1f1e89vxnx().s[135]++;resolve(result);}else{cov_1f1e89vxnx().b[28][1]++;cov_1f1e89vxnx().s[136]++;dbo.collection('current_LearningAgreement').findOne({version:Number(v),studentID:email},function(err,result){cov_1f1e89vxnx().f[47]++;cov_1f1e89vxnx().s[137]++;if(err){cov_1f1e89vxnx().b[29][0]++;cov_1f1e89vxnx().s[138]++;throw err;}else{cov_1f1e89vxnx().b[29][1]++;}cov_1f1e89vxnx().s[139]++;if(result){cov_1f1e89vxnx().b[30][0]++;cov_1f1e89vxnx().s[140]++;db.close();cov_1f1e89vxnx().s[141]++;resolve(result);}else{cov_1f1e89vxnx().b[30][1]++;}});}});}else{cov_1f1e89vxnx().b[26][1]++;cov_1f1e89vxnx().s[142]++;dbo.collection('current_LearningAgreement').findOne({studentID:email},function(err,result){cov_1f1e89vxnx().f[48]++;cov_1f1e89vxnx().s[143]++;if(err){cov_1f1e89vxnx().b[31][0]++;cov_1f1e89vxnx().s[144]++;throw err;}else{cov_1f1e89vxnx().b[31][1]++;}cov_1f1e89vxnx().s[145]++;if(result){cov_1f1e89vxnx().b[32][0]++;cov_1f1e89vxnx().s[146]++;db.close();cov_1f1e89vxnx().s[147]++;resolve(result);}else{cov_1f1e89vxnx().b[32][1]++;}});}});});}}cov_1f1e89vxnx().s[148]++;module.exports=LearningAgreement;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxlYXJuaW5nQWdyZWVtZW50LmpzIl0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwicmVxdWlyZSIsIk9iamVjdElEIiwiQmluYXJ5IiwidXJsIiwiZGJOYW1lIiwiTGVhcm5pbmdBZ3JlZW1lbnQiLCJjb25zdHJ1Y3RvciIsImZpbGxpbmciLCJkb2N1bWVudCIsInN0dWRlbnRJRCIsInN0YXRlIiwiZGF0ZSIsInNldEZpbGxpbmciLCJnZXRGaWxsaW5nIiwic2V0RG9jdW1lbnQiLCJnZXREb2N1bWVudCIsInNldFN0dWRlbnRJRCIsImdldFN0dWRlbnRJRCIsInNldFN0YXRlIiwiZ2V0U3RhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImluc2VydExlYXJuaW5nQWdyZWVtZW50IiwibGVhcm5pbmdBZ3JlZW1lbnQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJlcnIiLCJkYiIsImRibyIsImluc2VydERhdGEiLCJnZXQiLCJnZXRMZWFybmluZ0FncmVlbWVudCIsInRoZW4iLCJyZXN1bHQiLCJzdGFydHNXaXRoIiwiX2lkIiwidmVyc2lvbiIsInVwZGF0ZURhdGFQciIsInVwZGF0ZURhdGEiLCJjb2xsZWN0aW9uIiwiaW5zZXJ0T25lIiwiZmlsZV9kYXRhIiwiZGVsIiwiZGVsZXRlTGVhcm5pbmdBZ3JlZW1lbnQiLCJmaW5kT25lIiwiY2xvc2UiLCJ1cGRhdGVTdGF0ZSIsInVwZGF0ZU9uZSIsIiRzZXQiLCJkYXRhIiwiZGVsZXRlT25lIiwiZ2V0T2xkVmVyc2lvbnMiLCJmaW5kIiwidG9BcnJheSIsImdldFBkZiIsInYiLCJlbWFpbCIsIk51bWJlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI4OXhCQWVZOzJGQWZaLEdBQUlBLENBQUFBLFdBQVcsMEJBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJELFdBQXRCLENBQWYsQ0FDQSxHQUFJRSxDQUFBQSxRQUFRLDBCQUFHRCxPQUFPLENBQUMsU0FBRCxDQUFQLENBQW1CQyxRQUF0QixDQUFaLENBQ0EsR0FBSUMsQ0FBQUEsTUFBTSwwQkFBR0YsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFtQkUsTUFBdEIsQ0FBVixDQUVBO0FBQ0EsS0FBTUMsQ0FBQUEsR0FBRywwQkFBRyx5Q0FBSCxDQUFULENBRUE7QUFDQSxLQUFNQyxDQUFBQSxNQUFNLDBCQUFHLGVBQUgsQ0FBWixDQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQ0EsS0FBTUMsQ0FBQUEsaUJBQWtCLENBQ3RCQyxXQUFXLEVBQUksaURBQ2IsS0FBS0MsT0FBTCxDQUFlLElBQWYsQ0FEYSx3QkFFYixLQUFLQyxRQUFMLENBQWdCLElBQWhCLENBRmEsd0JBR2IsS0FBS0MsU0FBTCxDQUFpQixJQUFqQixDQUhhLHdCQUliLEtBQUtDLEtBQUwsQ0FBYSxJQUFiLENBSmEsd0JBS2IsS0FBS0MsSUFBTCxDQUFZLElBQVosQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBLEtBQ0VDLFVBQVUsQ0FBRUwsT0FBRixDQUFXLGtEQUNuQixLQUFLQSxPQUFMLENBQWVBLE9BQWYsQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBLEtBQ0VNLFVBQVUsRUFBSSxrREFDWixNQUFPLE1BQUtOLE9BQVosQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBLEtBQ0VPLFdBQVcsQ0FBRU4sUUFBRixDQUFZLGtEQUNyQixLQUFLQSxRQUFMLENBQWdCQSxRQUFoQixDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0EsS0FDRU8sV0FBVyxFQUFJLGtEQUNiLE1BQU8sTUFBS1AsUUFBWixDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0EsS0FDRVEsWUFBWSxDQUFFUCxTQUFGLENBQWEsa0RBQ3ZCLEtBQUtBLFNBQUwsQ0FBaUJBLFNBQWpCLENBQ0QsQ0FFRDtBQUNGO0FBQ0E7QUFDQSxLQUNFUSxZQUFZLEVBQUksa0RBQ2QsTUFBTyxNQUFLUixTQUFaLENBQ0QsQ0FFRDtBQUNGO0FBQ0E7QUFDQSxLQUNFUyxRQUFRLENBQUVSLEtBQUYsQ0FBUyxrREFDZixLQUFLQSxLQUFMLENBQWFBLEtBQWIsQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBLEtBQ0VTLFFBQVEsRUFBSSxrREFDVixNQUFPLE1BQUtULEtBQVosQ0FDRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBLEtBQ0VVLE9BQU8sQ0FBRVQsSUFBRixDQUFRLGtEQUNiLEtBQUtBLElBQUwsQ0FBWUEsSUFBWixDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0EsS0FDRVUsT0FBTyxFQUFJLG1EQUNULE1BQU8sTUFBS1YsSUFBWixDQUNELENBRUQ7QUFDRjtBQUNBO0FBQ0EsS0FDZ0MsTUFBdkJXLENBQUFBLHVCQUF1QixDQUFFQyxpQkFBRixDQUFxQixtREFDakQsTUFBTyxJQUFJQyxDQUFBQSxPQUFKLENBQVksU0FBVUMsT0FBVixDQUFtQkMsTUFBbkIsQ0FBMkIsbURBQzVDM0IsV0FBVyxDQUFDNEIsT0FBWixDQUFvQnhCLEdBQXBCLENBQXlCLENBQUV5QixlQUFlLENBQUUsSUFBbkIsQ0FBeUJDLGtCQUFrQixDQUFFLElBQTdDLENBQXpCLENBQThFLFNBQVVDLEdBQVYsQ0FBZUMsRUFBZixDQUFtQixtREFDL0YsR0FBSUQsR0FBSixDQUFTLDBEQUFNQSxDQUFBQSxHQUFOLENBQVMsQ0FBbEIsaUNBQ0EsR0FBSUUsQ0FBQUEsR0FBRywyQkFBR0QsRUFBRSxDQUFDQSxFQUFILENBQU0zQixNQUFOLENBQUgsQ0FBUCxDQUNBLEdBQUk2QixDQUFBQSxVQUFVLDJCQUFHLEVBQUgsQ0FBZCxDQUNBLEdBQUlDLENBQUFBLEdBQUcsMkJBQUc3QixpQkFBaUIsQ0FBQzhCLG9CQUFsQixDQUF1Q1osaUJBQWlCLENBQUNOLFlBQWxCLEVBQXZDLENBQUgsQ0FBUCxDQUorRix5QkFLL0ZpQixHQUFHLENBQUNFLElBQUosQ0FBUyxTQUFVQyxNQUFWLENBQWtCLG1EQUN6QixHQUFJLDRCQUFBQSxNQUFNLElBQU0sNkJBQUNBLE1BQU0sQ0FBQzdCLFFBQVIsK0JBQW9CZSxpQkFBaUIsQ0FBQ0osUUFBbEIsR0FBNkJtQixVQUE3QixDQUF3QyxTQUF4QyxDQUFwQixDQUFELEVBQTZFLDRCQUFBRCxNQUFNLENBQUM3QixRQUFQLCtCQUFtQmUsaUJBQWlCLENBQUNKLFFBQWxCLEdBQTZCbUIsVUFBN0IsQ0FBd0MsZ0JBQXhDLENBQW5CLENBQWxGLENBQVYsQ0FBNEsscURBQzFLZixpQkFBaUIsQ0FBQ2dCLEdBQWxCLENBQXdCLEdBQUl0QyxDQUFBQSxRQUFKLEVBQXhCLENBRDBLLHlCQUUxS3NCLGlCQUFpQixDQUFDaUIsT0FBbEIsQ0FBNEJILE1BQU0sQ0FBQ0csT0FBbkMsQ0FDQSxHQUFJQyxDQUFBQSxZQUFZLDJCQUFHcEMsaUJBQWlCLENBQUNxQyxVQUFsQixDQUE2Qm5CLGlCQUFpQixDQUFDTixZQUFsQixFQUE3QixDQUErRE0saUJBQWlCLENBQUNWLFVBQWxCLEVBQS9ELENBQUgsQ0FBaEIsQ0FIMEsseUJBSTFLNEIsWUFBWSxDQUFDTCxJQUFiLENBQWtCLFVBQVksbURBQzVCWCxPQUFPLEdBQ1IsQ0FGRCxFQUdELENBUEQsSUFPTyx3REFBSSw2QkFBQ1ksTUFBRCwrQkFBV2QsaUJBQWlCLENBQUNKLFFBQWxCLEdBQTZCbUIsVUFBN0IsQ0FBd0MsU0FBeEMsQ0FBWCxDQUFKLENBQW1FLHFEQUN4RWYsaUJBQWlCLENBQUNnQixHQUFsQixDQUF3QixHQUFJdEMsQ0FBQUEsUUFBSixFQUF4QixDQUR3RSx5QkFFeEUrQixHQUFHLENBQUNXLFVBQUosQ0FBZSwyQkFBZixFQUE0Q0MsU0FBNUMsQ0FBc0RyQixpQkFBdEQsQ0FBeUUsU0FBVU8sR0FBVixDQUFlLG1EQUN0RixHQUFJQSxHQUFKLENBQVMsMERBQU1BLENBQUFBLEdBQU4sQ0FBUyxDQUFsQixpQ0FEc0YseUJBRXRGTCxPQUFPLEdBQ1IsQ0FIRCxFQUlELENBTk0sSUFNQSx3REFBSSw0QkFBQVksTUFBTSwrQkFBSUEsTUFBTSxDQUFDN0IsUUFBWCxDQUFOLDhCQUE2QjZCLE1BQU0sQ0FBQ0csT0FBcEMsQ0FBSixDQUFpRCxxREFDdERQLFVBQVUsQ0FBQ1ksU0FBWCxDQUF1QjNDLE1BQU0sQ0FBQ3FCLGlCQUFpQixDQUFDZixRQUFuQixDQUE3QixDQURzRCx5QkFFdERlLGlCQUFpQixDQUFDZixRQUFsQixDQUE2QnlCLFVBQTdCLENBRnNELHlCQUd0REksTUFBTSxDQUFDRSxHQUFQLENBQWEsR0FBSXRDLENBQUFBLFFBQUosRUFBYixDQUhzRCx5QkFJdERzQixpQkFBaUIsQ0FBQ2lCLE9BQWxCLENBQTRCSCxNQUFNLENBQUNHLE9BQVAsQ0FBaUIsQ0FBN0MsQ0FDQSxHQUFJTSxDQUFBQSxHQUFHLDJCQUFHekMsaUJBQWlCLENBQUMwQyx1QkFBbEIsQ0FBMEN4QixpQkFBaUIsQ0FBQ04sWUFBbEIsRUFBMUMsQ0FBSCxDQUFQLENBTHNELHlCQU10RDZCLEdBQUcsQ0FBQ1YsSUFBSixDQUFTLFVBQVksbURBQ25CSixHQUFHLENBQUNXLFVBQUosQ0FBZSwyQkFBZixFQUE0Q0MsU0FBNUMsQ0FBc0RyQixpQkFBdEQsQ0FBeUUsU0FBVU8sR0FBVixDQUFlLG1EQUN0RixHQUFJQSxHQUFKLENBQVMsMERBQU1BLENBQUFBLEdBQU4sQ0FBUyxDQUFsQixpQ0FDRCxDQUZELEVBRG1CLHlCQUtuQkUsR0FBRyxDQUFDVyxVQUFKLENBQWUsNEJBQWYsRUFBNkNDLFNBQTdDLENBQXVEUCxNQUF2RCxDQUErRCxTQUFVUCxHQUFWLENBQWUsbURBQzVFLEdBQUlBLEdBQUosQ0FBUywwREFBTUEsQ0FBQUEsR0FBTixDQUFTLENBQWxCLGlDQUNELENBRkQsRUFMbUIseUJBUW5CTCxPQUFPLEdBQ1IsQ0FURCxFQVVELENBaEJNLElBZ0JBLHdEQUFJLDZCQUFBWSxNQUFNLGdDQUFJZCxpQkFBaUIsQ0FBQ0osUUFBbEIsR0FBNkJtQixVQUE3QixDQUF3QyxTQUF4QyxDQUFKLENBQVYsQ0FBa0Usc0RBQ3ZFTCxVQUFVLENBQUNZLFNBQVgsQ0FBdUIzQyxNQUFNLENBQUNxQixpQkFBaUIsQ0FBQ2YsUUFBbkIsQ0FBN0IsQ0FEdUUseUJBRXZFZSxpQkFBaUIsQ0FBQ2YsUUFBbEIsQ0FBNkJ5QixVQUE3QixDQUZ1RSx5QkFHdkVJLE1BQU0sQ0FBQ0UsR0FBUCxDQUFhLEdBQUl0QyxDQUFBQSxRQUFKLEVBQWIsQ0FIdUUseUJBSXZFc0IsaUJBQWlCLENBQUNpQixPQUFsQixDQUE0QixDQUE1QixDQUp1RSx5QkFLdkVNLEdBQUcsQ0FBR3pDLGlCQUFpQixDQUFDMEMsdUJBQWxCLENBQTBDeEIsaUJBQWlCLENBQUNOLFlBQWxCLEVBQTFDLENBQU4sQ0FMdUUseUJBTXZFNkIsR0FBRyxDQUFDVixJQUFKLENBQVMsVUFBWSxtREFDbkJKLEdBQUcsQ0FBQ1csVUFBSixDQUFlLDJCQUFmLEVBQTRDQyxTQUE1QyxDQUFzRHJCLGlCQUF0RCxDQUF5RSxTQUFVTyxHQUFWLENBQWUsbURBQ3RGLEdBQUlBLEdBQUosQ0FBUywyREFBTUEsQ0FBQUEsR0FBTixDQUFTLENBQWxCLGtDQURzRix5QkFFdEZMLE9BQU8sR0FDUixDQUhELEVBSUQsQ0FMRCxFQU1ELENBWk0sSUFZQSx5REFBSSxDQUFDWSxNQUFMLENBQWEsc0RBQ2xCSixVQUFVLENBQUNZLFNBQVgsQ0FBdUIzQyxNQUFNLENBQUNxQixpQkFBaUIsQ0FBQ2YsUUFBbkIsQ0FBN0IsQ0FEa0IseUJBRWxCZSxpQkFBaUIsQ0FBQ2YsUUFBbEIsQ0FBNkJ5QixVQUE3QixDQUZrQix5QkFHbEJWLGlCQUFpQixDQUFDZ0IsR0FBbEIsQ0FBd0IsR0FBSXRDLENBQUFBLFFBQUosRUFBeEIsQ0FIa0IseUJBSWxCc0IsaUJBQWlCLENBQUNpQixPQUFsQixDQUE0QixDQUE1QixDQUprQix5QkFLbEJSLEdBQUcsQ0FBQ1csVUFBSixDQUFlLDJCQUFmLEVBQTRDQyxTQUE1QyxDQUFzRHJCLGlCQUF0RCxDQUF5RSxTQUFVTyxHQUFWLENBQWUsbURBQ3RGLEdBQUlBLEdBQUosQ0FBUywyREFBTUEsQ0FBQUEsR0FBTixDQUFTLENBQWxCLGtDQURzRix5QkFFdEZMLE9BQU8sR0FDUixDQUhELEVBSUQsQ0FUTSxrQ0FTTixJQUNGLENBcERELEVBcURELENBMURELEVBMkRELENBNURNLENBQVAsQ0E2REQsQ0FFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBLEtBQzZCLE1BQXBCVSxDQUFBQSxvQkFBb0IsQ0FBRTFCLFNBQUYsQ0FBYSxtREFDdEMsTUFBTyxJQUFJZSxDQUFBQSxPQUFKLENBQVksU0FBVUMsT0FBVixDQUFtQkMsTUFBbkIsQ0FBMkIsbURBQzVDM0IsV0FBVyxDQUFDNEIsT0FBWixDQUFvQnhCLEdBQXBCLENBQXlCLENBQUV5QixlQUFlLENBQUUsSUFBbkIsQ0FBeUJDLGtCQUFrQixDQUFFLElBQTdDLENBQXpCLENBQThFLFNBQVVDLEdBQVYsQ0FBZUMsRUFBZixDQUFtQixtREFDL0YsR0FBSUQsR0FBSixDQUFTLDJEQUFNQSxDQUFBQSxHQUFOLENBQVMsQ0FBbEIsa0NBQ0EsR0FBSUUsQ0FBQUEsR0FBRywyQkFBR0QsRUFBRSxDQUFDQSxFQUFILENBQU0zQixNQUFOLENBQUgsQ0FBUCxDQUYrRix5QkFHL0Y0QixHQUFHLENBQUNXLFVBQUosQ0FBZSwyQkFBZixFQUE0Q0ssT0FBNUMsQ0FBb0QsQ0FBRXZDLFNBQVMsQ0FBRUEsU0FBYixDQUFwRCxDQUE4RSxTQUFVcUIsR0FBVixDQUFlTyxNQUFmLENBQXVCLG1EQUNuRyxHQUFJUCxHQUFKLENBQVMsMkRBQU1BLENBQUFBLEdBQU4sQ0FBUyxDQUFsQixrQ0FEbUcseUJBRW5HQyxFQUFFLENBQUNrQixLQUFILEdBRm1HLHlCQUduR3hCLE9BQU8sQ0FBQ1ksTUFBRCxDQUFQLENBQ0QsQ0FKRCxFQUtELENBUkQsRUFTRCxDQVZNLENBQVAsQ0FXRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsS0FDb0IsTUFBWGEsQ0FBQUEsV0FBVyxDQUFFekMsU0FBRixDQUFhQyxLQUFiLENBQW9CLG1EQUNwQyxNQUFPLElBQUljLENBQUFBLE9BQUosQ0FBWSxTQUFVQyxPQUFWLENBQW1CQyxNQUFuQixDQUEyQixtREFDNUMzQixXQUFXLENBQUM0QixPQUFaLENBQW9CeEIsR0FBcEIsQ0FBeUIsQ0FBRXlCLGVBQWUsQ0FBRSxJQUFuQixDQUF5QkMsa0JBQWtCLENBQUUsSUFBN0MsQ0FBekIsQ0FBOEUsU0FBVUMsR0FBVixDQUFlQyxFQUFmLENBQW1CLG1EQUMvRixHQUFJRCxHQUFKLENBQVMsMkRBQU1BLENBQUFBLEdBQU4sQ0FBUyxDQUFsQixrQ0FDQSxHQUFJRSxDQUFBQSxHQUFHLDJCQUFHRCxFQUFFLENBQUNBLEVBQUgsQ0FBTTNCLE1BQU4sQ0FBSCxDQUFQLENBRitGLHlCQUcvRjRCLEdBQUcsQ0FBQ1csVUFBSixDQUFlLDJCQUFmLEVBQTRDUSxTQUE1QyxDQUFzRCxDQUFFMUMsU0FBUyxDQUFFQSxTQUFiLENBQXRELENBQWdGLENBQUUyQyxJQUFJLENBQUUsQ0FBRTFDLEtBQUssQ0FBRUEsS0FBVCxDQUFSLENBQWhGLENBQTRHLFNBQVVvQixHQUFWLENBQWVPLE1BQWYsQ0FBdUIsbURBQ2pJLEdBQUlQLEdBQUosQ0FBUywyREFBTUEsQ0FBQUEsR0FBTixDQUFTLENBQWxCLGtDQURpSSx5QkFFaklDLEVBQUUsQ0FBQ2tCLEtBQUgsR0FGaUkseUJBR2pJeEIsT0FBTyxHQUNSLENBSkQsRUFLRCxDQVJELEVBU0QsQ0FWTSxDQUFQLENBV0QsQ0FFRDtBQUNGO0FBQ0E7QUFDQTtBQUNBLEtBQ21CLE1BQVZpQixDQUFBQSxVQUFVLENBQUVqQyxTQUFGLENBQWE0QyxJQUFiLENBQW1CLG1EQUNsQyxNQUFPLElBQUk3QixDQUFBQSxPQUFKLENBQVksU0FBVUMsT0FBVixDQUFtQkMsTUFBbkIsQ0FBMkIsbURBQzVDM0IsV0FBVyxDQUFDNEIsT0FBWixDQUFvQnhCLEdBQXBCLENBQXlCLENBQUV5QixlQUFlLENBQUUsSUFBbkIsQ0FBeUJDLGtCQUFrQixDQUFFLElBQTdDLENBQXpCLENBQThFLFNBQVVDLEdBQVYsQ0FBZUMsRUFBZixDQUFtQixtREFDL0YsR0FBSUQsR0FBSixDQUFTLDJEQUFNQSxDQUFBQSxHQUFOLENBQVMsQ0FBbEIsa0NBQ0EsR0FBSUUsQ0FBQUEsR0FBRywyQkFBR0QsRUFBRSxDQUFDQSxFQUFILENBQU0zQixNQUFOLENBQUgsQ0FBUCxDQUYrRix5QkFHL0Y0QixHQUFHLENBQUNXLFVBQUosQ0FBZSwyQkFBZixFQUE0Q1EsU0FBNUMsQ0FBc0QsQ0FBRTFDLFNBQVMsQ0FBRUEsU0FBYixDQUF0RCxDQUFnRixDQUFFMkMsSUFBSSxDQUFFLENBQUU3QyxPQUFPLENBQUU4QyxJQUFYLENBQVIsQ0FBaEYsQ0FBNkcsU0FBVXZCLEdBQVYsQ0FBZU8sTUFBZixDQUF1QixvREFDbEksR0FBSVAsR0FBSixDQUFTLDREQUFNQSxDQUFBQSxHQUFOLENBQVMsQ0FBbEIsa0NBRGtJLDBCQUVsSUMsRUFBRSxDQUFDa0IsS0FBSCxHQUZrSSwwQkFHbEl4QixPQUFPLEdBQ1IsQ0FKRCxFQUtELENBUkQsRUFTRCxDQVZNLENBQVAsQ0FXRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBLEtBQ2dDLE1BQXZCc0IsQ0FBQUEsdUJBQXVCLENBQUV0QyxTQUFGLENBQWEsb0RBQ3pDLE1BQU8sSUFBSWUsQ0FBQUEsT0FBSixDQUFZLFNBQVVDLE9BQVYsQ0FBbUJDLE1BQW5CLENBQTJCLG9EQUM1QzNCLFdBQVcsQ0FBQzRCLE9BQVosQ0FBb0J4QixHQUFwQixDQUF5QixDQUFFeUIsZUFBZSxDQUFFLElBQW5CLENBQXlCQyxrQkFBa0IsQ0FBRSxJQUE3QyxDQUF6QixDQUE4RSxTQUFVQyxHQUFWLENBQWVDLEVBQWYsQ0FBbUIsb0RBQy9GLEdBQUlELEdBQUosQ0FBUyw0REFBTUEsQ0FBQUEsR0FBTixDQUFTLENBQWxCLGtDQUNBLEdBQUlFLENBQUFBLEdBQUcsNEJBQUdELEVBQUUsQ0FBQ0EsRUFBSCxDQUFNM0IsTUFBTixDQUFILENBQVAsQ0FGK0YsMEJBRy9GNEIsR0FBRyxDQUFDVyxVQUFKLENBQWUsMkJBQWYsRUFBNENXLFNBQTVDLENBQXNELENBQUU3QyxTQUFTLENBQUVBLFNBQWIsQ0FBdEQsQ0FBZ0YsU0FBVXFCLEdBQVYsQ0FBZSxvREFDN0YsR0FBSUEsR0FBSixDQUFTLDREQUFNQSxDQUFBQSxHQUFOLENBQVMsQ0FBbEIsa0NBRDZGLDBCQUU3RkMsRUFBRSxDQUFDa0IsS0FBSCxHQUY2RiwwQkFHN0Z4QixPQUFPLEdBQ1IsQ0FKRCxFQUtELENBUkQsRUFTRCxDQVZNLENBQVAsQ0FXRCxDQUVEO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsS0FDdUIsTUFBZDhCLENBQUFBLGNBQWMsQ0FBRTlDLFNBQUYsQ0FBYSxvREFDaEMsTUFBTyxJQUFJZSxDQUFBQSxPQUFKLENBQVksU0FBVUMsT0FBVixDQUFtQkMsTUFBbkIsQ0FBMkIsb0RBQzVDM0IsV0FBVyxDQUFDNEIsT0FBWixDQUFvQnhCLEdBQXBCLENBQXlCLENBQUV5QixlQUFlLENBQUUsSUFBbkIsQ0FBeUJDLGtCQUFrQixDQUFFLElBQTdDLENBQXpCLENBQThFLFNBQVVDLEdBQVYsQ0FBZUMsRUFBZixDQUFtQixvREFDL0YsR0FBSUQsR0FBSixDQUFTLDREQUFNQSxDQUFBQSxHQUFOLENBQVMsQ0FBbEIsa0NBQ0EsR0FBSUUsQ0FBQUEsR0FBRyw0QkFBR0QsRUFBRSxDQUFDQSxFQUFILENBQU0zQixNQUFOLENBQUgsQ0FBUCxDQUYrRiwwQkFHL0Y0QixHQUFHLENBQUNXLFVBQUosQ0FBZSw0QkFBZixFQUE2Q2EsSUFBN0MsQ0FBa0QsQ0FBRS9DLFNBQVMsQ0FBRUEsU0FBYixDQUFsRCxFQUE0RWdELE9BQTVFLENBQW9GLFNBQVUzQixHQUFWLENBQWVPLE1BQWYsQ0FBdUIsb0RBQ3pHLEdBQUlQLEdBQUosQ0FBUyw0REFBTUEsQ0FBQUEsR0FBTixDQUFTLENBQWxCLGtDQUR5RywwQkFFekdDLEVBQUUsQ0FBQ2tCLEtBQUgsR0FGeUcsMEJBR3pHeEIsT0FBTyxDQUFDWSxNQUFELENBQVAsQ0FDRCxDQUpELEVBS0QsQ0FSRCxFQVNELENBVk0sQ0FBUCxDQVdELENBRUQ7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQ2UsTUFBTnFCLENBQUFBLE1BQU0sQ0FBRUMsQ0FBRixDQUFLQyxLQUFMLENBQVksb0RBQ3ZCLE1BQU8sSUFBSXBDLENBQUFBLE9BQUosQ0FBWSxTQUFVQyxPQUFWLENBQW1CQyxNQUFuQixDQUEyQixvREFDNUMzQixXQUFXLENBQUM0QixPQUFaLENBQW9CeEIsR0FBcEIsQ0FBeUIsQ0FBRXlCLGVBQWUsQ0FBRSxJQUFuQixDQUF5QkMsa0JBQWtCLENBQUUsSUFBN0MsQ0FBekIsQ0FBOEUsU0FBVUMsR0FBVixDQUFlQyxFQUFmLENBQW1CLG9EQUMvRixHQUFJRCxHQUFKLENBQVMsNERBQU1BLENBQUFBLEdBQU4sQ0FBUyxDQUFsQixrQ0FDQSxHQUFJRSxDQUFBQSxHQUFHLDRCQUFHRCxFQUFFLENBQUNBLEVBQUgsQ0FBTTNCLE1BQU4sQ0FBSCxDQUFQLENBRitGLDBCQUcvRixHQUFJdUQsQ0FBSixDQUFPLHVEQUNMM0IsR0FBRyxDQUFDVyxVQUFKLENBQWUsNEJBQWYsRUFBNkNLLE9BQTdDLENBQXFELENBQUVSLE9BQU8sQ0FBRXFCLE1BQU0sQ0FBQ0YsQ0FBRCxDQUFqQixDQUFzQmxELFNBQVMsQ0FBRW1ELEtBQWpDLENBQXJELENBQStGLFNBQVU5QixHQUFWLENBQWVPLE1BQWYsQ0FBdUIsb0RBQ3BILEdBQUlQLEdBQUosQ0FBUyw0REFBTUEsQ0FBQUEsR0FBTixDQUFTLENBQWxCLGtDQURvSCwwQkFFcEgsR0FBSU8sTUFBSixDQUFZLHVEQUNWTixFQUFFLENBQUNrQixLQUFILEdBRFUsMEJBRVZ4QixPQUFPLENBQUNZLE1BQUQsQ0FBUCxDQUNELENBSEQsSUFHTyx1REFDTEwsR0FBRyxDQUFDVyxVQUFKLENBQWUsMkJBQWYsRUFBNENLLE9BQTVDLENBQW9ELENBQUVSLE9BQU8sQ0FBRXFCLE1BQU0sQ0FBQ0YsQ0FBRCxDQUFqQixDQUFzQmxELFNBQVMsQ0FBRW1ELEtBQWpDLENBQXBELENBQThGLFNBQVU5QixHQUFWLENBQWVPLE1BQWYsQ0FBdUIsb0RBQ25ILEdBQUlQLEdBQUosQ0FBUyw0REFBTUEsQ0FBQUEsR0FBTixDQUFTLENBQWxCLGtDQURtSCwwQkFFbkgsR0FBSU8sTUFBSixDQUFZLHVEQUNWTixFQUFFLENBQUNrQixLQUFILEdBRFUsMEJBRVZ4QixPQUFPLENBQUNZLE1BQUQsQ0FBUCxDQUNELENBSEQsa0NBSUQsQ0FORCxFQU9ELENBQ0YsQ0FkRCxFQWVELENBaEJELElBZ0JPLHVEQUNMTCxHQUFHLENBQUNXLFVBQUosQ0FBZSwyQkFBZixFQUE0Q0ssT0FBNUMsQ0FBb0QsQ0FBRXZDLFNBQVMsQ0FBRW1ELEtBQWIsQ0FBcEQsQ0FBMEUsU0FBVTlCLEdBQVYsQ0FBZU8sTUFBZixDQUF1QixvREFDL0YsR0FBSVAsR0FBSixDQUFTLDREQUFNQSxDQUFBQSxHQUFOLENBQVMsQ0FBbEIsa0NBRCtGLDBCQUUvRixHQUFJTyxNQUFKLENBQVksdURBQ1ZOLEVBQUUsQ0FBQ2tCLEtBQUgsR0FEVSwwQkFFVnhCLE9BQU8sQ0FBQ1ksTUFBRCxDQUFQLENBQ0QsQ0FIRCxrQ0FJRCxDQU5ELEVBT0QsQ0FDRixDQTVCRCxFQTZCRCxDQTlCTSxDQUFQLENBK0JELENBalNxQixDLDBCQW9TeEJ5QixNQUFNLENBQUNDLE9BQVAsQ0FBaUIxRCxpQkFBakIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTW9uZ29DbGllbnQgPSByZXF1aXJlKCdtb25nb2RiJykuTW9uZ29DbGllbnRcbnZhciBPYmplY3RJRCA9IHJlcXVpcmUoJ21vbmdvZGInKS5PYmplY3RJRFxudmFyIEJpbmFyeSA9IHJlcXVpcmUoJ21vbmdvZGInKS5CaW5hcnlcblxuLy8gRGF0YWJhc2UgVVJMXG5jb25zdCB1cmwgPSAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9lYXN5YWdyZWVtZW50J1xuXG4vLyBEYXRhYmFzZSBuYW1lXG5jb25zdCBkYk5hbWUgPSAnZWFzeWFncmVlbWVudCdcbi8qKlxuICogVGhpcyBtb2R1bGUgcmVwcmVzZW50cyBhIExlYXJuaW5nIEFncmVlbWVudFxuICogQG1vZHVsZSBMZWFybmluZ0FncmVlbWVudFxuICovXG5jbGFzcyBMZWFybmluZ0FncmVlbWVudCB7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLmZpbGxpbmcgPSBudWxsXG4gICAgdGhpcy5kb2N1bWVudCA9IG51bGxcbiAgICB0aGlzLnN0dWRlbnRJRCA9IG51bGxcbiAgICB0aGlzLnN0YXRlID0gbnVsbFxuICAgIHRoaXMuZGF0ZSA9IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBzZXRzIHRoZSBMZWFyaW5nIEFncmVlbWVudCdzIGZpbGxpbmdcbiAgICogQHBhcmFtIHtKU09OfSBmaWxsaW5nXG4gICAqL1xuICBzZXRGaWxsaW5nIChmaWxsaW5nKSB7XG4gICAgdGhpcy5maWxsaW5nID0gZmlsbGluZ1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGdldHMgdGhlIExlYXJuaW5nIEFncmVlbWVudCdzIGZpbGxpbmdcbiAgICogQHJldHVybnMge0pTT059XG4gICAqL1xuICBnZXRGaWxsaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5maWxsaW5nXG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2Qgc2V0cyB0aGUgTGVhcmluZyBBZ3JlZW1lbnQncyBkb2N1bWVudFxuICAgKiBAcGFyYW0ge1JlYWRhYmxlU3RyZWFtfSBkb2N1bWVudFxuICAgKi9cbiAgc2V0RG9jdW1lbnQgKGRvY3VtZW50KSB7XG4gICAgdGhpcy5kb2N1bWVudCA9IGRvY3VtZW50XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgZ2V0cyB0aGUgTGVhcm5pbmcgQWdyZWVtZW50J3MgZG9jdW1lbnRcbiAgICogQHJldHVybnMge1JlYWRhYmxlU3RyZWFtfVxuICAgKi9cbiAgZ2V0RG9jdW1lbnQgKCkge1xuICAgIHJldHVybiB0aGlzLmRvY3VtZW50XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2Qgc2V0cyB0aGUgTGVhcm5pbmcgQWdyZWVtZW50J3Mgc3R1ZGVudCdzIGVtYWlsXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdGF0ZVxuICAgKi9cbiAgc2V0U3R1ZGVudElEIChzdHVkZW50SUQpIHtcbiAgICB0aGlzLnN0dWRlbnRJRCA9IHN0dWRlbnRJRFxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGdldHMgdGhlIExlYXJuaW5nIEFncmVlbWVudCdzIHN0dWRlbnQncyBlbWFpbFxuICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgKi9cbiAgZ2V0U3R1ZGVudElEICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdHVkZW50SURcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBzZXRzIHRoZSBMZWFyaW5nIEFncmVlbWVudCdzIHN0YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdGF0ZVxuICAgKi9cbiAgc2V0U3RhdGUgKHN0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlXG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgZ2V0cyB0aGUgTGVhcm5pbmcgQWdyZWVtZW50J3Mgc3RhdGVcbiAgICogQHJldHVybnMge1N0cmluZ31cbiAgICovXG4gIGdldFN0YXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIHNldHMgdGhlIExlYXJpbmcgQWdyZWVtZW50J3MgZGF0ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0ZVxuICAgKi9cbiAgc2V0RGF0ZSAoZGF0ZSkge1xuICAgIHRoaXMuZGF0ZSA9IGRhdGVcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBnZXRzIHRoZSBMZWFybmluZyBBZ3JlZW1lbnQncyBkYXRlXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAqL1xuICBnZXREYXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRlXG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaW5zZXJ0cyBhIG5ldyBMZWFybmluZyBBZ3JlZW1lbnQgYW5kIGhhbmRsZXMgdGhlIHZlcnNpb25pbmcgcHJvY2Vzc1xuICAgKiBAcGFyYW0ge0xlYXJuaW5nQWdyZWVtZW50fSBsZWFybmluZ0FncmVlbWVudCAtIFRoZSBMZWFybmlnbiBBZ3JlZW1lbnQgb2JqZWN0IHRvIGluc2VydFxuICAgKi9cbiAgc3RhdGljIGluc2VydExlYXJuaW5nQWdyZWVtZW50IChsZWFybmluZ0FncmVlbWVudCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBNb25nb0NsaWVudC5jb25uZWN0KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBkYikge1xuICAgICAgICBpZiAoZXJyKSB0aHJvdyBlcnJcbiAgICAgICAgdmFyIGRibyA9IGRiLmRiKGRiTmFtZSlcbiAgICAgICAgdmFyIGluc2VydERhdGEgPSB7fVxuICAgICAgICB2YXIgZ2V0ID0gTGVhcm5pbmdBZ3JlZW1lbnQuZ2V0TGVhcm5pbmdBZ3JlZW1lbnQobGVhcm5pbmdBZ3JlZW1lbnQuZ2V0U3R1ZGVudElEKCkpXG4gICAgICAgIGdldC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ICYmICgoIXJlc3VsdC5kb2N1bWVudCAmJiBsZWFybmluZ0FncmVlbWVudC5nZXRTdGF0ZSgpLnN0YXJ0c1dpdGgoJ1NhbHZhdG8nKSkgfHwgKHJlc3VsdC5kb2N1bWVudCAmJiBsZWFybmluZ0FncmVlbWVudC5nZXRTdGF0ZSgpLnN0YXJ0c1dpdGgoJ0luIHZhbHV0YXppb25lJykpKSkge1xuICAgICAgICAgICAgbGVhcm5pbmdBZ3JlZW1lbnQuX2lkID0gbmV3IE9iamVjdElEKClcbiAgICAgICAgICAgIGxlYXJuaW5nQWdyZWVtZW50LnZlcnNpb24gPSByZXN1bHQudmVyc2lvblxuICAgICAgICAgICAgdmFyIHVwZGF0ZURhdGFQciA9IExlYXJuaW5nQWdyZWVtZW50LnVwZGF0ZURhdGEobGVhcm5pbmdBZ3JlZW1lbnQuZ2V0U3R1ZGVudElEKCksIGxlYXJuaW5nQWdyZWVtZW50LmdldEZpbGxpbmcoKSlcbiAgICAgICAgICAgIHVwZGF0ZURhdGFQci50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSBpZiAoIXJlc3VsdCAmJiBsZWFybmluZ0FncmVlbWVudC5nZXRTdGF0ZSgpLnN0YXJ0c1dpdGgoJ1NhbHZhdG8nKSkge1xuICAgICAgICAgICAgbGVhcm5pbmdBZ3JlZW1lbnQuX2lkID0gbmV3IE9iamVjdElEKClcbiAgICAgICAgICAgIGRiby5jb2xsZWN0aW9uKCdjdXJyZW50X0xlYXJuaW5nQWdyZWVtZW50JykuaW5zZXJ0T25lKGxlYXJuaW5nQWdyZWVtZW50LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgIGlmIChlcnIpIHRocm93IGVyclxuICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQgJiYgcmVzdWx0LmRvY3VtZW50ICYmIHJlc3VsdC52ZXJzaW9uKSB7XG4gICAgICAgICAgICBpbnNlcnREYXRhLmZpbGVfZGF0YSA9IEJpbmFyeShsZWFybmluZ0FncmVlbWVudC5kb2N1bWVudClcbiAgICAgICAgICAgIGxlYXJuaW5nQWdyZWVtZW50LmRvY3VtZW50ID0gaW5zZXJ0RGF0YVxuICAgICAgICAgICAgcmVzdWx0Ll9pZCA9IG5ldyBPYmplY3RJRCgpXG4gICAgICAgICAgICBsZWFybmluZ0FncmVlbWVudC52ZXJzaW9uID0gcmVzdWx0LnZlcnNpb24gKyAxXG4gICAgICAgICAgICB2YXIgZGVsID0gTGVhcm5pbmdBZ3JlZW1lbnQuZGVsZXRlTGVhcm5pbmdBZ3JlZW1lbnQobGVhcm5pbmdBZ3JlZW1lbnQuZ2V0U3R1ZGVudElEKCkpXG4gICAgICAgICAgICBkZWwudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGRiby5jb2xsZWN0aW9uKCdjdXJyZW50X0xlYXJuaW5nQWdyZWVtZW50JykuaW5zZXJ0T25lKGxlYXJuaW5nQWdyZWVtZW50LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyXG4gICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgZGJvLmNvbGxlY3Rpb24oJ0xlYXJuaW5nQWdyZWVtZW50X3JldmlzaW9uJykuaW5zZXJ0T25lKHJlc3VsdCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHRocm93IGVyclxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQgJiYgbGVhcm5pbmdBZ3JlZW1lbnQuZ2V0U3RhdGUoKS5zdGFydHNXaXRoKCdJbnZpYXRvJykpIHtcbiAgICAgICAgICAgIGluc2VydERhdGEuZmlsZV9kYXRhID0gQmluYXJ5KGxlYXJuaW5nQWdyZWVtZW50LmRvY3VtZW50KVxuICAgICAgICAgICAgbGVhcm5pbmdBZ3JlZW1lbnQuZG9jdW1lbnQgPSBpbnNlcnREYXRhXG4gICAgICAgICAgICByZXN1bHQuX2lkID0gbmV3IE9iamVjdElEKClcbiAgICAgICAgICAgIGxlYXJuaW5nQWdyZWVtZW50LnZlcnNpb24gPSAxXG4gICAgICAgICAgICBkZWwgPSBMZWFybmluZ0FncmVlbWVudC5kZWxldGVMZWFybmluZ0FncmVlbWVudChsZWFybmluZ0FncmVlbWVudC5nZXRTdHVkZW50SUQoKSlcbiAgICAgICAgICAgIGRlbC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZGJvLmNvbGxlY3Rpb24oJ2N1cnJlbnRfTGVhcm5pbmdBZ3JlZW1lbnQnKS5pbnNlcnRPbmUobGVhcm5pbmdBZ3JlZW1lbnQsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB0aHJvdyBlcnJcbiAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICBpbnNlcnREYXRhLmZpbGVfZGF0YSA9IEJpbmFyeShsZWFybmluZ0FncmVlbWVudC5kb2N1bWVudClcbiAgICAgICAgICAgIGxlYXJuaW5nQWdyZWVtZW50LmRvY3VtZW50ID0gaW5zZXJ0RGF0YVxuICAgICAgICAgICAgbGVhcm5pbmdBZ3JlZW1lbnQuX2lkID0gbmV3IE9iamVjdElEKClcbiAgICAgICAgICAgIGxlYXJuaW5nQWdyZWVtZW50LnZlcnNpb24gPSAxXG4gICAgICAgICAgICBkYm8uY29sbGVjdGlvbignY3VycmVudF9MZWFybmluZ0FncmVlbWVudCcpLmluc2VydE9uZShsZWFybmluZ0FncmVlbWVudCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICBpZiAoZXJyKSB0aHJvdyBlcnJcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCByZXRyaWV2ZXMgYSBzcGVjaWZpYyAoY3VycmVudCkgTGVhcm5pbmcgQWdyZWVtZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHVkZW50SUQgLSBUaGUgc3R1ZGVudCdzIGVtYWlsXG4gICAqIEByZXR1cm5zIHtMZWFybmluZ0FncmVlbWVudH0gLSBUaGUgY3VycmVudCBMZWFybmluZyBBZ3JlZW1lbnRcbiAgICovXG4gIHN0YXRpYyBnZXRMZWFybmluZ0FncmVlbWVudCAoc3R1ZGVudElEKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIE1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlIH0sIGZ1bmN0aW9uIChlcnIsIGRiKSB7XG4gICAgICAgIGlmIChlcnIpIHRocm93IGVyclxuICAgICAgICB2YXIgZGJvID0gZGIuZGIoZGJOYW1lKVxuICAgICAgICBkYm8uY29sbGVjdGlvbignY3VycmVudF9MZWFybmluZ0FncmVlbWVudCcpLmZpbmRPbmUoeyBzdHVkZW50SUQ6IHN0dWRlbnRJRCB9LCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICBpZiAoZXJyKSB0aHJvdyBlcnJcbiAgICAgICAgICBkYi5jbG9zZSgpXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgdXBkYXRlcyB0aGUgc3RhdGUgb2YgYSAoY3VycmVudCkgTGVhcm5pbmcgQWdyZWVtZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHVkZW50SUQgLSBUaGUgc3R1ZGVudCdzIGVtYWlsXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdGF0ZSAtIFRoZSBuZXcgc3RhdGVcbiAgICovXG4gIHN0YXRpYyB1cGRhdGVTdGF0ZSAoc3R1ZGVudElELCBzdGF0ZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBNb25nb0NsaWVudC5jb25uZWN0KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBkYikge1xuICAgICAgICBpZiAoZXJyKSB0aHJvdyBlcnJcbiAgICAgICAgdmFyIGRibyA9IGRiLmRiKGRiTmFtZSlcbiAgICAgICAgZGJvLmNvbGxlY3Rpb24oJ2N1cnJlbnRfTGVhcm5pbmdBZ3JlZW1lbnQnKS51cGRhdGVPbmUoeyBzdHVkZW50SUQ6IHN0dWRlbnRJRCB9LCB7ICRzZXQ6IHsgc3RhdGU6IHN0YXRlIH0gfSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyXG4gICAgICAgICAgZGIuY2xvc2UoKVxuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaSBtZXRob2QgdXBkYXRlcyB0aGUgZmlsbGluZyBkYXRhIG9mIHRoZSBzdHVkZW50J3MgTGVhcm5pbmcgQWdyZWVtZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHVkZW50SURcbiAgICogQHBhcmFtIHtKU09OfSBkYXRhXG4gICAqL1xuICBzdGF0aWMgdXBkYXRlRGF0YSAoc3R1ZGVudElELCBkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIE1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlIH0sIGZ1bmN0aW9uIChlcnIsIGRiKSB7XG4gICAgICAgIGlmIChlcnIpIHRocm93IGVyclxuICAgICAgICB2YXIgZGJvID0gZGIuZGIoZGJOYW1lKVxuICAgICAgICBkYm8uY29sbGVjdGlvbignY3VycmVudF9MZWFybmluZ0FncmVlbWVudCcpLnVwZGF0ZU9uZSh7IHN0dWRlbnRJRDogc3R1ZGVudElEIH0sIHsgJHNldDogeyBmaWxsaW5nOiBkYXRhIH0gfSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyXG4gICAgICAgICAgZGIuY2xvc2UoKVxuICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGRlbGV0ZXMgYSBMZWFybmluZyBBZ3JlZW1lbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0dWRlbnRJRCAtIFRoZSBzdHVkZW50J3MgZW1haWxcbiAgICovXG4gIHN0YXRpYyBkZWxldGVMZWFybmluZ0FncmVlbWVudCAoc3R1ZGVudElEKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIE1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlIH0sIGZ1bmN0aW9uIChlcnIsIGRiKSB7XG4gICAgICAgIGlmIChlcnIpIHRocm93IGVyclxuICAgICAgICB2YXIgZGJvID0gZGIuZGIoZGJOYW1lKVxuICAgICAgICBkYm8uY29sbGVjdGlvbignY3VycmVudF9MZWFybmluZ0FncmVlbWVudCcpLmRlbGV0ZU9uZSh7IHN0dWRlbnRJRDogc3R1ZGVudElEIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB0aHJvdyBlcnJcbiAgICAgICAgICBkYi5jbG9zZSgpXG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogZ2V0cyBvbGRlciB2ZXJzaW9ucyBvZiBhIExlYXJuaW5nIEFncmVlbWVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3R1ZGVudElEIC0gVGhlIHN0dWRlbnQncyBlbWFpbFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBsaXN0IG9mIHRoZSByZXF1ZXN0c1xuICAgKi9cbiAgc3RhdGljIGdldE9sZFZlcnNpb25zIChzdHVkZW50SUQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgTW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIHsgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSwgZnVuY3Rpb24gKGVyciwgZGIpIHtcbiAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyXG4gICAgICAgIHZhciBkYm8gPSBkYi5kYihkYk5hbWUpXG4gICAgICAgIGRiby5jb2xsZWN0aW9uKCdMZWFybmluZ0FncmVlbWVudF9yZXZpc2lvbicpLmZpbmQoeyBzdHVkZW50SUQ6IHN0dWRlbnRJRCB9KS50b0FycmF5KGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgIGlmIChlcnIpIHRocm93IGVyclxuICAgICAgICAgIGRiLmNsb3NlKClcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBnZXRzIHRoZSBSZWFkYWJsZVN0cmVhbSBvZiBhIExlYXJuaW5nQWdyZWVtZW50J3MgdmVyc2lvbiBzZWxlY3RlZFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdiAtIFRoZSBMZXJuaW5nIEFncmVlbWVudCdzIHZlcnNpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IGVtYWlsIC0gVGhlIHN0dWRlbnQncyBlbWFpbFxuICAgKiBAcmV0dXJucyB7UmVhZGFibGVTdHJlYW19IC0gVGhlIFJlYWRhYmxlIHN0cmVhbSBvZiB0aGUgTGVhcm5pbmcgQWdyZWVtZW50XG4gICAqL1xuICBzdGF0aWMgZ2V0UGRmICh2LCBlbWFpbCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBNb25nb0NsaWVudC5jb25uZWN0KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBkYikge1xuICAgICAgICBpZiAoZXJyKSB0aHJvdyBlcnJcbiAgICAgICAgdmFyIGRibyA9IGRiLmRiKGRiTmFtZSlcbiAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICBkYm8uY29sbGVjdGlvbignTGVhcm5pbmdBZ3JlZW1lbnRfcmV2aXNpb24nKS5maW5kT25lKHsgdmVyc2lvbjogTnVtYmVyKHYpLCBzdHVkZW50SUQ6IGVtYWlsIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyXG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgIGRiLmNsb3NlKClcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkYm8uY29sbGVjdGlvbignY3VycmVudF9MZWFybmluZ0FncmVlbWVudCcpLmZpbmRPbmUoeyB2ZXJzaW9uOiBOdW1iZXIodiksIHN0dWRlbnRJRDogZW1haWwgfSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikgdGhyb3cgZXJyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgZGIuY2xvc2UoKVxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGJvLmNvbGxlY3Rpb24oJ2N1cnJlbnRfTGVhcm5pbmdBZ3JlZW1lbnQnKS5maW5kT25lKHsgc3R1ZGVudElEOiBlbWFpbCB9LCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHRocm93IGVyclxuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICBkYi5jbG9zZSgpXG4gICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IExlYXJuaW5nQWdyZWVtZW50XG4iXX0=