function cov_7st9r9bsl(){var path="/Users/salvatore/Desktop/EasyAgreement-IGES/app/models/message.js";var hash="0d4fe144a0d107aa9de512126c6c50a878b35c1f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/salvatore/Desktop/EasyAgreement-IGES/app/models/message.js",statementMap:{"0":{start:{line:1,column:18},end:{line:1,column:48}},"1":{start:{line:2,column:15},end:{line:2,column:42}},"2":{start:{line:5,column:12},end:{line:5,column:53}},"3":{start:{line:8,column:15},end:{line:8,column:30}},"4":{start:{line:12,column:4},end:{line:12,column:24}},"5":{start:{line:13,column:4},end:{line:13,column:27}},"6":{start:{line:14,column:4},end:{line:14,column:20}},"7":{start:{line:15,column:4},end:{line:15,column:20}},"8":{start:{line:24,column:4},end:{line:24,column:24}},"9":{start:{line:31,column:4},end:{line:31,column:27}},"10":{start:{line:38,column:4},end:{line:38,column:20}},"11":{start:{line:45,column:4},end:{line:45,column:20}},"12":{start:{line:55,column:4},end:{line:55,column:20}},"13":{start:{line:63,column:4},end:{line:63,column:20}},"14":{start:{line:71,column:4},end:{line:71,column:26}},"15":{start:{line:79,column:4},end:{line:79,column:32}},"16":{start:{line:88,column:4},end:{line:98,column:6}},"17":{start:{line:89,column:6},end:{line:97,column:8}},"18":{start:{line:90,column:8},end:{line:90,column:28}},"19":{start:{line:90,column:17},end:{line:90,column:28}},"20":{start:{line:91,column:18},end:{line:91,column:31}},"21":{start:{line:92,column:8},end:{line:96,column:10}},"22":{start:{line:93,column:10},end:{line:93,column:30}},"23":{start:{line:93,column:19},end:{line:93,column:30}},"24":{start:{line:94,column:10},end:{line:94,column:36}},"25":{start:{line:95,column:10},end:{line:95,column:20}},"26":{start:{line:107,column:4},end:{line:117,column:6}},"27":{start:{line:108,column:6},end:{line:116,column:8}},"28":{start:{line:109,column:8},end:{line:109,column:28}},"29":{start:{line:109,column:17},end:{line:109,column:28}},"30":{start:{line:110,column:18},end:{line:110,column:31}},"31":{start:{line:111,column:8},end:{line:115,column:10}},"32":{start:{line:112,column:10},end:{line:112,column:30}},"33":{start:{line:112,column:19},end:{line:112,column:30}},"34":{start:{line:113,column:10},end:{line:113,column:20}},"35":{start:{line:114,column:10},end:{line:114,column:38}},"36":{start:{line:127,column:4},end:{line:137,column:6}},"37":{start:{line:128,column:6},end:{line:136,column:8}},"38":{start:{line:129,column:8},end:{line:129,column:28}},"39":{start:{line:129,column:17},end:{line:129,column:28}},"40":{start:{line:130,column:18},end:{line:130,column:31}},"41":{start:{line:131,column:8},end:{line:135,column:10}},"42":{start:{line:132,column:10},end:{line:132,column:30}},"43":{start:{line:132,column:19},end:{line:132,column:30}},"44":{start:{line:133,column:10},end:{line:133,column:20}},"45":{start:{line:134,column:10},end:{line:134,column:38}},"46":{start:{line:147,column:4},end:{line:164,column:6}},"47":{start:{line:148,column:6},end:{line:163,column:8}},"48":{start:{line:149,column:8},end:{line:149,column:28}},"49":{start:{line:149,column:17},end:{line:149,column:28}},"50":{start:{line:150,column:18},end:{line:150,column:31}},"51":{start:{line:151,column:29},end:{line:151,column:33}},"52":{start:{line:152,column:33},end:{line:152,column:37}},"53":{start:{line:153,column:8},end:{line:162,column:10}},"54":{start:{line:154,column:10},end:{line:154,column:30}},"55":{start:{line:154,column:19},end:{line:154,column:30}},"56":{start:{line:155,column:10},end:{line:155,column:33}},"57":{start:{line:156,column:10},end:{line:161,column:12}},"58":{start:{line:157,column:12},end:{line:157,column:32}},"59":{start:{line:157,column:21},end:{line:157,column:32}},"60":{start:{line:158,column:12},end:{line:158,column:39}},"61":{start:{line:159,column:12},end:{line:159,column:78}},"62":{start:{line:160,column:12},end:{line:160,column:22}},"63":{start:{line:175,column:4},end:{line:196,column:6}},"64":{start:{line:176,column:6},end:{line:195,column:8}},"65":{start:{line:177,column:8},end:{line:177,column:28}},"66":{start:{line:177,column:17},end:{line:177,column:28}},"67":{start:{line:178,column:18},end:{line:178,column:31}},"68":{start:{line:179,column:8},end:{line:194,column:10}},"69":{start:{line:180,column:10},end:{line:180,column:30}},"70":{start:{line:180,column:19},end:{line:180,column:30}},"71":{start:{line:181,column:10},end:{line:193,column:11}},"72":{start:{line:182,column:12},end:{line:186,column:14}},"73":{start:{line:183,column:14},end:{line:183,column:34}},"74":{start:{line:183,column:23},end:{line:183,column:34}},"75":{start:{line:184,column:14},end:{line:184,column:24}},"76":{start:{line:185,column:14},end:{line:185,column:23}},"77":{start:{line:188,column:12},end:{line:192,column:14}},"78":{start:{line:189,column:14},end:{line:189,column:34}},"79":{start:{line:189,column:23},end:{line:189,column:34}},"80":{start:{line:190,column:14},end:{line:190,column:24}},"81":{start:{line:191,column:14},end:{line:191,column:23}},"82":{start:{line:205,column:4},end:{line:220,column:6}},"83":{start:{line:206,column:6},end:{line:219,column:8}},"84":{start:{line:207,column:8},end:{line:207,column:28}},"85":{start:{line:207,column:17},end:{line:207,column:28}},"86":{start:{line:208,column:18},end:{line:208,column:31}},"87":{start:{line:209,column:8},end:{line:218,column:10}},"88":{start:{line:210,column:10},end:{line:210,column:30}},"89":{start:{line:210,column:19},end:{line:210,column:30}},"90":{start:{line:211,column:20},end:{line:211,column:22}},"91":{start:{line:212,column:10},end:{line:216,column:11}},"92":{start:{line:213,column:12},end:{line:215,column:13}},"93":{start:{line:213,column:25},end:{line:213,column:26}},"94":{start:{line:214,column:14},end:{line:214,column:56}},"95":{start:{line:214,column:37},end:{line:214,column:56}},"96":{start:{line:217,column:10},end:{line:217,column:22}},"97":{start:{line:224,column:0},end:{line:224,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:2},end:{line:11,column:3}},loc:{start:{line:11,column:17},end:{line:16,column:3}},line:11},"1":{name:"(anonymous_1)",decl:{start:{line:23,column:2},end:{line:23,column:3}},loc:{start:{line:23,column:17},end:{line:25,column:3}},line:23},"2":{name:"(anonymous_2)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:20},end:{line:32,column:3}},line:30},"3":{name:"(anonymous_3)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:13},end:{line:39,column:3}},line:37},"4":{name:"(anonymous_4)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:13},end:{line:46,column:3}},line:44},"5":{name:"(anonymous_5)",decl:{start:{line:54,column:2},end:{line:54,column:3}},loc:{start:{line:54,column:17},end:{line:56,column:3}},line:54},"6":{name:"(anonymous_6)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:17},end:{line:64,column:3}},line:62},"7":{name:"(anonymous_7)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:23},end:{line:72,column:3}},line:70},"8":{name:"(anonymous_8)",decl:{start:{line:78,column:2},end:{line:78,column:3}},loc:{start:{line:78,column:29},end:{line:80,column:3}},line:78},"9":{name:"(anonymous_9)",decl:{start:{line:87,column:2},end:{line:87,column:3}},loc:{start:{line:87,column:33},end:{line:99,column:3}},line:87},"10":{name:"(anonymous_10)",decl:{start:{line:88,column:23},end:{line:88,column:24}},loc:{start:{line:88,column:50},end:{line:98,column:5}},line:88},"11":{name:"(anonymous_11)",decl:{start:{line:89,column:84},end:{line:89,column:85}},loc:{start:{line:89,column:103},end:{line:97,column:7}},line:89},"12":{name:"(anonymous_12)",decl:{start:{line:92,column:53},end:{line:92,column:54}},loc:{start:{line:92,column:76},end:{line:96,column:9}},line:92},"13":{name:"(anonymous_13)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:35},end:{line:118,column:3}},line:106},"14":{name:"(anonymous_14)",decl:{start:{line:107,column:23},end:{line:107,column:24}},loc:{start:{line:107,column:50},end:{line:117,column:5}},line:107},"15":{name:"(anonymous_15)",decl:{start:{line:108,column:84},end:{line:108,column:85}},loc:{start:{line:108,column:103},end:{line:116,column:7}},line:108},"16":{name:"(anonymous_16)",decl:{start:{line:111,column:74},end:{line:111,column:75}},loc:{start:{line:111,column:97},end:{line:115,column:9}},line:111},"17":{name:"(anonymous_17)",decl:{start:{line:126,column:2},end:{line:126,column:3}},loc:{start:{line:126,column:35},end:{line:138,column:3}},line:126},"18":{name:"(anonymous_18)",decl:{start:{line:127,column:23},end:{line:127,column:24}},loc:{start:{line:127,column:50},end:{line:137,column:5}},line:127},"19":{name:"(anonymous_19)",decl:{start:{line:128,column:84},end:{line:128,column:85}},loc:{start:{line:128,column:103},end:{line:136,column:7}},line:128},"20":{name:"(anonymous_20)",decl:{start:{line:131,column:94},end:{line:131,column:95}},loc:{start:{line:131,column:117},end:{line:135,column:9}},line:131},"21":{name:"(anonymous_21)",decl:{start:{line:146,column:2},end:{line:146,column:3}},loc:{start:{line:146,column:45},end:{line:165,column:3}},line:146},"22":{name:"(anonymous_22)",decl:{start:{line:147,column:23},end:{line:147,column:24}},loc:{start:{line:147,column:50},end:{line:164,column:5}},line:147},"23":{name:"(anonymous_23)",decl:{start:{line:148,column:84},end:{line:148,column:85}},loc:{start:{line:148,column:103},end:{line:163,column:7}},line:148},"24":{name:"(anonymous_24)",decl:{start:{line:153,column:97},end:{line:153,column:98}},loc:{start:{line:153,column:120},end:{line:162,column:9}},line:153},"25":{name:"(anonymous_25)",decl:{start:{line:156,column:99},end:{line:156,column:100}},loc:{start:{line:156,column:122},end:{line:161,column:11}},line:156},"26":{name:"(anonymous_26)",decl:{start:{line:174,column:2},end:{line:174,column:3}},loc:{start:{line:174,column:56},end:{line:197,column:3}},line:174},"27":{name:"(anonymous_27)",decl:{start:{line:175,column:23},end:{line:175,column:24}},loc:{start:{line:175,column:50},end:{line:196,column:5}},line:175},"28":{name:"(anonymous_28)",decl:{start:{line:176,column:84},end:{line:176,column:85}},loc:{start:{line:176,column:103},end:{line:195,column:7}},line:176},"29":{name:"(anonymous_29)",decl:{start:{line:179,column:88},end:{line:179,column:89}},loc:{start:{line:179,column:111},end:{line:194,column:9}},line:179},"30":{name:"(anonymous_30)",decl:{start:{line:182,column:124},end:{line:182,column:125}},loc:{start:{line:182,column:147},end:{line:186,column:13}},line:182},"31":{name:"(anonymous_31)",decl:{start:{line:188,column:110},end:{line:188,column:111}},loc:{start:{line:188,column:133},end:{line:192,column:13}},line:188},"32":{name:"(anonymous_32)",decl:{start:{line:204,column:2},end:{line:204,column:3}},loc:{start:{line:204,column:34},end:{line:221,column:3}},line:204},"33":{name:"(anonymous_33)",decl:{start:{line:205,column:23},end:{line:205,column:24}},loc:{start:{line:205,column:50},end:{line:220,column:5}},line:205},"34":{name:"(anonymous_34)",decl:{start:{line:206,column:84},end:{line:206,column:85}},loc:{start:{line:206,column:103},end:{line:219,column:7}},line:206},"35":{name:"(anonymous_35)",decl:{start:{line:209,column:73},end:{line:209,column:74}},loc:{start:{line:209,column:96},end:{line:218,column:9}},line:209}},branchMap:{"0":{loc:{start:{line:90,column:8},end:{line:90,column:28}},type:"if",locations:[{start:{line:90,column:8},end:{line:90,column:28}},{start:{line:90,column:8},end:{line:90,column:28}}],line:90},"1":{loc:{start:{line:93,column:10},end:{line:93,column:30}},type:"if",locations:[{start:{line:93,column:10},end:{line:93,column:30}},{start:{line:93,column:10},end:{line:93,column:30}}],line:93},"2":{loc:{start:{line:109,column:8},end:{line:109,column:28}},type:"if",locations:[{start:{line:109,column:8},end:{line:109,column:28}},{start:{line:109,column:8},end:{line:109,column:28}}],line:109},"3":{loc:{start:{line:112,column:10},end:{line:112,column:30}},type:"if",locations:[{start:{line:112,column:10},end:{line:112,column:30}},{start:{line:112,column:10},end:{line:112,column:30}}],line:112},"4":{loc:{start:{line:129,column:8},end:{line:129,column:28}},type:"if",locations:[{start:{line:129,column:8},end:{line:129,column:28}},{start:{line:129,column:8},end:{line:129,column:28}}],line:129},"5":{loc:{start:{line:132,column:10},end:{line:132,column:30}},type:"if",locations:[{start:{line:132,column:10},end:{line:132,column:30}},{start:{line:132,column:10},end:{line:132,column:30}}],line:132},"6":{loc:{start:{line:149,column:8},end:{line:149,column:28}},type:"if",locations:[{start:{line:149,column:8},end:{line:149,column:28}},{start:{line:149,column:8},end:{line:149,column:28}}],line:149},"7":{loc:{start:{line:154,column:10},end:{line:154,column:30}},type:"if",locations:[{start:{line:154,column:10},end:{line:154,column:30}},{start:{line:154,column:10},end:{line:154,column:30}}],line:154},"8":{loc:{start:{line:157,column:12},end:{line:157,column:32}},type:"if",locations:[{start:{line:157,column:12},end:{line:157,column:32}},{start:{line:157,column:12},end:{line:157,column:32}}],line:157},"9":{loc:{start:{line:177,column:8},end:{line:177,column:28}},type:"if",locations:[{start:{line:177,column:8},end:{line:177,column:28}},{start:{line:177,column:8},end:{line:177,column:28}}],line:177},"10":{loc:{start:{line:180,column:10},end:{line:180,column:30}},type:"if",locations:[{start:{line:180,column:10},end:{line:180,column:30}},{start:{line:180,column:10},end:{line:180,column:30}}],line:180},"11":{loc:{start:{line:181,column:10},end:{line:193,column:11}},type:"if",locations:[{start:{line:181,column:10},end:{line:193,column:11}},{start:{line:181,column:10},end:{line:193,column:11}}],line:181},"12":{loc:{start:{line:183,column:14},end:{line:183,column:34}},type:"if",locations:[{start:{line:183,column:14},end:{line:183,column:34}},{start:{line:183,column:14},end:{line:183,column:34}}],line:183},"13":{loc:{start:{line:189,column:14},end:{line:189,column:34}},type:"if",locations:[{start:{line:189,column:14},end:{line:189,column:34}},{start:{line:189,column:14},end:{line:189,column:34}}],line:189},"14":{loc:{start:{line:207,column:8},end:{line:207,column:28}},type:"if",locations:[{start:{line:207,column:8},end:{line:207,column:28}},{start:{line:207,column:8},end:{line:207,column:28}}],line:207},"15":{loc:{start:{line:210,column:10},end:{line:210,column:30}},type:"if",locations:[{start:{line:210,column:10},end:{line:210,column:30}},{start:{line:210,column:10},end:{line:210,column:30}}],line:210},"16":{loc:{start:{line:212,column:10},end:{line:216,column:11}},type:"if",locations:[{start:{line:212,column:10},end:{line:216,column:11}},{start:{line:212,column:10},end:{line:216,column:11}}],line:212},"17":{loc:{start:{line:214,column:14},end:{line:214,column:56}},type:"if",locations:[{start:{line:214,column:14},end:{line:214,column:56}},{start:{line:214,column:14},end:{line:214,column:56}}],line:214}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0d4fe144a0d107aa9de512126c6c50a878b35c1f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_7st9r9bsl=function(){return actualCoverage;};}return actualCoverage;}cov_7st9r9bsl();var MongoClient=(cov_7st9r9bsl().s[0]++,require('mongodb').MongoClient);var ObjectID=(cov_7st9r9bsl().s[1]++,require('mongodb').ObjectId);// Database URL
const url=(cov_7st9r9bsl().s[2]++,'mongodb://localhost:27017/easyagreement');// Database name
const dbName=(cov_7st9r9bsl().s[3]++,'easyagreement');class Message{constructor(){cov_7st9r9bsl().f[0]++;cov_7st9r9bsl().s[4]++;this.senderID=null;cov_7st9r9bsl().s[5]++;this.recipientID=null;cov_7st9r9bsl().s[6]++;this.text=null;cov_7st9r9bsl().s[7]++;this.date=null;}// Getter methods
/**
   * @returns {String} - return senderID
   */getSenderID(){cov_7st9r9bsl().f[1]++;cov_7st9r9bsl().s[8]++;return this.senderID;}/**
   * @returns {String} - return recipientID
   */getRecipientID(){cov_7st9r9bsl().f[2]++;cov_7st9r9bsl().s[9]++;return this.recipientID;}/**
   * @returns {String} - return text
   */getText(){cov_7st9r9bsl().f[3]++;cov_7st9r9bsl().s[10]++;return this.text;}/**
   * @returns {String} - return date
   */getDate(){cov_7st9r9bsl().f[4]++;cov_7st9r9bsl().s[11]++;return this.date;}// setter method
/**
   * set text
   * @param {String} text
   */setText(text){cov_7st9r9bsl().f[5]++;cov_7st9r9bsl().s[12]++;this.text=text;}/**
   * set date
   * @param {string} date 
   */setDate(date){cov_7st9r9bsl().f[6]++;cov_7st9r9bsl().s[13]++;this.date=date;}/**
   * set senderID
   * @param {string} sender 
   */setSenderID(sender){cov_7st9r9bsl().f[7]++;cov_7st9r9bsl().s[14]++;this.senderID=sender;}/**
   * set recipientID
   * @param {String} recipient 
   */setRecipientID(recipient){cov_7st9r9bsl().f[8]++;cov_7st9r9bsl().s[15]++;this.recipientID=recipient;}/**
   * This method inserts the message 
   * @param {Object} message - the message to insert
   * @returns {Promise} - return a promise
   */static insertMessage(message){cov_7st9r9bsl().f[9]++;cov_7st9r9bsl().s[16]++;return new Promise(function(resolve,reject){cov_7st9r9bsl().f[10]++;cov_7st9r9bsl().s[17]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_7st9r9bsl().f[11]++;cov_7st9r9bsl().s[18]++;if(err){cov_7st9r9bsl().b[0][0]++;cov_7st9r9bsl().s[19]++;reject(err);}else{cov_7st9r9bsl().b[0][1]++;}var dbo=(cov_7st9r9bsl().s[20]++,db.db(dbName));cov_7st9r9bsl().s[21]++;dbo.collection('Message').insertOne(message,function(err,result){cov_7st9r9bsl().f[12]++;cov_7st9r9bsl().s[22]++;if(err){cov_7st9r9bsl().b[1][0]++;cov_7st9r9bsl().s[23]++;reject(err);}else{cov_7st9r9bsl().b[1][1]++;}cov_7st9r9bsl().s[24]++;resolve(result.insertedId);cov_7st9r9bsl().s[25]++;db.close();});});});}/**
   * This method removes the message 
   * @param {Object} message - the message to remove
   * @returns {Promise} - return a promise
   */static removeMessage(messageID){cov_7st9r9bsl().f[13]++;cov_7st9r9bsl().s[26]++;return new Promise(function(resolve,reject){cov_7st9r9bsl().f[14]++;cov_7st9r9bsl().s[27]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_7st9r9bsl().f[15]++;cov_7st9r9bsl().s[28]++;if(err){cov_7st9r9bsl().b[2][0]++;cov_7st9r9bsl().s[29]++;reject(err);}else{cov_7st9r9bsl().b[2][1]++;}var dbo=(cov_7st9r9bsl().s[30]++,db.db(dbName));cov_7st9r9bsl().s[31]++;dbo.collection('Message').deleteOne({_id:ObjectID(messageID)},function(err,result){cov_7st9r9bsl().f[16]++;cov_7st9r9bsl().s[32]++;if(err){cov_7st9r9bsl().b[3][0]++;cov_7st9r9bsl().s[33]++;reject(err);}else{cov_7st9r9bsl().b[3][1]++;}cov_7st9r9bsl().s[34]++;db.close();cov_7st9r9bsl().s[35]++;resolve(result.deletedCount);});});});}/**
   * This method update the message 
   * @param {String} id - the id of message
   * @param {value} value - new text
   * @returns {Promise} - return a promise
   */static updateMessage(id,value){cov_7st9r9bsl().f[17]++;cov_7st9r9bsl().s[36]++;return new Promise(function(resolve,reject){cov_7st9r9bsl().f[18]++;cov_7st9r9bsl().s[37]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_7st9r9bsl().f[19]++;cov_7st9r9bsl().s[38]++;if(err){cov_7st9r9bsl().b[4][0]++;cov_7st9r9bsl().s[39]++;reject(err);}else{cov_7st9r9bsl().b[4][1]++;}var dbo=(cov_7st9r9bsl().s[40]++,db.db(dbName));cov_7st9r9bsl().s[41]++;dbo.collection('Message').updateOne({_id:ObjectID(id)},{$set:{text:value}},function(err,result){cov_7st9r9bsl().f[20]++;cov_7st9r9bsl().s[42]++;if(err){cov_7st9r9bsl().b[5][0]++;cov_7st9r9bsl().s[43]++;reject(err);}else{cov_7st9r9bsl().b[5][1]++;}cov_7st9r9bsl().s[44]++;db.close();cov_7st9r9bsl().s[45]++;resolve(result.matchedCount);});});});}/**
   * This method gets the chat between two users
   * @param {String} senderID - chat's sender 
   * @param {String} recipientID - chat's recipient
   * @returns {Promise} - return a promise
   */static getTextChat(senderID,recipientID){cov_7st9r9bsl().f[21]++;cov_7st9r9bsl().s[46]++;return new Promise(function(resolve,reject){cov_7st9r9bsl().f[22]++;cov_7st9r9bsl().s[47]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_7st9r9bsl().f[23]++;cov_7st9r9bsl().s[48]++;if(err){cov_7st9r9bsl().b[6][0]++;cov_7st9r9bsl().s[49]++;reject(err);}else{cov_7st9r9bsl().b[6][1]++;}var dbo=(cov_7st9r9bsl().s[50]++,db.db(dbName));var senderMessages=(cov_7st9r9bsl().s[51]++,null);var recipientMesssages=(cov_7st9r9bsl().s[52]++,null);cov_7st9r9bsl().s[53]++;dbo.collection('Message').find({senderID:senderID,recipientID:recipientID}).toArray(function(err,result){cov_7st9r9bsl().f[24]++;cov_7st9r9bsl().s[54]++;if(err){cov_7st9r9bsl().b[7][0]++;cov_7st9r9bsl().s[55]++;reject(err);}else{cov_7st9r9bsl().b[7][1]++;}cov_7st9r9bsl().s[56]++;senderMessages=result;cov_7st9r9bsl().s[57]++;dbo.collection('Message').find({senderID:recipientID,recipientID:senderID}).toArray(function(err,result){cov_7st9r9bsl().f[25]++;cov_7st9r9bsl().s[58]++;if(err){cov_7st9r9bsl().b[8][0]++;cov_7st9r9bsl().s[59]++;reject(err);}else{cov_7st9r9bsl().b[8][1]++;}cov_7st9r9bsl().s[60]++;recipientMesssages=result;cov_7st9r9bsl().s[61]++;resolve({sender:senderMessages,recipient:recipientMesssages});cov_7st9r9bsl().s[62]++;db.close();});});});});}/**
 * This method refreshes the message cache
 * @param {String} receiverID - The receiver's id
 * @param {String} senderID - The sender's id
 * @param {Boolean} value - The state cache value
 * @returns {Object} - The update result
  */static changeStateCache(receiverID,senderID,value){cov_7st9r9bsl().f[26]++;cov_7st9r9bsl().s[63]++;return new Promise(function(resolve,reject){cov_7st9r9bsl().f[27]++;cov_7st9r9bsl().s[64]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_7st9r9bsl().f[28]++;cov_7st9r9bsl().s[65]++;if(err){cov_7st9r9bsl().b[9][0]++;cov_7st9r9bsl().s[66]++;reject(err);}else{cov_7st9r9bsl().b[9][1]++;}var dbo=(cov_7st9r9bsl().s[67]++,db.db(dbName));cov_7st9r9bsl().s[68]++;dbo.collection('Cache').findOne({receiverID:receiverID,senderID:senderID},function(err,result){cov_7st9r9bsl().f[29]++;cov_7st9r9bsl().s[69]++;if(err){cov_7st9r9bsl().b[10][0]++;cov_7st9r9bsl().s[70]++;reject(err);}else{cov_7st9r9bsl().b[10][1]++;}cov_7st9r9bsl().s[71]++;if(result!=null){cov_7st9r9bsl().b[11][0]++;cov_7st9r9bsl().s[72]++;dbo.collection('Cache').updateOne({receiverID:receiverID,senderID:senderID},{$set:{boolean:value}},function(err,result){cov_7st9r9bsl().f[30]++;cov_7st9r9bsl().s[73]++;if(err){cov_7st9r9bsl().b[12][0]++;cov_7st9r9bsl().s[74]++;reject(err);}else{cov_7st9r9bsl().b[12][1]++;}cov_7st9r9bsl().s[75]++;db.close();cov_7st9r9bsl().s[76]++;resolve();});}else{cov_7st9r9bsl().b[11][1]++;cov_7st9r9bsl().s[77]++;dbo.collection('Cache').insertOne({receiverID:receiverID,senderID:senderID,boolean:value},function(err,result){cov_7st9r9bsl().f[31]++;cov_7st9r9bsl().s[78]++;if(err){cov_7st9r9bsl().b[13][0]++;cov_7st9r9bsl().s[79]++;reject(err);}else{cov_7st9r9bsl().b[13][1]++;}cov_7st9r9bsl().s[80]++;db.close();cov_7st9r9bsl().s[81]++;resolve();});}});});});}/**
 * This method gets all cache of message
 * @param {String} receiverID - The receiver's email
 * @returns {Array} - The message cache
 */static getAllCache(receiverID){cov_7st9r9bsl().f[32]++;cov_7st9r9bsl().s[82]++;return new Promise(function(resolve,reject){cov_7st9r9bsl().f[33]++;cov_7st9r9bsl().s[83]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_7st9r9bsl().f[34]++;cov_7st9r9bsl().s[84]++;if(err){cov_7st9r9bsl().b[14][0]++;cov_7st9r9bsl().s[85]++;reject(err);}else{cov_7st9r9bsl().b[14][1]++;}var dbo=(cov_7st9r9bsl().s[86]++,db.db(dbName));cov_7st9r9bsl().s[87]++;dbo.collection('Cache').find({receiverID:receiverID}).toArray(function(err,result){cov_7st9r9bsl().f[35]++;cov_7st9r9bsl().s[88]++;if(err){cov_7st9r9bsl().b[15][0]++;cov_7st9r9bsl().s[89]++;reject(err);}else{cov_7st9r9bsl().b[15][1]++;}var all=(cov_7st9r9bsl().s[90]++,[]);cov_7st9r9bsl().s[91]++;if(result!=null){cov_7st9r9bsl().b[16][0]++;cov_7st9r9bsl().s[92]++;for(var i=(cov_7st9r9bsl().s[93]++,0);result[i]!=null;i++){cov_7st9r9bsl().s[94]++;if(result[i].boolean){cov_7st9r9bsl().b[17][0]++;cov_7st9r9bsl().s[95]++;all.push(result[i]);}else{cov_7st9r9bsl().b[17][1]++;}}}else{cov_7st9r9bsl().b[16][1]++;}cov_7st9r9bsl().s[96]++;resolve(all);});});});}}cov_7st9r9bsl().s[97]++;module.exports=Message;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2UuanMiXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJyZXF1aXJlIiwiT2JqZWN0SUQiLCJPYmplY3RJZCIsInVybCIsImRiTmFtZSIsIk1lc3NhZ2UiLCJjb25zdHJ1Y3RvciIsInNlbmRlcklEIiwicmVjaXBpZW50SUQiLCJ0ZXh0IiwiZGF0ZSIsImdldFNlbmRlcklEIiwiZ2V0UmVjaXBpZW50SUQiLCJnZXRUZXh0IiwiZ2V0RGF0ZSIsInNldFRleHQiLCJzZXREYXRlIiwic2V0U2VuZGVySUQiLCJzZW5kZXIiLCJzZXRSZWNpcGllbnRJRCIsInJlY2lwaWVudCIsImluc2VydE1lc3NhZ2UiLCJtZXNzYWdlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiZXJyIiwiZGIiLCJkYm8iLCJjb2xsZWN0aW9uIiwiaW5zZXJ0T25lIiwicmVzdWx0IiwiaW5zZXJ0ZWRJZCIsImNsb3NlIiwicmVtb3ZlTWVzc2FnZSIsIm1lc3NhZ2VJRCIsImRlbGV0ZU9uZSIsIl9pZCIsImRlbGV0ZWRDb3VudCIsInVwZGF0ZU1lc3NhZ2UiLCJpZCIsInZhbHVlIiwidXBkYXRlT25lIiwiJHNldCIsIm1hdGNoZWRDb3VudCIsImdldFRleHRDaGF0Iiwic2VuZGVyTWVzc2FnZXMiLCJyZWNpcGllbnRNZXNzc2FnZXMiLCJmaW5kIiwidG9BcnJheSIsImNoYW5nZVN0YXRlQ2FjaGUiLCJyZWNlaXZlcklEIiwiZmluZE9uZSIsImJvb2xlYW4iLCJnZXRBbGxDYWNoZSIsImFsbCIsImkiLCJwdXNoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Im1sZ0JBZVk7eUZBZlosR0FBSUEsQ0FBQUEsV0FBVyx5QkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFtQkQsV0FBdEIsQ0FBZixDQUNBLEdBQUlFLENBQUFBLFFBQVEseUJBQUdELE9BQU8sQ0FBQyxTQUFELENB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QWEsSUFBN0IsQ0FBbUNBLENBQUMsRUFBcEMsQ0FBd0MseUJBQ3RDLEdBQUl6QixNQUFNLENBQUN5QixDQUFELENBQU4sQ0FBVUgsT0FBZCxDQUF1QixvREFBQUUsR0FBRyxDQUFDRSxJQUFKLENBQVMxQixNQUFNLENBQUN5QixDQUFELENBQWYsRUFBbUIsQ0FBMUMsaUNBQ0QsQ0FDRixDQUpELGlDQUhzRix3QkFRdEZuQyxPQUFPLENBQUNrQyxHQUFELENBQVAsQ0FDRCxDQVRELEVBVUQsQ0FiRCxFQWNELENBZk0sQ0FBUCxDQWdCRCxDQW5OVyxDLHdCQXNOZEcsTUFBTSxDQUFDQyxPQUFQLENBQWlCekQsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTW9uZ29DbGllbnQgPSByZXF1aXJlKCdtb25nb2RiJykuTW9uZ29DbGllbnRcbnZhciBPYmplY3RJRCA9IHJlcXVpcmUoJ21vbmdvZGInKS5PYmplY3RJZFxuXG4vLyBEYXRhYmFzZSBVUkxcbmNvbnN0IHVybCA9ICdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L2Vhc3lhZ3JlZW1lbnQnXG5cbi8vIERhdGFiYXNlIG5hbWVcbmNvbnN0IGRiTmFtZSA9ICdlYXN5YWdyZWVtZW50J1xuXG5jbGFzcyBNZXNzYWdlIHtcbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMuc2VuZGVySUQgPSBudWxsXG4gICAgdGhpcy5yZWNpcGllbnRJRCA9IG51bGxcbiAgICB0aGlzLnRleHQgPSBudWxsXG4gICAgdGhpcy5kYXRlID0gbnVsbFxuICB9XG5cbiAgLy8gR2V0dGVyIG1ldGhvZHNcbiAgXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSAtIHJldHVybiBzZW5kZXJJRFxuICAgKi9cbiAgZ2V0U2VuZGVySUQgKCkge1xuICAgIHJldHVybiB0aGlzLnNlbmRlcklEXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge1N0cmluZ30gLSByZXR1cm4gcmVjaXBpZW50SURcbiAgICovXG4gIGdldFJlY2lwaWVudElEICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWNpcGllbnRJRFxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IC0gcmV0dXJuIHRleHRcbiAgICovXG4gIGdldFRleHQgKCkge1xuICAgIHJldHVybiB0aGlzLnRleHRcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSAtIHJldHVybiBkYXRlXG4gICAqL1xuICBnZXREYXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRlXG4gIH1cblxuICAvLyBzZXR0ZXIgbWV0aG9kXG4gIFxuICAvKipcbiAgICogc2V0IHRleHRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRcbiAgICovXG4gIHNldFRleHQgKHRleHQpIHtcbiAgICB0aGlzLnRleHQgPSB0ZXh0XG4gIH1cblxuICAvKipcbiAgICogc2V0IGRhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGUgXG4gICAqL1xuICBzZXREYXRlIChkYXRlKSB7XG4gICAgdGhpcy5kYXRlID0gZGF0ZVxuICB9XG5cbiAgLyoqXG4gICAqIHNldCBzZW5kZXJJRFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VuZGVyIFxuICAgKi9cbiAgc2V0U2VuZGVySUQgKHNlbmRlcikge1xuICAgIHRoaXMuc2VuZGVySUQgPSBzZW5kZXJcbiAgfVxuXG4gIC8qKlxuICAgKiBzZXQgcmVjaXBpZW50SURcbiAgICogQHBhcmFtIHtTdHJpbmd9IHJlY2lwaWVudCBcbiAgICovXG4gIHNldFJlY2lwaWVudElEIChyZWNpcGllbnQpIHtcbiAgICB0aGlzLnJlY2lwaWVudElEID0gcmVjaXBpZW50XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgaW5zZXJ0cyB0aGUgbWVzc2FnZSBcbiAgICogQHBhcmFtIHtPYmplY3R9IG1lc3NhZ2UgLSB0aGUgbWVzc2FnZSB0byBpbnNlcnRcbiAgICogQHJldHVybnMge1Byb21pc2V9IC0gcmV0dXJuIGEgcHJvbWlzZVxuICAgKi9cbiAgc3RhdGljIGluc2VydE1lc3NhZ2UgKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgTW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIHsgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSwgZnVuY3Rpb24gKGVyciwgZGIpIHtcbiAgICAgICAgaWYgKGVycikgcmVqZWN0KGVycilcbiAgICAgICAgdmFyIGRibyA9IGRiLmRiKGRiTmFtZSlcbiAgICAgICAgZGJvLmNvbGxlY3Rpb24oJ01lc3NhZ2UnKS5pbnNlcnRPbmUobWVzc2FnZSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGVycikgcmVqZWN0KGVycilcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdC5pbnNlcnRlZElkKVxuICAgICAgICAgIGRiLmNsb3NlKClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCByZW1vdmVzIHRoZSBtZXNzYWdlIFxuICAgKiBAcGFyYW0ge09iamVjdH0gbWVzc2FnZSAtIHRoZSBtZXNzYWdlIHRvIHJlbW92ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gLSByZXR1cm4gYSBwcm9taXNlXG4gICAqL1xuICBzdGF0aWMgcmVtb3ZlTWVzc2FnZSAobWVzc2FnZUlEKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIE1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlIH0sIGZ1bmN0aW9uIChlcnIsIGRiKSB7XG4gICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXG4gICAgICAgIHZhciBkYm8gPSBkYi5kYihkYk5hbWUpXG4gICAgICAgIGRiby5jb2xsZWN0aW9uKCdNZXNzYWdlJykuZGVsZXRlT25lKHsgX2lkOiBPYmplY3RJRChtZXNzYWdlSUQpIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXG4gICAgICAgICAgZGIuY2xvc2UoKVxuICAgICAgICAgIHJlc29sdmUocmVzdWx0LmRlbGV0ZWRDb3VudClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCB1cGRhdGUgdGhlIG1lc3NhZ2UgXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBpZCBvZiBtZXNzYWdlXG4gICAqIEBwYXJhbSB7dmFsdWV9IHZhbHVlIC0gbmV3IHRleHRcbiAgICogQHJldHVybnMge1Byb21pc2V9IC0gcmV0dXJuIGEgcHJvbWlzZVxuICAgKi9cbiAgc3RhdGljIHVwZGF0ZU1lc3NhZ2UgKGlkLCB2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBNb25nb0NsaWVudC5jb25uZWN0KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBkYikge1xuICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKVxuICAgICAgICB2YXIgZGJvID0gZGIuZGIoZGJOYW1lKVxuICAgICAgICBkYm8uY29sbGVjdGlvbignTWVzc2FnZScpLnVwZGF0ZU9uZSh7IF9pZDogT2JqZWN0SUQoaWQpIH0sIHsgJHNldDogeyB0ZXh0OiB2YWx1ZSB9IH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXG4gICAgICAgICAgZGIuY2xvc2UoKVxuICAgICAgICAgIHJlc29sdmUocmVzdWx0Lm1hdGNoZWRDb3VudClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBnZXRzIHRoZSBjaGF0IGJldHdlZW4gdHdvIHVzZXJzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzZW5kZXJJRCAtIGNoYXQncyBzZW5kZXIgXG4gICAqIEBwYXJhbSB7U3RyaW5nfSByZWNpcGllbnRJRCAtIGNoYXQncyByZWNpcGllbnRcbiAgICogQHJldHVybnMge1Byb21pc2V9IC0gcmV0dXJuIGEgcHJvbWlzZVxuICAgKi9cbiAgc3RhdGljIGdldFRleHRDaGF0IChzZW5kZXJJRCwgcmVjaXBpZW50SUQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgTW9uZ29DbGllbnQuY29ubmVjdCh1cmwsIHsgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSwgZnVuY3Rpb24gKGVyciwgZGIpIHtcbiAgICAgICAgaWYgKGVycikgcmVqZWN0KGVycilcbiAgICAgICAgdmFyIGRibyA9IGRiLmRiKGRiTmFtZSlcbiAgICAgICAgdmFyIHNlbmRlck1lc3NhZ2VzID0gbnVsbFxuICAgICAgICB2YXIgcmVjaXBpZW50TWVzc3NhZ2VzID0gbnVsbFxuICAgICAgICBkYm8uY29sbGVjdGlvbignTWVzc2FnZScpLmZpbmQoeyBzZW5kZXJJRDogc2VuZGVySUQsIHJlY2lwaWVudElEOiByZWNpcGllbnRJRCB9KS50b0FycmF5KGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXG4gICAgICAgICAgc2VuZGVyTWVzc2FnZXMgPSByZXN1bHRcbiAgICAgICAgICBkYm8uY29sbGVjdGlvbignTWVzc2FnZScpLmZpbmQoeyBzZW5kZXJJRDogcmVjaXBpZW50SUQsIHJlY2lwaWVudElEOiBzZW5kZXJJRCB9KS50b0FycmF5KGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGVycikgcmVqZWN0KGVycilcbiAgICAgICAgICAgIHJlY2lwaWVudE1lc3NzYWdlcyA9IHJlc3VsdFxuICAgICAgICAgICAgcmVzb2x2ZSh7IHNlbmRlcjogc2VuZGVyTWVzc2FnZXMsIHJlY2lwaWVudDogcmVjaXBpZW50TWVzc3NhZ2VzIH0pXG4gICAgICAgICAgICBkYi5jbG9zZSgpXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICogVGhpcyBtZXRob2QgcmVmcmVzaGVzIHRoZSBtZXNzYWdlIGNhY2hlXG4gKiBAcGFyYW0ge1N0cmluZ30gcmVjZWl2ZXJJRCAtIFRoZSByZWNlaXZlcidzIGlkXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VuZGVySUQgLSBUaGUgc2VuZGVyJ3MgaWRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gdmFsdWUgLSBUaGUgc3RhdGUgY2FjaGUgdmFsdWVcbiAqIEByZXR1cm5zIHtPYmplY3R9IC0gVGhlIHVwZGF0ZSByZXN1bHRcbiAgKi9cbiAgc3RhdGljIGNoYW5nZVN0YXRlQ2FjaGUgKHJlY2VpdmVySUQsIHNlbmRlcklELCB2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBNb25nb0NsaWVudC5jb25uZWN0KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBkYikge1xuICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKVxuICAgICAgICB2YXIgZGJvID0gZGIuZGIoZGJOYW1lKVxuICAgICAgICBkYm8uY29sbGVjdGlvbignQ2FjaGUnKS5maW5kT25lKHsgcmVjZWl2ZXJJRDogcmVjZWl2ZXJJRCwgc2VuZGVySUQ6IHNlbmRlcklEIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXG4gICAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBkYm8uY29sbGVjdGlvbignQ2FjaGUnKS51cGRhdGVPbmUoeyByZWNlaXZlcklEOiByZWNlaXZlcklELCBzZW5kZXJJRDogc2VuZGVySUQgfSwgeyAkc2V0OiB7IGJvb2xlYW46IHZhbHVlIH0gfSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXG4gICAgICAgICAgICAgIGRiLmNsb3NlKClcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYm8uY29sbGVjdGlvbignQ2FjaGUnKS5pbnNlcnRPbmUoeyByZWNlaXZlcklEOiByZWNlaXZlcklELCBzZW5kZXJJRDogc2VuZGVySUQsIGJvb2xlYW46IHZhbHVlIH0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKVxuICAgICAgICAgICAgICBkYi5jbG9zZSgpXG4gICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAqIFRoaXMgbWV0aG9kIGdldHMgYWxsIGNhY2hlIG9mIG1lc3NhZ2VcbiAqIEBwYXJhbSB7U3RyaW5nfSByZWNlaXZlcklEIC0gVGhlIHJlY2VpdmVyJ3MgZW1haWxcbiAqIEByZXR1cm5zIHtBcnJheX0gLSBUaGUgbWVzc2FnZSBjYWNoZVxuICovXG4gIHN0YXRpYyBnZXRBbGxDYWNoZSAocmVjZWl2ZXJJRCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBNb25nb0NsaWVudC5jb25uZWN0KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBkYikge1xuICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKVxuICAgICAgICB2YXIgZGJvID0gZGIuZGIoZGJOYW1lKVxuICAgICAgICBkYm8uY29sbGVjdGlvbignQ2FjaGUnKS5maW5kKHsgcmVjZWl2ZXJJRDogcmVjZWl2ZXJJRCB9KS50b0FycmF5KGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXG4gICAgICAgICAgdmFyIGFsbCA9IFtdXG4gICAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgcmVzdWx0W2ldICE9IG51bGw7IGkrKykge1xuICAgICAgICAgICAgICBpZiAocmVzdWx0W2ldLmJvb2xlYW4pIGFsbC5wdXNoKHJlc3VsdFtpXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzb2x2ZShhbGwpXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBNZXNzYWdlXG4iXX0=