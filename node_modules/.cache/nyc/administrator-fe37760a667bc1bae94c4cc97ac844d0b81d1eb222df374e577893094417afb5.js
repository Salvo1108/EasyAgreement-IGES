function cov_13ca0cw81y(){var path="/Users/salvatore/Desktop/EasyAgreement-IGES/app/models/administrator.js";var hash="bbb7662a5f25d7574ba9f6db95184a384a14f0ff";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/salvatore/Desktop/EasyAgreement-IGES/app/models/administrator.js",statementMap:{"0":{start:{line:1,column:18},end:{line:1,column:48}},"1":{start:{line:4,column:12},end:{line:4,column:53}},"2":{start:{line:7,column:15},end:{line:7,column:30}},"3":{start:{line:15,column:4},end:{line:15,column:20}},"4":{start:{line:16,column:4},end:{line:16,column:23}},"5":{start:{line:17,column:4},end:{line:17,column:24}},"6":{start:{line:18,column:4},end:{line:18,column:21}},"7":{start:{line:26,column:4},end:{line:26,column:20}},"8":{start:{line:34,column:4},end:{line:34,column:23}},"9":{start:{line:42,column:4},end:{line:42,column:24}},"10":{start:{line:50,column:4},end:{line:50,column:21}},"11":{start:{line:58,column:4},end:{line:58,column:20}},"12":{start:{line:66,column:4},end:{line:66,column:26}},"13":{start:{line:74,column:4},end:{line:74,column:28}},"14":{start:{line:82,column:4},end:{line:82,column:22}},"15":{start:{line:91,column:4},end:{line:110,column:6}},"16":{start:{line:92,column:6},end:{line:109,column:8}},"17":{start:{line:93,column:8},end:{line:93,column:28}},"18":{start:{line:93,column:17},end:{line:93,column:28}},"19":{start:{line:94,column:18},end:{line:94,column:31}},"20":{start:{line:95,column:8},end:{line:108,column:10}},"21":{start:{line:96,column:10},end:{line:96,column:30}},"22":{start:{line:96,column:19},end:{line:96,column:30}},"23":{start:{line:97,column:10},end:{line:106,column:11}},"24":{start:{line:98,column:24},end:{line:98,column:43}},"25":{start:{line:99,column:12},end:{line:99,column:40}},"26":{start:{line:100,column:12},end:{line:100,column:38}},"27":{start:{line:101,column:12},end:{line:101,column:44}},"28":{start:{line:102,column:12},end:{line:102,column:46}},"29":{start:{line:103,column:12},end:{line:103,column:26}},"30":{start:{line:105,column:12},end:{line:105,column:25}},"31":{start:{line:107,column:10},end:{line:107,column:20}},"32":{start:{line:120,column:4},end:{line:144,column:6}},"33":{start:{line:121,column:6},end:{line:143,column:8}},"34":{start:{line:122,column:8},end:{line:122,column:28}},"35":{start:{line:122,column:17},end:{line:122,column:28}},"36":{start:{line:123,column:18},end:{line:123,column:31}},"37":{start:{line:124,column:22},end:{line:124,column:39}},"38":{start:{line:125,column:24},end:{line:125,column:52}},"39":{start:{line:126,column:8},end:{line:128,column:10}},"40":{start:{line:127,column:10},end:{line:127,column:30}},"41":{start:{line:127,column:19},end:{line:127,column:30}},"42":{start:{line:129,column:8},end:{line:142,column:10}},"43":{start:{line:130,column:10},end:{line:130,column:30}},"44":{start:{line:130,column:19},end:{line:130,column:30}},"45":{start:{line:131,column:10},end:{line:140,column:11}},"46":{start:{line:132,column:24},end:{line:132,column:43}},"47":{start:{line:133,column:12},end:{line:133,column:40}},"48":{start:{line:134,column:12},end:{line:134,column:38}},"49":{start:{line:135,column:12},end:{line:135,column:44}},"50":{start:{line:136,column:12},end:{line:136,column:46}},"51":{start:{line:137,column:12},end:{line:137,column:26}},"52":{start:{line:139,column:12},end:{line:139,column:25}},"53":{start:{line:141,column:10},end:{line:141,column:20}},"54":{start:{line:148,column:0},end:{line:148,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:14,column:2},end:{line:14,column:3}},loc:{start:{line:14,column:17},end:{line:19,column:3}},line:14},"1":{name:"(anonymous_1)",decl:{start:{line:25,column:2},end:{line:25,column:3}},loc:{start:{line:25,column:13},end:{line:27,column:3}},line:25},"2":{name:"(anonymous_2)",decl:{start:{line:33,column:2},end:{line:33,column:3}},loc:{start:{line:33,column:16},end:{line:35,column:3}},line:33},"3":{name:"(anonymous_3)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:17},end:{line:43,column:3}},line:41},"4":{name:"(anonymous_4)",decl:{start:{line:49,column:2},end:{line:49,column:3}},loc:{start:{line:49,column:14},end:{line:51,column:3}},line:49},"5":{name:"(anonymous_5)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:17},end:{line:59,column:3}},line:57},"6":{name:"(anonymous_6)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:23},end:{line:67,column:3}},line:65},"7":{name:"(anonymous_7)",decl:{start:{line:73,column:2},end:{line:73,column:3}},loc:{start:{line:73,column:25},end:{line:75,column:3}},line:73},"8":{name:"(anonymous_8)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:19},end:{line:83,column:3}},line:81},"9":{name:"(anonymous_9)",decl:{start:{line:90,column:2},end:{line:90,column:3}},loc:{start:{line:90,column:29},end:{line:111,column:3}},line:90},"10":{name:"(anonymous_10)",decl:{start:{line:91,column:23},end:{line:91,column:24}},loc:{start:{line:91,column:50},end:{line:110,column:5}},line:91},"11":{name:"(anonymous_11)",decl:{start:{line:92,column:84},end:{line:92,column:85}},loc:{start:{line:92,column:103},end:{line:109,column:7}},line:92},"12":{name:"(anonymous_12)",decl:{start:{line:95,column:66},end:{line:95,column:67}},loc:{start:{line:95,column:89},end:{line:108,column:9}},line:95},"13":{name:"(anonymous_13)",decl:{start:{line:119,column:2},end:{line:119,column:3}},loc:{start:{line:119,column:39},end:{line:145,column:3}},line:119},"14":{name:"(anonymous_14)",decl:{start:{line:120,column:23},end:{line:120,column:24}},loc:{start:{line:120,column:50},end:{line:144,column:5}},line:120},"15":{name:"(anonymous_15)",decl:{start:{line:121,column:84},end:{line:121,column:85}},loc:{start:{line:121,column:103},end:{line:143,column:7}},line:121},"16":{name:"(anonymous_16)",decl:{start:{line:126,column:70},end:{line:126,column:71}},loc:{start:{line:126,column:90},end:{line:128,column:9}},line:126},"17":{name:"(anonymous_17)",decl:{start:{line:129,column:67},end:{line:129,column:68}},loc:{start:{line:129,column:90},end:{line:142,column:9}},line:129}},branchMap:{"0":{loc:{start:{line:93,column:8},end:{line:93,column:28}},type:"if",locations:[{start:{line:93,column:8},end:{line:93,column:28}},{start:{line:93,column:8},end:{line:93,column:28}}],line:93},"1":{loc:{start:{line:96,column:10},end:{line:96,column:30}},type:"if",locations:[{start:{line:96,column:10},end:{line:96,column:30}},{start:{line:96,column:10},end:{line:96,column:30}}],line:96},"2":{loc:{start:{line:97,column:10},end:{line:106,column:11}},type:"if",locations:[{start:{line:97,column:10},end:{line:106,column:11}},{start:{line:97,column:10},end:{line:106,column:11}}],line:97},"3":{loc:{start:{line:122,column:8},end:{line:122,column:28}},type:"if",locations:[{start:{line:122,column:8},end:{line:122,column:28}},{start:{line:122,column:8},end:{line:122,column:28}}],line:122},"4":{loc:{start:{line:127,column:10},end:{line:127,column:30}},type:"if",locations:[{start:{line:127,column:10},end:{line:127,column:30}},{start:{line:127,column:10},end:{line:127,column:30}}],line:127},"5":{loc:{start:{line:130,column:10},end:{line:130,column:30}},type:"if",locations:[{start:{line:130,column:10},end:{line:130,column:30}},{start:{line:130,column:10},end:{line:130,column:30}}],line:130},"6":{loc:{start:{line:131,column:10},end:{line:140,column:11}},type:"if",locations:[{start:{line:131,column:10},end:{line:140,column:11}},{start:{line:131,column:10},end:{line:140,column:11}}],line:131}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bbb7662a5f25d7574ba9f6db95184a384a14f0ff"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_13ca0cw81y=function(){return actualCoverage;};}return actualCoverage;}cov_13ca0cw81y();var MongoClient=(cov_13ca0cw81y().s[0]++,require('mongodb').MongoClient);// Database URL
const url=(cov_13ca0cw81y().s[1]++,'mongodb://localhost:27017/easyagreement');// Database name
const dbName=(cov_13ca0cw81y().s[2]++,'easyagreement');class Administrator{/**
     * Constructor of administrator
     * @constructor
     */constructor(){cov_13ca0cw81y().f[0]++;cov_13ca0cw81y().s[3]++;this.name=null;cov_13ca0cw81y().s[4]++;this.surname=null;cov_13ca0cw81y().s[5]++;this.password=null;cov_13ca0cw81y().s[6]++;this.email=null;}/**
     * Get name
     * @returns {String} - return name
     */getName(){cov_13ca0cw81y().f[1]++;cov_13ca0cw81y().s[7]++;return this.name;}/**
     * Get surname
     * @returns {String} - return surname
     */getSurname(){cov_13ca0cw81y().f[2]++;cov_13ca0cw81y().s[8]++;return this.surname;}/**
     * Get password
     * @returns {Object} - return password
     */getPassword(){cov_13ca0cw81y().f[3]++;cov_13ca0cw81y().s[9]++;return this.password;}/**
     * Get email
     * @returns {String} - return email
     */getEmail(){cov_13ca0cw81y().f[4]++;cov_13ca0cw81y().s[10]++;return this.email;}/**
     * Set name
     * @param {String} name - name
     */setName(name){cov_13ca0cw81y().f[5]++;cov_13ca0cw81y().s[11]++;this.name=name;}/**
     * Set surname
     * @param {String} surname - surname
     */setSurname(surname){cov_13ca0cw81y().f[6]++;cov_13ca0cw81y().s[12]++;this.surname=surname;}/**
     * Set password
     * @param {Object} password - password
     */setPassword(password){cov_13ca0cw81y().f[7]++;cov_13ca0cw81y().s[13]++;this.password=password;}/**
     * Set email
     * @param {String} email - email
     */setEmail(email){cov_13ca0cw81y().f[8]++;cov_13ca0cw81y().s[14]++;this.email=email;}/**
 * Find administrator by email
 * @param {String} email- email of tutor
 * @returns {boolean} - return true if the object does not exist in database, else false
 */static findByEmail(email){cov_13ca0cw81y().f[9]++;cov_13ca0cw81y().s[15]++;return new Promise(function(resolve,reject){cov_13ca0cw81y().f[10]++;cov_13ca0cw81y().s[16]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_13ca0cw81y().f[11]++;cov_13ca0cw81y().s[17]++;if(err){cov_13ca0cw81y().b[0][0]++;cov_13ca0cw81y().s[18]++;reject(err);}else{cov_13ca0cw81y().b[0][1]++;}var dbo=(cov_13ca0cw81y().s[19]++,db.db(dbName));cov_13ca0cw81y().s[20]++;dbo.collection('Administrator').findOne({email:email},function(err,result){cov_13ca0cw81y().f[12]++;cov_13ca0cw81y().s[21]++;if(err){cov_13ca0cw81y().b[1][0]++;cov_13ca0cw81y().s[22]++;reject(err);}else{cov_13ca0cw81y().b[1][1]++;}cov_13ca0cw81y().s[23]++;if(result!=null){cov_13ca0cw81y().b[2][0]++;var admin=(cov_13ca0cw81y().s[24]++,new Administrator());cov_13ca0cw81y().s[25]++;admin.setEmail(result.email);cov_13ca0cw81y().s[26]++;admin.setName(result.name);cov_13ca0cw81y().s[27]++;admin.setSurname(result.surname);cov_13ca0cw81y().s[28]++;admin.setPassword(result.Password);cov_13ca0cw81y().s[29]++;resolve(admin);}else{cov_13ca0cw81y().b[2][1]++;cov_13ca0cw81y().s[30]++;resolve(null);}cov_13ca0cw81y().s[31]++;db.close();});});});}/**
   * This method update the administrator's password 
   * @param {String} password - the new administrator's password 
   * @param {String} emailv - administrator's email
   * @returns {Object} - It returns the updated administrator if result != null, else it returns null
   */static updatePassword(pass,emailv){cov_13ca0cw81y().f[13]++;cov_13ca0cw81y().s[32]++;return new Promise(function(resolve,reject){cov_13ca0cw81y().f[14]++;cov_13ca0cw81y().s[33]++;MongoClient.connect(url,{useNewUrlParser:true,useUnifiedTopology:true},function(err,db){cov_13ca0cw81y().f[15]++;cov_13ca0cw81y().s[34]++;if(err){cov_13ca0cw81y().b[3][0]++;cov_13ca0cw81y().s[35]++;reject(err);}else{cov_13ca0cw81y().b[3][1]++;}var dbo=(cov_13ca0cw81y().s[36]++,db.db(dbName));var myquery=(cov_13ca0cw81y().s[37]++,{email:emailv});var newvalues=(cov_13ca0cw81y().s[38]++,{$set:{Password:pass}});cov_13ca0cw81y().s[39]++;dbo.collection('Administrator').updateOne(myquery,newvalues,function(err,res){cov_13ca0cw81y().f[16]++;cov_13ca0cw81y().s[40]++;if(err){cov_13ca0cw81y().b[4][0]++;cov_13ca0cw81y().s[41]++;reject(err);}else{cov_13ca0cw81y().b[4][1]++;}});cov_13ca0cw81y().s[42]++;dbo.collection('Administrator').findOne({email:emailv},function(err,result){cov_13ca0cw81y().f[17]++;cov_13ca0cw81y().s[43]++;if(err){cov_13ca0cw81y().b[5][0]++;cov_13ca0cw81y().s[44]++;reject(err);}else{cov_13ca0cw81y().b[5][1]++;}cov_13ca0cw81y().s[45]++;if(result!=null){cov_13ca0cw81y().b[6][0]++;var admin=(cov_13ca0cw81y().s[46]++,new Administrator());cov_13ca0cw81y().s[47]++;admin.setEmail(result.email);cov_13ca0cw81y().s[48]++;admin.setName(result.name);cov_13ca0cw81y().s[49]++;admin.setSurname(result.surname);cov_13ca0cw81y().s[50]++;admin.setPassword(result.Password);cov_13ca0cw81y().s[51]++;resolve(admin);}else{cov_13ca0cw81y().b[6][1]++;cov_13ca0cw81y().s[52]++;resolve(null);}cov_13ca0cw81y().s[53]++;db.close();});});});}}cov_13ca0cw81y().s[54]++;module.exports=Administrator;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluaXN0cmF0b3IuanMiXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJyZXF1aXJlIiwidXJsIiwiZGJOYW1lIiwiQWRtaW5pc3RyYXRvciIsImNvbnN0cnVjdG9yIiwibmFtZSIsInN1cm5hbWUiLCJwYXNzd29yZCIsImVtYWlsIiwiZ2V0TmFtZSIsImdldFN1cm5hbWUiLCJnZXRQYXNzd29yZCIsImdldEVtYWlsIiwic2V0TmFtZSIsInNldFN1cm5hbWUiLCJzZXRQYXNzd29yZCIsInNldEVtYWlsIiwiZmluZEJ5RW1haWwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJlcnIiLCJkYiIsImRibyIsImNvbGxlY3Rpb24iLCJmaW5kT25lIiwicmVzdWx0IiwiYWRtaW4iLCJQYXNzd29yZCIsImNsb3NlIiwidXBkYXRlUGFzc3dvcmQiLCJwYXNzIiwiZW1haWx2IiwibXlxdWVyeSIsIm5ld3ZhbHVlcyIsIiRzZXQiLCJ1cGRhdGVPbmUiLCJyZXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiZ3VRQWVZOzJGQWZaLEdBQUlBLENBQUFBLFdBQVcsMEJBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJELFdBQXRCLENBQWYsQ0FFQTtBQUNBLEtBQU1FLENBQUFBLEdBQUcsMEJBQUcseUNBQUgsQ0FBVCxDQUVBO0FBQ0EsS0FBTUMsQ0FBQUEsTUFBTSwwQkFBRyxlQUFILENBQVosQ0FFQSxLQUFNQyxDQUFBQSxhQUFjLENBQ2xCO0FBQ0Y7QUFDQTtBQUNBLE9BQ0VDLFdBQVcsRUFBSSxpREFDYixLQUFLQyxJQUFMLENBQVksSUFBWixDQURhLHdCQUViLEtBQUtDLE9BQUwsQ0FBZSxJQUFmLENBRmEsd0JBR2IsS0FBS0MsUUFBTCxDQUFnQixJQUFoQixDQUhhLHdCQUliLEtBQUtDLEtBQUwsQ0FBYSxJQUFiLENBQ0QsQ0FFRDtBQUNGO0FBQ0E7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QUZrQix5QkFHbEJzQixLQUFLLENBQUNqQixPQUFOLENBQWNnQixNQUFNLENBQUN4QixJQUFyQixFQUhrQix5QkFJbEJ5QixLQUFLLENBQUNoQixVQUFOLENBQWlCZSxNQUFNLENBQUN2QixPQUF4QixFQUprQix5QkFLbEJ3QixLQUFLLENBQUNmLFdBQU4sQ0FBa0JjLE1BQU0sQ0FBQ0UsUUFBekIsRUFMa0IseUJBTWxCWixPQUFPLENBQUNXLEtBQUQsQ0FBUCxDQUNELENBUEQsSUFPTyxxREFDTFgsT0FBTyxDQUFDLElBQUQsQ0FBUCxDQUNELENBWCtFLHlCQVloRk0sRUFBRSxDQUFDTyxLQUFILEdBQ0QsQ0FiRCxFQWNELENBdEJELEVBdUJELENBeEJNLENBQVAsQ0F5QkQsQ0F4SWlCLEMseUJBMklwQlMsTUFBTSxDQUFDQyxPQUFQLENBQWlCdkMsYUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTW9uZ29DbGllbnQgPSByZXF1aXJlKCdtb25nb2RiJykuTW9uZ29DbGllbnRcblxuLy8gRGF0YWJhc2UgVVJMXG5jb25zdCB1cmwgPSAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9lYXN5YWdyZWVtZW50J1xuXG4vLyBEYXRhYmFzZSBuYW1lXG5jb25zdCBkYk5hbWUgPSAnZWFzeWFncmVlbWVudCdcblxuY2xhc3MgQWRtaW5pc3RyYXRvciB7XG4gIC8qKlxuICAgICAqIENvbnN0cnVjdG9yIG9mIGFkbWluaXN0cmF0b3JcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMubmFtZSA9IG51bGxcbiAgICB0aGlzLnN1cm5hbWUgPSBudWxsXG4gICAgdGhpcy5wYXNzd29yZCA9IG51bGxcbiAgICB0aGlzLmVtYWlsID0gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAgICogR2V0IG5hbWVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSAtIHJldHVybiBuYW1lXG4gICAgICovXG4gIGdldE5hbWUgKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWVcbiAgfVxuXG4gIC8qKlxuICAgICAqIEdldCBzdXJuYW1lXG4gICAgICogQHJldHVybnMge1N0cmluZ30gLSByZXR1cm4gc3VybmFtZVxuICAgICAqL1xuICBnZXRTdXJuYW1lICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdXJuYW1lXG4gIH1cblxuICAvKipcbiAgICAgKiBHZXQgcGFzc3dvcmRcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIHJldHVybiBwYXNzd29yZFxuICAgICAqL1xuICBnZXRQYXNzd29yZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFzc3dvcmRcbiAgfVxuXG4gIC8qKlxuICAgICAqIEdldCBlbWFpbFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IC0gcmV0dXJuIGVtYWlsXG4gICAgICovXG4gIGdldEVtYWlsICgpIHtcbiAgICByZXR1cm4gdGhpcy5lbWFpbFxuICB9XG5cbiAgLyoqXG4gICAgICogU2V0IG5hbWVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIG5hbWVcbiAgICAgKi9cbiAgc2V0TmFtZSAobmFtZSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgfVxuXG4gIC8qKlxuICAgICAqIFNldCBzdXJuYW1lXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN1cm5hbWUgLSBzdXJuYW1lXG4gICAgICovXG4gIHNldFN1cm5hbWUgKHN1cm5hbWUpIHtcbiAgICB0aGlzLnN1cm5hbWUgPSBzdXJuYW1lXG4gIH1cblxuICAvKipcbiAgICAgKiBTZXQgcGFzc3dvcmRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFzc3dvcmQgLSBwYXNzd29yZFxuICAgICAqL1xuICBzZXRQYXNzd29yZCAocGFzc3dvcmQpIHtcbiAgICB0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmRcbiAgfVxuXG4gIC8qKlxuICAgICAqIFNldCBlbWFpbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbWFpbCAtIGVtYWlsXG4gICAgICovXG4gIHNldEVtYWlsIChlbWFpbCkge1xuICAgIHRoaXMuZW1haWwgPSBlbWFpbFxuICB9XG5cbiAgLyoqXG4gKiBGaW5kIGFkbWluaXN0cmF0b3IgYnkgZW1haWxcbiAqIEBwYXJhbSB7U3RyaW5nfSBlbWFpbC0gZW1haWwgb2YgdHV0b3JcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIHJldHVybiB0cnVlIGlmIHRoZSBvYmplY3QgZG9lcyBub3QgZXhpc3QgaW4gZGF0YWJhc2UsIGVsc2UgZmFsc2VcbiAqL1xuICBzdGF0aWMgZmluZEJ5RW1haWwgKGVtYWlsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIE1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCB7IHVzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlIH0sIGZ1bmN0aW9uIChlcnIsIGRiKSB7XG4gICAgICAgIGlmIChlcnIpIHJlamVjdChlcnIpXG4gICAgICAgIHZhciBkYm8gPSBkYi5kYihkYk5hbWUpXG4gICAgICAgIGRiby5jb2xsZWN0aW9uKCdBZG1pbmlzdHJhdG9yJykuZmluZE9uZSh7IGVtYWlsOiBlbWFpbCB9LCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKVxuICAgICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGFkbWluID0gbmV3IEFkbWluaXN0cmF0b3IoKVxuICAgICAgICAgICAgYWRtaW4uc2V0RW1haWwocmVzdWx0LmVtYWlsKVxuICAgICAgICAgICAgYWRtaW4uc2V0TmFtZShyZXN1bHQubmFtZSlcbiAgICAgICAgICAgIGFkbWluLnNldFN1cm5hbWUocmVzdWx0LnN1cm5hbWUpXG4gICAgICAgICAgICBhZG1pbi5zZXRQYXNzd29yZChyZXN1bHQuUGFzc3dvcmQpXG4gICAgICAgICAgICByZXNvbHZlKGFkbWluKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKG51bGwpXG4gICAgICAgICAgfVxuICAgICAgICAgIGRiLmNsb3NlKClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCB1cGRhdGUgdGhlIGFkbWluaXN0cmF0b3IncyBwYXNzd29yZCBcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkIC0gdGhlIG5ldyBhZG1pbmlzdHJhdG9yJ3MgcGFzc3dvcmQgXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlbWFpbHYgLSBhZG1pbmlzdHJhdG9yJ3MgZW1haWxcbiAgICogQHJldHVybnMge09iamVjdH0gLSBJdCByZXR1cm5zIHRoZSB1cGRhdGVkIGFkbWluaXN0cmF0b3IgaWYgcmVzdWx0ICE9IG51bGwsIGVsc2UgaXQgcmV0dXJucyBudWxsXG4gICAqL1xuICBzdGF0aWMgdXBkYXRlUGFzc3dvcmQgKHBhc3MsIGVtYWlsdikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBNb25nb0NsaWVudC5jb25uZWN0KHVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9LCBmdW5jdGlvbiAoZXJyLCBkYikge1xuICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKVxuICAgICAgICB2YXIgZGJvID0gZGIuZGIoZGJOYW1lKVxuICAgICAgICB2YXIgbXlxdWVyeSA9IHsgZW1haWw6IGVtYWlsdiB9XG4gICAgICAgIHZhciBuZXd2YWx1ZXMgPSB7ICRzZXQ6IHsgUGFzc3dvcmQ6IHBhc3MgfSB9XG4gICAgICAgIGRiby5jb2xsZWN0aW9uKCdBZG1pbmlzdHJhdG9yJykudXBkYXRlT25lKG15cXVlcnksIG5ld3ZhbHVlcywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgICAgaWYgKGVycikgcmVqZWN0KGVycilcbiAgICAgICAgfSlcbiAgICAgICAgZGJvLmNvbGxlY3Rpb24oJ0FkbWluaXN0cmF0b3InKS5maW5kT25lKHsgZW1haWw6IGVtYWlsdiB9LCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKVxuICAgICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGFkbWluID0gbmV3IEFkbWluaXN0cmF0b3IoKVxuICAgICAgICAgICAgYWRtaW4uc2V0RW1haWwocmVzdWx0LmVtYWlsKVxuICAgICAgICAgICAgYWRtaW4uc2V0TmFtZShyZXN1bHQubmFtZSlcbiAgICAgICAgICAgIGFkbWluLnNldFN1cm5hbWUocmVzdWx0LnN1cm5hbWUpXG4gICAgICAgICAgICBhZG1pbi5zZXRQYXNzd29yZChyZXN1bHQuUGFzc3dvcmQpXG4gICAgICAgICAgICByZXNvbHZlKGFkbWluKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKG51bGwpXG4gICAgICAgICAgfVxuICAgICAgICAgIGRiLmNsb3NlKClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFkbWluaXN0cmF0b3JcbiJdfQ==