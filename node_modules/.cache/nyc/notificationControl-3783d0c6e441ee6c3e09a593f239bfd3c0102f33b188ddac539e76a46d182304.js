function cov_1ymdp7cpti(){var path="/Users/salvatore/Desktop/EasyAgreement-IGES/app/controllers/notificationControl.js";var hash="50bfe92c553ab5b7fd949e5f01e6912b3b8b9910";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/salvatore/Desktop/EasyAgreement-IGES/app/controllers/notificationControl.js",statementMap:{"0":{start:{line:1,column:26},end:{line:1,column:59}},"1":{start:{line:8,column:0},end:{line:30,column:1}},"2":{start:{line:9,column:2},end:{line:29,column:4}},"3":{start:{line:10,column:24},end:{line:10,column:57}},"4":{start:{line:11,column:4},end:{line:28,column:6}},"5":{start:{line:12,column:6},end:{line:27,column:7}},"6":{start:{line:13,column:8},end:{line:15,column:9}},"7":{start:{line:13,column:21},end:{line:13,column:22}},"8":{start:{line:14,column:10},end:{line:14,column:178}},"9":{start:{line:16,column:8},end:{line:20,column:10}},"10":{start:{line:17,column:10},end:{line:17,column:54}},"11":{start:{line:17,column:45},end:{line:17,column:54}},"12":{start:{line:18,column:10},end:{line:18,column:53}},"13":{start:{line:18,column:45},end:{line:18,column:53}},"14":{start:{line:19,column:10},end:{line:19,column:18}},"15":{start:{line:21,column:8},end:{line:23,column:9}},"16":{start:{line:22,column:10},end:{line:22,column:38}},"17":{start:{line:24,column:8},end:{line:24,column:23}},"18":{start:{line:26,column:8},end:{line:26,column:21}},"19":{start:{line:38,column:0},end:{line:45,column:1}},"20":{start:{line:39,column:2},end:{line:44,column:4}},"21":{start:{line:40,column:18},end:{line:40,column:58}},"22":{start:{line:41,column:4},end:{line:43,column:6}},"23":{start:{line:42,column:6},end:{line:42,column:19}},"24":{start:{line:52,column:0},end:{line:63,column:1}},"25":{start:{line:53,column:2},end:{line:62,column:4}},"26":{start:{line:54,column:23},end:{line:54,column:46}},"27":{start:{line:55,column:4},end:{line:55,column:55}},"28":{start:{line:56,column:4},end:{line:56,column:39}},"29":{start:{line:57,column:4},end:{line:57,column:39}},"30":{start:{line:58,column:19},end:{line:58,column:69}},"31":{start:{line:59,column:4},end:{line:61,column:6}},"32":{start:{line:60,column:6},end:{line:60,column:21}},"33":{start:{line:71,column:0},end:{line:78,column:1}},"34":{start:{line:72,column:2},end:{line:77,column:4}},"35":{start:{line:73,column:18},end:{line:73,column:73}},"36":{start:{line:74,column:4},end:{line:76,column:6}},"37":{start:{line:75,column:6},end:{line:75,column:21}},"38":{start:{line:85,column:0},end:{line:92,column:1}},"39":{start:{line:86,column:2},end:{line:91,column:4}},"40":{start:{line:87,column:14},end:{line:87,column:59}},"41":{start:{line:88,column:4},end:{line:90,column:6}},"42":{start:{line:89,column:6},end:{line:89,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:8,column:29},end:{line:8,column:30}},loc:{start:{line:8,column:48},end:{line:30,column:1}},line:8},"1":{name:"(anonymous_1)",decl:{start:{line:9,column:21},end:{line:9,column:22}},loc:{start:{line:9,column:48},end:{line:29,column:3}},line:9},"2":{name:"(anonymous_2)",decl:{start:{line:11,column:23},end:{line:11,column:24}},loc:{start:{line:11,column:41},end:{line:28,column:5}},line:11},"3":{name:"(anonymous_3)",decl:{start:{line:16,column:20},end:{line:16,column:21}},loc:{start:{line:16,column:36},end:{line:20,column:9}},line:16},"4":{name:"(anonymous_4)",decl:{start:{line:38,column:29},end:{line:38,column:30}},loc:{start:{line:38,column:48},end:{line:45,column:1}},line:38},"5":{name:"(anonymous_5)",decl:{start:{line:39,column:21},end:{line:39,column:22}},loc:{start:{line:39,column:48},end:{line:44,column:3}},line:39},"6":{name:"(anonymous_6)",decl:{start:{line:41,column:17},end:{line:41,column:18}},loc:{start:{line:41,column:35},end:{line:43,column:5}},line:41},"7":{name:"(anonymous_7)",decl:{start:{line:52,column:29},end:{line:52,column:30}},loc:{start:{line:52,column:49},end:{line:63,column:1}},line:52},"8":{name:"(anonymous_8)",decl:{start:{line:53,column:21},end:{line:53,column:22}},loc:{start:{line:53,column:48},end:{line:62,column:3}},line:53},"9":{name:"(anonymous_9)",decl:{start:{line:59,column:18},end:{line:59,column:19}},loc:{start:{line:59,column:36},end:{line:61,column:5}},line:59},"10":{name:"(anonymous_10)",decl:{start:{line:71,column:35},end:{line:71,column:36}},loc:{start:{line:71,column:66},end:{line:78,column:1}},line:71},"11":{name:"(anonymous_11)",decl:{start:{line:72,column:21},end:{line:72,column:22}},loc:{start:{line:72,column:48},end:{line:77,column:3}},line:72},"12":{name:"(anonymous_12)",decl:{start:{line:74,column:17},end:{line:74,column:18}},loc:{start:{line:74,column:35},end:{line:76,column:5}},line:74},"13":{name:"(anonymous_13)",decl:{start:{line:85,column:36},end:{line:85,column:37}},loc:{start:{line:85,column:60},end:{line:92,column:1}},line:85},"14":{name:"(anonymous_14)",decl:{start:{line:86,column:21},end:{line:86,column:22}},loc:{start:{line:86,column:48},end:{line:91,column:3}},line:86},"15":{name:"(anonymous_15)",decl:{start:{line:88,column:13},end:{line:88,column:14}},loc:{start:{line:88,column:31},end:{line:90,column:5}},line:88}},branchMap:{"0":{loc:{start:{line:12,column:6},end:{line:27,column:7}},type:"if",locations:[{start:{line:12,column:6},end:{line:27,column:7}},{start:{line:12,column:6},end:{line:27,column:7}}],line:12},"1":{loc:{start:{line:17,column:10},end:{line:17,column:54}},type:"if",locations:[{start:{line:17,column:10},end:{line:17,column:54}},{start:{line:17,column:10},end:{line:17,column:54}}],line:17},"2":{loc:{start:{line:18,column:10},end:{line:18,column:53}},type:"if",locations:[{start:{line:18,column:10},end:{line:18,column:53}},{start:{line:18,column:10},end:{line:18,column:53}}],line:18}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"50bfe92c553ab5b7fd949e5f01e6912b3b8b9910"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1ymdp7cpti=function(){return actualCoverage;};}return actualCoverage;}cov_1ymdp7cpti();const NotificationModel=(cov_1ymdp7cpti().s[0]++,require('../models/notification'));/**
 * This method retrieves all the notification 
 * @param {String} id - The notification's id by id
 * @param {Object} res - The HTTP response
 * @returns {Int} - 
 */cov_1ymdp7cpti().s[1]++;exports.getAllNotification=function(id,res){cov_1ymdp7cpti().f[0]++;cov_1ymdp7cpti().s[2]++;return new Promise(function(resolve,reject){cov_1ymdp7cpti().f[1]++;var notifications=(cov_1ymdp7cpti().s[3]++,NotificationModel.retrieveAll(id));cov_1ymdp7cpti().s[4]++;notifications.then(function(result){cov_1ymdp7cpti().f[2]++;cov_1ymdp7cpti().s[5]++;if(result.length>0){cov_1ymdp7cpti().b[0][0]++;cov_1ymdp7cpti().s[6]++;for(var i=(cov_1ymdp7cpti().s[7]++,0);result[i]!=null;i++){cov_1ymdp7cpti().s[8]++;result[i].compareData=new Date(result[i].date.year,result[i].date.month-1,result[i].date.day,result[i].date.hour,result[i].date.minutes,result[i].date.seconds);}cov_1ymdp7cpti().s[9]++;result.sort(function(a,b){cov_1ymdp7cpti().f[3]++;cov_1ymdp7cpti().s[10]++;if(a.compareData<b.compareData){cov_1ymdp7cpti().b[1][0]++;cov_1ymdp7cpti().s[11]++;return-1;}else{cov_1ymdp7cpti().b[1][1]++;}cov_1ymdp7cpti().s[12]++;if(a.compareData>b.compareData){cov_1ymdp7cpti().b[2][0]++;cov_1ymdp7cpti().s[13]++;return 1;}else{cov_1ymdp7cpti().b[2][1]++;}cov_1ymdp7cpti().s[14]++;return 0;});cov_1ymdp7cpti().s[15]++;for(i=0;result[i]!=null;i++){cov_1ymdp7cpti().s[16]++;delete result[i].compareData;}cov_1ymdp7cpti().s[17]++;resolve(result);}else{cov_1ymdp7cpti().b[0][1]++;cov_1ymdp7cpti().s[18]++;resolve(null);}});});};/**
 * This method remove a specific notification
 * @param {String} id - the id of notification to remove
 * @param {Object} res - the HTTP response 
 * @returns {Boolean} - It returns true if the notification was removed successfull, else false
 */cov_1ymdp7cpti().s[19]++;exports.removeNotification=function(id,res){cov_1ymdp7cpti().f[4]++;cov_1ymdp7cpti().s[20]++;return new Promise(function(resolve,reject){cov_1ymdp7cpti().f[5]++;var deleted=(cov_1ymdp7cpti().s[21]++,NotificationModel.removeNotification(id));cov_1ymdp7cpti().s[22]++;deleted.then(function(result){cov_1ymdp7cpti().f[6]++;cov_1ymdp7cpti().s[23]++;resolve(true);});});};/**
 * This method remove a specific notification
 * @param {Notification} notifica - the notification to insert
 * @returns {Boolean} - It returns true if the notification was inserted successfull, else false
 */cov_1ymdp7cpti().s[24]++;exports.insertNotification=function(notifica){cov_1ymdp7cpti().f[7]++;cov_1ymdp7cpti().s[25]++;return new Promise(function(resolve,reject){cov_1ymdp7cpti().f[8]++;var notification=(cov_1ymdp7cpti().s[26]++,new NotificationModel());cov_1ymdp7cpti().s[27]++;notification.setAssociatedID(notifica.associatedID);cov_1ymdp7cpti().s[28]++;notification.setText(notifica.text);cov_1ymdp7cpti().s[29]++;notification.setDate(notifica.date);var inserted=(cov_1ymdp7cpti().s[30]++,NotificationModel.insertNotification(notification));cov_1ymdp7cpti().s[31]++;inserted.then(function(result){cov_1ymdp7cpti().f[9]++;cov_1ymdp7cpti().s[32]++;resolve(result);});});};/**
 * This method refreshes the message cache
 * @param {String} associatedID - The notification's id
 * @param {Boolean} value - The state cache value
 * @returns {Object} - The update result
  */cov_1ymdp7cpti().s[33]++;exports.refreshNotificationCache=function(associatedId,value){cov_1ymdp7cpti().f[10]++;cov_1ymdp7cpti().s[34]++;return new Promise(function(resolve,reject){cov_1ymdp7cpti().f[11]++;var refresh=(cov_1ymdp7cpti().s[35]++,NotificationModel.changeStateCache(associatedId,value));cov_1ymdp7cpti().s[36]++;refresh.then(function(result){cov_1ymdp7cpti().f[12]++;cov_1ymdp7cpti().s[37]++;resolve(result);});});};/**
 * This method gets all cache of message
 * @param {String} associatedID - The notification's id
 * @returns {Array} - The notification cache
 */cov_1ymdp7cpti().s[38]++;exports.getNotificationCacheState=function(associatedID){cov_1ymdp7cpti().f[13]++;cov_1ymdp7cpti().s[39]++;return new Promise(function(resolve,reject){cov_1ymdp7cpti().f[14]++;var get=(cov_1ymdp7cpti().s[40]++,NotificationModel.getStateCache(associatedID));cov_1ymdp7cpti().s[41]++;get.then(function(result){cov_1ymdp7cpti().f[15]++;cov_1ymdp7cpti().s[42]++;resolve(result);});});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdGlmaWNhdGlvbkNvbnRyb2wuanMiXSwibmFtZXMiOlsiTm90aWZpY2F0aW9uTW9kZWwiLCJyZXF1aXJlIiwiZXhwb3J0cyIsImdldEFsbE5vdGlmaWNhdGlvbiIsImlkIiwicmVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJub3RpZmljYXRpb25zIiwicmV0cmlldmVBbGwiLCJ0aGVuIiwicmVzdWx0IiwibGVuZ3RoIiwiaSIsImNvbXBhcmVEYXRhIiwiRGF0ZSIsImRhdGUiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJob3VyIiwibWludXRlcyIsInNlY29uZHMiLCJzb3J0IiwiYSIsImIiLCJyZW1vdmVOb3RpZmljYXRpb24iLCJkZWxldGVkIiwiaW5zZXJ0Tm90aWZpY2F0aW9uIiwibm90aWZpY2EiLCJub3RpZmljYXRpb24iLCJzZXRBc3NvY2lhdGVkSUQiLCJhc3NvY2lhdGVkSUQiLCJzZXRUZXh0IiwidGV4dCIsInNldERhdGUiLCJpbnNlcnRlZCIsInJlZnJlc2hOb3RpZmljYXRpb25DYWNoZSIsImFzc29jaWF0ZWRJZCIsInZhbHVlIiwicmVmcmVzaCIsImNoYW5nZVN0YXRlQ2FjaGUiLCJnZXROb3RpZmljYXRpb25DYWNoZVN0YXRlIiwiZ2V0IiwiZ2V0U3RhdGVDYWNoZSJdLCJtYXBwaW5ncyI6InV3TUFlWTsyRkFmWixLQUFNQSxDQUFBQSxpQkFBaUIsMEJBQUdDLE9BQU8sQ0FBQyx3QkFBRCxDQUFWLENBQXZCLENBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEcsd0JBQ0FDLE9BQU8sQ0FBQ0Msa0JBQVIsQ0FBNkIsU0FBVUMsRUFBVixDQUFjQyxHQUFkLENBQW1CLGlEQUM5QyxNQUFPLElBQUlDLENBQUFBLE9BQUosQ0FBWSxTQUFVQyxPQUFWLENBQW1CQyxNQUFuQixDQUEyQix5QkFDNUMsR0FBSUMsQ0FBQUEsYUFBYSwwQkFBR1QsaUJBQWlCLENBQUNVLFdBQWxCLENBQThCTixFQUE5QixDQUFILENBQWpCLENBRDRDLHdCQUU1Q0ssYUFBYSxDQUFDRSxJQUFkLENBQW1CLFNBQVVDLE1BQVYsQ0FBa0IsaURBQ25DLEdBQUlBLE1BQU0sQ0FBQ0MsTUFBUCxDQUFnQixDQUFwQixDQUF1QixvREFDckIsSUFBSyxHQUFJQyxDQUFBQSxDQUFDLDBCQUFHLENBQUgsQ0FBVixDQUFnQkYsTUFBTSxDQUFDRSxDQUFELENBQU4sRUFBYSxJQUE3QixDQUFtQ0EsQ0FBQyxFQUFwQyxDQUF3Qyx5QkFDdENGLE1BQU0sQ0FBQ0UsQ0FBRCxDQUFOLENBQVVDLFdBQVYsQ0FBd0IsR0FBSUMsQ0FBQUEsSUFBSixDQUFTSixNQUFNLENBQUNFLENBQUQsQ0FBTixDQUFVRyxJQUFWLENBQWVDLElBQXhCLENBQThCTixNQUFNLENBQUNFLENBQUQsQ0FBTixDQUFVRyxJQUFWLENBQWVFLEtBQWYsQ0FBdUIsQ0FBckQsQ0FBd0RQLE1BQU0sQ0FBQ0UsQ0FBRCxDQUFOLENBQVVHLElBQVYsQ0FBZUcsR0FBdkUsQ0FBNEVSLE1BQU0sQ0FBQ0UsQ0FBRCxDQUFOLENBQVVHLElBQVYsQ0FBZUksSUFBM0YsQ0FBaUdULE1BQU0sQ0FBQ0UsQ0FBRCxDQUFOLENBQVVHLElBQVYsQ0FBZUssT0FBaEgsQ0FBeUhWLE1BQU0sQ0FBQ0UsQ0FBRCxDQUFOLENBQVVHLElBQVYsQ0FBZU0sT0FBeEksQ0FBeEIsQ0FDRCxDQUhvQix3QkFJckJYLE1BQU0sQ0FBQ1ksSUFBUCxDQUFZLFNBQVVDLENBQVYsQ0FBYUMsQ0FBYixDQUFnQixrREFDMUIsR0FBSUQsQ0FBQyxDQUFDVixXQUFGLENBQWdCVyxDQUFDLENBQUNYLFdBQXRCLENBQW1DLDJEQUFPLENBQUMsQ0FBUixDQUFTLENBQTVDLGlDQUQwQix5QkFFMUIsR0FBSVUsQ0FBQyxDQUFDVixXQUFGLENBQWdCVyxDQUFDLENBQUNYLFdBQXRCLENBQW1DLDJEQUFPLEVBQVAsQ0FBUSxDQUEzQyxpQ0FGMEIseUJBRzFCLE1BQU8sRUFBUCxDQUNELENBSkQsRUFKcUIseUJBU3JCLElBQUtELENBQUMsQ0FBRyxDQUFULENBQVlGLE1BQU0sQ0FBQ0UsQ0FBRCxDQUFOLEVBQWEsSUFBekIsQ0FBK0JBLENBQUMsRUFBaEMsQ0FBb0MsMEJBQ2xDLE1BQU9GLENBQUFBLE1BQU0sQ0FBQ0UsQ0FBRCxDQUFOLENBQVVDLFdBQWpCLENBQ0QsQ0FYb0IseUJBWXJCUixPQUFPLENBQUNLLE1BQUQsQ0FBUCxDQUNELENBYkQsSUFhTyxxREFDTEwsT0FBTyxDQUFDLElBQUQsQ0FBUCxDQUNELENBQ0YsQ0FqQkQsRUFrQkQsQ0FwQk0sQ0FBUCxDQXFCRCxDQXRCRCxDQXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRyx5QkFDQUwsT0FBTyxDQUFDeUIsa0JBQVIsQ0FBNkIsU0FBVXZCLEVBQVYsQ0FBY0MsR0FBZCxDQUFtQixrREFDOUMsTUFBTyxJQUFJQyxDQUFBQSxPQUFKLENBQVksU0FBVUMsT0FBVixDQUFtQkMsTUFBbkIsQ0FBMkIseUJBQzVDLEdBQUlvQixDQUFBQSxPQUFPLDJCQUFHNUIsaUJBQWlCLENBQUMyQixrQkFBbEIsQ0FBcUN2QixFQUFyQyxDQUFILENBQVgsQ0FENEMseUJBRTVDd0IsT0FBTyxDQUFDakIsSUFBUixDQUFhLFNBQVVDLE1BQVYsQ0FBa0Isa0RBQzdCTCxPQUFPLENBQUMsSUFBRCxDQUFQLENBQ0QsQ0FGRCxFQUdELENBTE0sQ0FBUCxDQU1ELENBUEQsQ0FTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEcseUJBQ0FMLE9BQU8sQ0FBQzJCLGtCQUFSLENBQTZCLFNBQVVDLFFBQVYsQ0FBb0Isa0RBQy9DLE1BQU8sSUFBSXhCLENBQUFBLE9BQUosQ0FBWSxTQUFVQyxPQUFWLENBQW1CQyxNQUFuQixDQUEyQix5QkFDNUMsR0FBSXVCLENBQUFBLFlBQVksMkJBQUcsR0FBSS9CLENBQUFBLGlCQUFKLEVBQUgsQ0FBaEIsQ0FENEMseUJBRTVDK0IsWUFBWSxDQUFDQyxlQUFiLENBQTZCRixRQUFRLENBQUNHLFlBQXRDLEVBRjRDLHlCQUc1Q0YsWUFBWSxDQUFDRyxPQUFiLENBQXFCSixRQUFRLENBQUNLLElBQTlCLEVBSDRDLHlCQUk1Q0osWUFBWSxDQUFDSyxPQUFiLENBQXFCTixRQUFRLENBQUNiLElBQTlCLEVBQ0EsR0FBSW9CLENBQUFBLFFBQVEsMkJBQUdyQyxpQkFBaUIsQ0FBQzZCLGtCQUFsQixDQUFxQ0UsWUFBckMsQ0FBSCxDQUFaLENBTDRDLHlCQU01Q00sUUFBUSxDQUFDMUIsSUFBVCxDQUFjLFNBQVVDLE1BQVYsQ0FBa0Isa0RBQzlCTCxPQUFPLENBQUNLLE1BQUQsQ0FBUCxDQUNELENBRkQsRUFHRCxDQVRNLENBQVAsQ0FVRCxDQVhELENBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEkseUJBQ0FWLE9BQU8sQ0FBQ29DLHdCQUFSLENBQW1DLFNBQVVDLFlBQVYsQ0FBd0JDLEtBQXhCLENBQStCLG1EQUNoRSxNQUFPLElBQUlsQyxDQUFBQSxPQUFKLENBQVksU0FBVUMsT0FBVixDQUFtQkMsTUFBbkIsQ0FBMkIsMEJBQzVDLEdBQUlpQyxDQUFBQSxPQUFPLDJCQUFHekMsaUJBQWlCLENBQUMwQyxnQkFBbEIsQ0FBbUNILFlBQW5DLENBQWlEQyxLQUFqRCxDQUFILENBQVgsQ0FENEMseUJBRTVDQyxPQUFPLENBQUM5QixJQUFSLENBQWEsU0FBVUMsTUFBVixDQUFrQixtREFDN0JMLE9BQU8sQ0FBQ0ssTUFBRCxDQUFQLENBQ0QsQ0FGRCxFQUdELENBTE0sQ0FBUCxDQU1ELENBUEQsQ0FTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEcseUJBQ0FWLE9BQU8sQ0FBQ3lDLHlCQUFSLENBQW9DLFNBQVVWLFlBQVYsQ0FBd0IsbURBQzFELE1BQU8sSUFBSTNCLENBQUFBLE9BQUosQ0FBWSxTQUFVQyxPQUFWLENBQW1CQyxNQUFuQixDQUEyQiwwQkFDNUMsR0FBSW9DLENBQUFBLEdBQUcsMkJBQUc1QyxpQkFBaUIsQ0FBQzZDLGFBQWxCLENBQWdDWixZQUFoQyxDQUFILENBQVAsQ0FENEMseUJBRTVDVyxHQUFHLENBQUNqQyxJQUFKLENBQVMsU0FBVUMsTUFBVixDQUFrQixtREFDekJMLE9BQU8sQ0FBQ0ssTUFBRCxDQUFQLENBQ0QsQ0FGRCxFQUdELENBTE0sQ0FBUCxDQU1ELENBUEQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBOb3RpZmljYXRpb25Nb2RlbCA9IHJlcXVpcmUoJy4uL21vZGVscy9ub3RpZmljYXRpb24nKVxuLyoqXG4gKiBUaGlzIG1ldGhvZCByZXRyaWV2ZXMgYWxsIHRoZSBub3RpZmljYXRpb24gXG4gKiBAcGFyYW0ge1N0cmluZ30gaWQgLSBUaGUgbm90aWZpY2F0aW9uJ3MgaWQgYnkgaWRcbiAqIEBwYXJhbSB7T2JqZWN0fSByZXMgLSBUaGUgSFRUUCByZXNwb25zZVxuICogQHJldHVybnMge0ludH0gLSBcbiAqL1xuZXhwb3J0cy5nZXRBbGxOb3RpZmljYXRpb24gPSBmdW5jdGlvbiAoaWQsIHJlcykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBub3RpZmljYXRpb25zID0gTm90aWZpY2F0aW9uTW9kZWwucmV0cmlldmVBbGwoaWQpXG4gICAgbm90aWZpY2F0aW9ucy50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgcmVzdWx0W2ldICE9IG51bGw7IGkrKykge1xuICAgICAgICAgIHJlc3VsdFtpXS5jb21wYXJlRGF0YSA9IG5ldyBEYXRlKHJlc3VsdFtpXS5kYXRlLnllYXIsIHJlc3VsdFtpXS5kYXRlLm1vbnRoIC0gMSwgcmVzdWx0W2ldLmRhdGUuZGF5LCByZXN1bHRbaV0uZGF0ZS5ob3VyLCByZXN1bHRbaV0uZGF0ZS5taW51dGVzLCByZXN1bHRbaV0uZGF0ZS5zZWNvbmRzKVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgaWYgKGEuY29tcGFyZURhdGEgPCBiLmNvbXBhcmVEYXRhKSByZXR1cm4gLTFcbiAgICAgICAgICBpZiAoYS5jb21wYXJlRGF0YSA+IGIuY29tcGFyZURhdGEpIHJldHVybiAxXG4gICAgICAgICAgcmV0dXJuIDBcbiAgICAgICAgfSlcbiAgICAgICAgZm9yIChpID0gMDsgcmVzdWx0W2ldICE9IG51bGw7IGkrKykge1xuICAgICAgICAgIGRlbGV0ZSByZXN1bHRbaV0uY29tcGFyZURhdGFcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHJlc3VsdClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUobnVsbClcbiAgICAgIH1cbiAgICB9KVxuICB9KVxufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJlbW92ZSBhIHNwZWNpZmljIG5vdGlmaWNhdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIGlkIG9mIG5vdGlmaWNhdGlvbiB0byByZW1vdmVcbiAqIEBwYXJhbSB7T2JqZWN0fSByZXMgLSB0aGUgSFRUUCByZXNwb25zZSBcbiAqIEByZXR1cm5zIHtCb29sZWFufSAtIEl0IHJldHVybnMgdHJ1ZSBpZiB0aGUgbm90aWZpY2F0aW9uIHdhcyByZW1vdmVkIHN1Y2Nlc3NmdWxsLCBlbHNlIGZhbHNlXG4gKi9cbmV4cG9ydHMucmVtb3ZlTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKGlkLCByZXMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgZGVsZXRlZCA9IE5vdGlmaWNhdGlvbk1vZGVsLnJlbW92ZU5vdGlmaWNhdGlvbihpZClcbiAgICBkZWxldGVkLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmVzb2x2ZSh0cnVlKVxuICAgIH0pXG4gIH0pXG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmVtb3ZlIGEgc3BlY2lmaWMgbm90aWZpY2F0aW9uXG4gKiBAcGFyYW0ge05vdGlmaWNhdGlvbn0gbm90aWZpY2EgLSB0aGUgbm90aWZpY2F0aW9uIHRvIGluc2VydFxuICogQHJldHVybnMge0Jvb2xlYW59IC0gSXQgcmV0dXJucyB0cnVlIGlmIHRoZSBub3RpZmljYXRpb24gd2FzIGluc2VydGVkIHN1Y2Nlc3NmdWxsLCBlbHNlIGZhbHNlXG4gKi9cbmV4cG9ydHMuaW5zZXJ0Tm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKG5vdGlmaWNhKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIG5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb25Nb2RlbCgpXG4gICAgbm90aWZpY2F0aW9uLnNldEFzc29jaWF0ZWRJRChub3RpZmljYS5hc3NvY2lhdGVkSUQpXG4gICAgbm90aWZpY2F0aW9uLnNldFRleHQobm90aWZpY2EudGV4dClcbiAgICBub3RpZmljYXRpb24uc2V0RGF0ZShub3RpZmljYS5kYXRlKVxuICAgIHZhciBpbnNlcnRlZCA9IE5vdGlmaWNhdGlvbk1vZGVsLmluc2VydE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pXG4gICAgaW5zZXJ0ZWQudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICByZXNvbHZlKHJlc3VsdClcbiAgICB9KVxuICB9KVxufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJlZnJlc2hlcyB0aGUgbWVzc2FnZSBjYWNoZVxuICogQHBhcmFtIHtTdHJpbmd9IGFzc29jaWF0ZWRJRCAtIFRoZSBub3RpZmljYXRpb24ncyBpZFxuICogQHBhcmFtIHtCb29sZWFufSB2YWx1ZSAtIFRoZSBzdGF0ZSBjYWNoZSB2YWx1ZVxuICogQHJldHVybnMge09iamVjdH0gLSBUaGUgdXBkYXRlIHJlc3VsdFxuICAqL1xuZXhwb3J0cy5yZWZyZXNoTm90aWZpY2F0aW9uQ2FjaGUgPSBmdW5jdGlvbiAoYXNzb2NpYXRlZElkLCB2YWx1ZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZWZyZXNoID0gTm90aWZpY2F0aW9uTW9kZWwuY2hhbmdlU3RhdGVDYWNoZShhc3NvY2lhdGVkSWQsIHZhbHVlKVxuICAgIHJlZnJlc2gudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICByZXNvbHZlKHJlc3VsdClcbiAgICB9KVxuICB9KVxufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGdldHMgYWxsIGNhY2hlIG9mIG1lc3NhZ2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBhc3NvY2lhdGVkSUQgLSBUaGUgbm90aWZpY2F0aW9uJ3MgaWRcbiAqIEByZXR1cm5zIHtBcnJheX0gLSBUaGUgbm90aWZpY2F0aW9uIGNhY2hlXG4gKi9cbmV4cG9ydHMuZ2V0Tm90aWZpY2F0aW9uQ2FjaGVTdGF0ZSA9IGZ1bmN0aW9uIChhc3NvY2lhdGVkSUQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgZ2V0ID0gTm90aWZpY2F0aW9uTW9kZWwuZ2V0U3RhdGVDYWNoZShhc3NvY2lhdGVkSUQpXG4gICAgZ2V0LnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgfSlcbiAgfSlcbn1cbiJdfQ==