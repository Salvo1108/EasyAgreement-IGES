function cov_1rgh1c2c8g(){var path="/Users/salvatore/Desktop/EasyAgreement-IGES/app/controllers/studentControl.js";var hash="8c27a5ed9da3602ff51b09d18feef7a2424c1b3d";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/salvatore/Desktop/EasyAgreement-IGES/app/controllers/studentControl.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:31}},"1":{start:{line:2,column:19},end:{line:2,column:50}},"2":{start:{line:10,column:0},end:{line:89,column:1}},"3":{start:{line:11,column:2},end:{line:88,column:4}},"4":{start:{line:12,column:15},end:{line:12,column:34}},"5":{start:{line:13,column:18},end:{line:13,column:40}},"6":{start:{line:14,column:16},end:{line:14,column:34}},"7":{start:{line:15,column:20},end:{line:15,column:41}},"8":{start:{line:16,column:16},end:{line:16,column:36}},"9":{start:{line:18,column:19},end:{line:18,column:37}},"10":{start:{line:21,column:18},end:{line:21,column:22}},"11":{start:{line:23,column:4},end:{line:30,column:5}},"12":{start:{line:24,column:6},end:{line:29,column:7}},"13":{start:{line:25,column:8},end:{line:25,column:35}},"14":{start:{line:26,column:8},end:{line:26,column:23}},"15":{start:{line:28,column:8},end:{line:28,column:30}},"16":{start:{line:32,column:4},end:{line:39,column:5}},"17":{start:{line:33,column:6},end:{line:38,column:7}},"18":{start:{line:34,column:8},end:{line:34,column:38}},"19":{start:{line:35,column:8},end:{line:35,column:23}},"20":{start:{line:37,column:8},end:{line:37,column:36}},"21":{start:{line:41,column:4},end:{line:48,column:5}},"22":{start:{line:42,column:6},end:{line:47,column:7}},"23":{start:{line:43,column:8},end:{line:43,column:41}},"24":{start:{line:44,column:8},end:{line:44,column:23}},"25":{start:{line:46,column:8},end:{line:46,column:31}},"26":{start:{line:50,column:4},end:{line:57,column:5}},"27":{start:{line:51,column:6},end:{line:56,column:7}},"28":{start:{line:52,column:8},end:{line:52,column:44}},"29":{start:{line:53,column:8},end:{line:53,column:23}},"30":{start:{line:55,column:8},end:{line:55,column:38}},"31":{start:{line:59,column:4},end:{line:66,column:5}},"32":{start:{line:60,column:6},end:{line:65,column:7}},"33":{start:{line:61,column:8},end:{line:61,column:42}},"34":{start:{line:62,column:8},end:{line:62,column:23}},"35":{start:{line:64,column:8},end:{line:64,column:39}},"36":{start:{line:68,column:4},end:{line:71,column:5}},"37":{start:{line:69,column:6},end:{line:69,column:20}},"38":{start:{line:70,column:6},end:{line:70,column:12}},"39":{start:{line:73,column:17},end:{line:73,column:86}},"40":{start:{line:79,column:4},end:{line:87,column:6}},"41":{start:{line:80,column:6},end:{line:86,column:7}},"42":{start:{line:81,column:8},end:{line:81,column:42}},"43":{start:{line:82,column:8},end:{line:82,column:36}},"44":{start:{line:83,column:8},end:{line:83,column:21}},"45":{start:{line:85,column:8},end:{line:85,column:17}},"46":{start:{line:97,column:0},end:{line:148,column:1}},"47":{start:{line:98,column:2},end:{line:147,column:4}},"48":{start:{line:99,column:22},end:{line:99,column:47}},"49":{start:{line:100,column:19},end:{line:100,column:41}},"50":{start:{line:101,column:26},end:{line:101,column:55}},"51":{start:{line:104,column:18},end:{line:104,column:22}},"52":{start:{line:106,column:4},end:{line:109,column:5}},"53":{start:{line:107,column:6},end:{line:107,column:39}},"54":{start:{line:108,column:6},end:{line:108,column:21}},"55":{start:{line:111,column:4},end:{line:114,column:5}},"56":{start:{line:112,column:6},end:{line:112,column:36}},"57":{start:{line:113,column:6},end:{line:113,column:21}},"58":{start:{line:116,column:4},end:{line:119,column:5}},"59":{start:{line:117,column:6},end:{line:117,column:43}},"60":{start:{line:118,column:6},end:{line:118,column:21}},"61":{start:{line:121,column:4},end:{line:124,column:5}},"62":{start:{line:122,column:6},end:{line:122,column:20}},"63":{start:{line:123,column:6},end:{line:123,column:12}},"64":{start:{line:126,column:4},end:{line:146,column:5}},"65":{start:{line:127,column:27},end:{line:127,column:54}},"66":{start:{line:128,column:19},end:{line:128,column:95}},"67":{start:{line:134,column:6},end:{line:142,column:8}},"68":{start:{line:135,column:8},end:{line:141,column:9}},"69":{start:{line:136,column:10},end:{line:136,column:44}},"70":{start:{line:137,column:10},end:{line:137,column:42}},"71":{start:{line:138,column:10},end:{line:138,column:23}},"72":{start:{line:140,column:10},end:{line:140,column:19}},"73":{start:{line:144,column:6},end:{line:144,column:39}},"74":{start:{line:145,column:6},end:{line:145,column:19}},"75":{start:{line:157,column:0},end:{line:164,column:1}},"76":{start:{line:158,column:2},end:{line:163,column:4}},"77":{start:{line:159,column:14},end:{line:159,column:42}},"78":{start:{line:160,column:4},end:{line:162,column:6}},"79":{start:{line:161,column:6},end:{line:161,column:96}},"80":{start:{line:172,column:0},end:{line:183,column:1}},"81":{start:{line:173,column:2},end:{line:182,column:4}},"82":{start:{line:174,column:22},end:{line:174,column:51}},"83":{start:{line:175,column:4},end:{line:181,column:6}},"84":{start:{line:176,column:6},end:{line:180,column:7}},"85":{start:{line:177,column:8},end:{line:177,column:23}},"86":{start:{line:179,column:8},end:{line:179,column:21}},"87":{start:{line:192,column:0},end:{line:215,column:1}},"88":{start:{line:193,column:2},end:{line:214,column:4}},"89":{start:{line:194,column:16},end:{line:194,column:31}},"90":{start:{line:196,column:26},end:{line:196,column:33}},"91":{start:{line:197,column:17},end:{line:197,column:40}},"92":{start:{line:198,column:18},end:{line:198,column:22}},"93":{start:{line:200,column:4},end:{line:202,column:5}},"94":{start:{line:201,column:6},end:{line:201,column:22}},"95":{start:{line:204,column:4},end:{line:207,column:5}},"96":{start:{line:205,column:6},end:{line:205,column:20}},"97":{start:{line:206,column:6},end:{line:206,column:12}},"98":{start:{line:209,column:30},end:{line:209,column:46}},"99":{start:{line:210,column:19},end:{line:210,column:74}},"100":{start:{line:211,column:4},end:{line:213,column:6}},"101":{start:{line:212,column:6},end:{line:212,column:19}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:17},end:{line:10,column:18}},loc:{start:{line:10,column:37},end:{line:89,column:1}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:21},end:{line:11,column:22}},loc:{start:{line:11,column:48},end:{line:88,column:3}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:79,column:16},end:{line:79,column:17}},loc:{start:{line:79,column:34},end:{line:87,column:5}},line:79},"3":{name:"(anonymous_3)",decl:{start:{line:97,column:25},end:{line:97,column:26}},loc:{start:{line:97,column:45},end:{line:148,column:1}},line:97},"4":{name:"(anonymous_4)",decl:{start:{line:98,column:21},end:{line:98,column:22}},loc:{start:{line:98,column:48},end:{line:147,column:3}},line:98},"5":{name:"(anonymous_5)",decl:{start:{line:134,column:18},end:{line:134,column:19}},loc:{start:{line:134,column:36},end:{line:142,column:7}},line:134},"6":{name:"(anonymous_6)",decl:{start:{line:157,column:21},end:{line:157,column:22}},loc:{start:{line:157,column:35},end:{line:164,column:1}},line:157},"7":{name:"(anonymous_7)",decl:{start:{line:158,column:21},end:{line:158,column:22}},loc:{start:{line:158,column:40},end:{line:163,column:3}},line:158},"8":{name:"(anonymous_8)",decl:{start:{line:160,column:13},end:{line:160,column:14}},loc:{start:{line:160,column:31},end:{line:162,column:5}},line:160},"9":{name:"(anonymous_9)",decl:{start:{line:172,column:25},end:{line:172,column:26}},loc:{start:{line:172,column:37},end:{line:183,column:1}},line:172},"10":{name:"(anonymous_10)",decl:{start:{line:173,column:21},end:{line:173,column:22}},loc:{start:{line:173,column:48},end:{line:182,column:3}},line:173},"11":{name:"(anonymous_11)",decl:{start:{line:175,column:21},end:{line:175,column:22}},loc:{start:{line:175,column:39},end:{line:181,column:5}},line:175},"12":{name:"(anonymous_12)",decl:{start:{line:192,column:26},end:{line:192,column:27}},loc:{start:{line:192,column:46},end:{line:215,column:1}},line:192},"13":{name:"(anonymous_13)",decl:{start:{line:193,column:21},end:{line:193,column:22}},loc:{start:{line:193,column:48},end:{line:214,column:3}},line:193},"14":{name:"(anonymous_14)",decl:{start:{line:211,column:18},end:{line:211,column:19}},loc:{start:{line:211,column:36},end:{line:213,column:5}},line:211}},branchMap:{"0":{loc:{start:{line:23,column:4},end:{line:30,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:30,column:5}},{start:{line:23,column:4},end:{line:30,column:5}}],line:23},"1":{loc:{start:{line:24,column:6},end:{line:29,column:7}},type:"if",locations:[{start:{line:24,column:6},end:{line:29,column:7}},{start:{line:24,column:6},end:{line:29,column:7}}],line:24},"2":{loc:{start:{line:24,column:10},end:{line:24,column:57}},type:"binary-expr",locations:[{start:{line:24,column:10},end:{line:24,column:37}},{start:{line:24,column:41},end:{line:24,column:57}}],line:24},"3":{loc:{start:{line:32,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:39,column:5}},{start:{line:32,column:4},end:{line:39,column:5}}],line:32},"4":{loc:{start:{line:33,column:6},end:{line:38,column:7}},type:"if",locations:[{start:{line:33,column:6},end:{line:38,column:7}},{start:{line:33,column:6},end:{line:38,column:7}}],line:33},"5":{loc:{start:{line:33,column:10},end:{line:33,column:63}},type:"binary-expr",locations:[{start:{line:33,column:10},end:{line:33,column:40}},{start:{line:33,column:44},end:{line:33,column:63}}],line:33},"6":{loc:{start:{line:41,column:4},end:{line:48,column:5}},type:"if",locations:[{start:{line:41,column:4},end:{line:48,column:5}},{start:{line:41,column:4},end:{line:48,column:5}}],line:41},"7":{loc:{start:{line:42,column:6},end:{line:47,column:7}},type:"if",locations:[{start:{line:42,column:6},end:{line:47,column:7}},{start:{line:42,column:6},end:{line:47,column:7}}],line:42},"8":{loc:{start:{line:42,column:10},end:{line:42,column:61}},type:"binary-expr",locations:[{start:{line:42,column:10},end:{line:42,column:40}},{start:{line:42,column:44},end:{line:42,column:61}}],line:42},"9":{loc:{start:{line:50,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:50,column:4},end:{line:57,column:5}},{start:{line:50,column:4},end:{line:57,column:5}}],line:50},"10":{loc:{start:{line:51,column:6},end:{line:56,column:7}},type:"if",locations:[{start:{line:51,column:6},end:{line:56,column:7}},{start:{line:51,column:6},end:{line:56,column:7}}],line:51},"11":{loc:{start:{line:51,column:10},end:{line:51,column:73}},type:"binary-expr",locations:[{start:{line:51,column:10},end:{line:51,column:48}},{start:{line:51,column:52},end:{line:51,column:73}}],line:51},"12":{loc:{start:{line:59,column:4},end:{line:66,column:5}},type:"if",locations:[{start:{line:59,column:4},end:{line:66,column:5}},{start:{line:59,column:4},end:{line:66,column:5}}],line:59},"13":{loc:{start:{line:60,column:6},end:{line:65,column:7}},type:"if",locations:[{start:{line:60,column:6},end:{line:65,column:7}},{start:{line:60,column:6},end:{line:65,column:7}}],line:60},"14":{loc:{start:{line:60,column:10},end:{line:60,column:61}},type:"binary-expr",locations:[{start:{line:60,column:10},end:{line:60,column:40}},{start:{line:60,column:44},end:{line:60,column:61}}],line:60},"15":{loc:{start:{line:68,column:4},end:{line:71,column:5}},type:"if",locations:[{start:{line:68,column:4},end:{line:71,column:5}},{start:{line:68,column:4},end:{line:71,column:5}}],line:68},"16":{loc:{start:{line:80,column:6},end:{line:86,column:7}},type:"if",locations:[{start:{line:80,column:6},end:{line:86,column:7}},{start:{line:80,column:6},end:{line:86,column:7}}],line:80},"17":{loc:{start:{line:106,column:4},end:{line:109,column:5}},type:"if",locations:[{start:{line:106,column:4},end:{line:109,column:5}},{start:{line:106,column:4},end:{line:109,column:5}}],line:106},"18":{loc:{start:{line:106,column:8},end:{line:106,column:99}},type:"binary-expr",locations:[{start:{line:106,column:9},end:{line:106,column:28}},{start:{line:106,column:34},end:{line:106,column:57}},{start:{line:106,column:63},end:{line:106,column:98}}],line:106},"19":{loc:{start:{line:111,column:4},end:{line:114,column:5}},type:"if",locations:[{start:{line:111,column:4},end:{line:114,column:5}},{start:{line:111,column:4},end:{line:114,column:5}}],line:111},"20":{loc:{start:{line:111,column:8},end:{line:111,column:90}},type:"binary-expr",locations:[{start:{line:111,column:9},end:{line:111,column:25}},{start:{line:111,column:31},end:{line:111,column:51}},{start:{line:111,column:57},end:{line:111,column:89}}],line:111},"21":{loc:{start:{line:116,column:4},end:{line:119,column:5}},type:"if",locations:[{start:{line:116,column:4},end:{line:119,column:5}},{start:{line:116,column:4},end:{line:119,column:5}}],line:116},"22":{loc:{start:{line:121,column:4},end:{line:124,column:5}},type:"if",locations:[{start:{line:121,column:4},end:{line:124,column:5}},{start:{line:121,column:4},end:{line:124,column:5}}],line:121},"23":{loc:{start:{line:126,column:4},end:{line:146,column:5}},type:"if",locations:[{start:{line:126,column:4},end:{line:146,column:5}},{start:{line:126,column:4},end:{line:146,column:5}}],line:126},"24":{loc:{start:{line:135,column:8},end:{line:141,column:9}},type:"if",locations:[{start:{line:135,column:8},end:{line:141,column:9}},{start:{line:135,column:8},end:{line:141,column:9}}],line:135},"25":{loc:{start:{line:176,column:6},end:{line:180,column:7}},type:"if",locations:[{start:{line:176,column:6},end:{line:180,column:7}},{start:{line:176,column:6},end:{line:180,column:7}}],line:176},"26":{loc:{start:{line:200,column:4},end:{line:202,column:5}},type:"if",locations:[{start:{line:200,column:4},end:{line:202,column:5}},{start:{line:200,column:4},end:{line:202,column:5}}],line:200},"27":{loc:{start:{line:204,column:4},end:{line:207,column:5}},type:"if",locations:[{start:{line:204,column:4},end:{line:207,column:5}},{start:{line:204,column:4},end:{line:207,column:5}}],line:204}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0,0],"19":[0,0],"20":[0,0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8c27a5ed9da3602ff51b09d18feef7a2424c1b3d"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1rgh1c2c8g=function(){return actualCoverage;};}return actualCoverage;}cov_1rgh1c2c8g();var hash=(cov_1rgh1c2c8g().s[0]++,require('./hash.js'));var StudentModel=(cov_1rgh1c2c8g().s[1]++,require('../models/student.js'));/**
 * This method updates the student's informations
 * @param {Object} req - The HTTP request
 * @param {Object} res - The HTTP response
 * @returns {Boolean}  - It returns true if the update was successfull, else false
 */cov_1rgh1c2c8g().s[2]++;exports.update=function(req,res){cov_1rgh1c2c8g().f[0]++;cov_1rgh1c2c8g().s[3]++;return new Promise(function(resolve,reject){cov_1rgh1c2c8g().f[1]++;var name=(cov_1rgh1c2c8g().s[4]++,req.body.inputNameS);var surname=(cov_1rgh1c2c8g().s[5]++,req.body.inputSurnameS);var citta=(cov_1rgh1c2c8g().s[6]++,req.body.inputCity);var indirizzo=(cov_1rgh1c2c8g().s[7]++,req.body.inputAddress);var corso=(cov_1rgh1c2c8g().s[8]++,req.body.inputDegree);var studente=(cov_1rgh1c2c8g().s[9]++,new StudentModel());// Form validation
var isRight=(cov_1rgh1c2c8g().s[10]++,true);cov_1rgh1c2c8g().s[11]++;if(name.length!=0){cov_1rgh1c2c8g().b[0][0]++;cov_1rgh1c2c8g().s[12]++;if((cov_1rgh1c2c8g().b[2][0]++,!/^[A-Za-z]+$/.test(name))||(cov_1rgh1c2c8g().b[2][1]++,name.length<=2)){cov_1rgh1c2c8g().b[1][0]++;cov_1rgh1c2c8g().s[13]++;res.cookie('errNameS','1');cov_1rgh1c2c8g().s[14]++;isRight=false;}else{cov_1rgh1c2c8g().b[1][1]++;cov_1rgh1c2c8g().s[15]++;studente.setName(name);}}else{cov_1rgh1c2c8g().b[0][1]++;}cov_1rgh1c2c8g().s[16]++;if(surname.length!=0){cov_1rgh1c2c8g().b[3][0]++;cov_1rgh1c2c8g().s[17]++;if((cov_1rgh1c2c8g().b[5][0]++,!/^[A-Za-z]+$/.test(surname))||(cov_1rgh1c2c8g().b[5][1]++,surname.length<=2)){cov_1rgh1c2c8g().b[4][0]++;cov_1rgh1c2c8g().s[18]++;res.cookie('errSurnameS','1');cov_1rgh1c2c8g().s[19]++;isRight=false;}else{cov_1rgh1c2c8g().b[4][1]++;cov_1rgh1c2c8g().s[20]++;studente.setSurname(surname);}}else{cov_1rgh1c2c8g().b[3][1]++;}cov_1rgh1c2c8g().s[21]++;if(citta.length!=0){cov_1rgh1c2c8g().b[6][0]++;cov_1rgh1c2c8g().s[22]++;if((cov_1rgh1c2c8g().b[8][0]++,!/^[A-Za-z\s]+$/.test(citta))||(cov_1rgh1c2c8g().b[8][1]++,citta.length<=2)){cov_1rgh1c2c8g().b[7][0]++;cov_1rgh1c2c8g().s[23]++;res.cookie('errStudentCity','1');cov_1rgh1c2c8g().s[24]++;isRight=false;}else{cov_1rgh1c2c8g().b[7][1]++;cov_1rgh1c2c8g().s[25]++;studente.setCity(citta);}}else{cov_1rgh1c2c8g().b[6][1]++;}cov_1rgh1c2c8g().s[26]++;if(indirizzo.length!=0){cov_1rgh1c2c8g().b[9][0]++;cov_1rgh1c2c8g().s[27]++;if((cov_1rgh1c2c8g().b[11][0]++,!/^[A-Za-z0-9,\s]+$/.test(indirizzo))||(cov_1rgh1c2c8g().b[11][1]++,indirizzo.length<=7)){cov_1rgh1c2c8g().b[10][0]++;cov_1rgh1c2c8g().s[28]++;res.cookie('errStudentAddress','1');cov_1rgh1c2c8g().s[29]++;isRight=false;}else{cov_1rgh1c2c8g().b[10][1]++;cov_1rgh1c2c8g().s[30]++;studente.setAddress(indirizzo);}}else{cov_1rgh1c2c8g().b[9][1]++;}cov_1rgh1c2c8g().s[31]++;if(corso.length!=0){cov_1rgh1c2c8g().b[12][0]++;cov_1rgh1c2c8g().s[32]++;if((cov_1rgh1c2c8g().b[14][0]++,!/^[A-Za-z\s]+$/.test(corso))||(cov_1rgh1c2c8g().b[14][1]++,corso.length<=2)){cov_1rgh1c2c8g().b[13][0]++;cov_1rgh1c2c8g().s[33]++;res.cookie('errStudentCorso','1');cov_1rgh1c2c8g().s[34]++;isRight=false;}else{cov_1rgh1c2c8g().b[13][1]++;cov_1rgh1c2c8g().s[35]++;studente.setDegreeCourse(corso);}}else{cov_1rgh1c2c8g().b[12][1]++;}cov_1rgh1c2c8g().s[36]++;if(!isRight){cov_1rgh1c2c8g().b[15][0]++;cov_1rgh1c2c8g().s[37]++;resolve(false);cov_1rgh1c2c8g().s[38]++;return;}else{cov_1rgh1c2c8g().b[15][1]++;}var checkS=(cov_1rgh1c2c8g().s[39]++,StudentModel.updateStudent(studente,req.session.utente.utente.Email));/**
    * It checks the result of updateStudent function and updates the student session
    * @param  {Object} result - The result of updateStudent function
    * @returns {Boolean} - It returns true and generates an "edit complete" cookie if result != null, else it returns a reject
*/cov_1rgh1c2c8g().s[40]++;checkS.then(function(result){cov_1rgh1c2c8g().f[2]++;cov_1rgh1c2c8g().s[41]++;if(result!=null){cov_1rgh1c2c8g().b[16][0]++;cov_1rgh1c2c8g().s[42]++;req.session.utente.utente=result;cov_1rgh1c2c8g().s[43]++;res.cookie('updateEff','1');cov_1rgh1c2c8g().s[44]++;resolve(true);}else{cov_1rgh1c2c8g().b[16][1]++;cov_1rgh1c2c8g().s[45]++;resolve();}});});};/**
 * This method updates the student's password
 * @param {Object} req - The HTTP request
 * @param {Object} res - The HTTP response
 * @returns {Boolean}  - It returns true if the update was successfull, else false
  */cov_1rgh1c2c8g().s[46]++;exports.updatePassword=function(req,res){cov_1rgh1c2c8g().f[3]++;cov_1rgh1c2c8g().s[47]++;return new Promise(function(resolve,reject){cov_1rgh1c2c8g().f[4]++;var oldPassword=(cov_1rgh1c2c8g().s[48]++,req.body.inputOldPassword);var password=(cov_1rgh1c2c8g().s[49]++,req.body.inputPassword);var passwordConfirm=(cov_1rgh1c2c8g().s[50]++,req.body.inputConfirmPassword);// Form Validation
var isRight=(cov_1rgh1c2c8g().s[51]++,true);cov_1rgh1c2c8g().s[52]++;if((cov_1rgh1c2c8g().b[18][0]++,oldPassword==null)||(cov_1rgh1c2c8g().b[18][1]++,oldPassword.length<=7)||(cov_1rgh1c2c8g().b[18][2]++,!/^[A-Za-z0-9]+$/.test(oldPassword))){cov_1rgh1c2c8g().b[17][0]++;cov_1rgh1c2c8g().s[53]++;res.cookie('errOldPassword','1');cov_1rgh1c2c8g().s[54]++;isRight=false;}else{cov_1rgh1c2c8g().b[17][1]++;}cov_1rgh1c2c8g().s[55]++;if((cov_1rgh1c2c8g().b[20][0]++,password==null)||(cov_1rgh1c2c8g().b[20][1]++,password.length<=7)||(cov_1rgh1c2c8g().b[20][2]++,!/^[A-Za-z0-9]+$/.test(password))){cov_1rgh1c2c8g().b[19][0]++;cov_1rgh1c2c8g().s[56]++;res.cookie('errPassword','1');cov_1rgh1c2c8g().s[57]++;isRight=false;}else{cov_1rgh1c2c8g().b[19][1]++;}cov_1rgh1c2c8g().s[58]++;if(passwordConfirm!=password){cov_1rgh1c2c8g().b[21][0]++;cov_1rgh1c2c8g().s[59]++;res.cookie('errPasswordConfirm','1');cov_1rgh1c2c8g().s[60]++;isRight=false;}else{cov_1rgh1c2c8g().b[21][1]++;}cov_1rgh1c2c8g().s[61]++;if(!isRight){cov_1rgh1c2c8g().b[22][0]++;cov_1rgh1c2c8g().s[62]++;resolve(false);cov_1rgh1c2c8g().s[63]++;return;}else{cov_1rgh1c2c8g().b[22][1]++;}cov_1rgh1c2c8g().s[64]++;if(hash.checkPassword(req.session.utente.utente.Password.hash,req.session.utente.utente.Password.salt,oldPassword)){cov_1rgh1c2c8g().b[23][0]++;var passwordHashed=(cov_1rgh1c2c8g().s[65]++,hash.hashPassword(password));var checkS=(cov_1rgh1c2c8g().s[66]++,StudentModel.updatePassword(passwordHashed,req.session.utente.utente.Email));/**
        * It checks the result of updatePassword function and updates the student session
        * @param  {Object} result - The result of updatePassword function (about student)
        * @returns {Boolean} - It returns true and generates an "edit password complete" cookie if result != null, else it returns a reject
        */cov_1rgh1c2c8g().s[67]++;checkS.then(function(result){cov_1rgh1c2c8g().f[5]++;cov_1rgh1c2c8g().s[68]++;if(result!=null){cov_1rgh1c2c8g().b[24][0]++;cov_1rgh1c2c8g().s[69]++;req.session.utente.utente=result;cov_1rgh1c2c8g().s[70]++;res.cookie('updatePassEff','1');cov_1rgh1c2c8g().s[71]++;resolve(true);}else{cov_1rgh1c2c8g().b[24][1]++;cov_1rgh1c2c8g().s[72]++;resolve();}});}else{cov_1rgh1c2c8g().b[23][1]++;cov_1rgh1c2c8g().s[73]++;res.cookie('errOldPassword','1');cov_1rgh1c2c8g().s[74]++;resolve(true);}});};/**
 * This method get student by email
 * @param {Object} req - The HTTP request
 * @param {Object} res - The HTTP response
 * @returns {Boolean}  - It returns true if the update was successfull, else false
  */cov_1rgh1c2c8g().s[75]++;exports.getStudent=function(id){cov_1rgh1c2c8g().f[6]++;cov_1rgh1c2c8g().s[76]++;return new Promise(function(resolve){cov_1rgh1c2c8g().f[7]++;var get=(cov_1rgh1c2c8g().s[77]++,StudentModel.findByEmail(id));cov_1rgh1c2c8g().s[78]++;get.then(function(result){cov_1rgh1c2c8g().f[8]++;cov_1rgh1c2c8g().s[79]++;resolve({Name:result.getName(),Surname:result.getSurname(),Email:result.getEmail()});});});};/**
 * This method retrieves all appointment
* @param {Object} req - The HTTP req
 * @param {Object} res - The HTTP response
 * @returns {Int} - 
 */cov_1rgh1c2c8g().s[80]++;exports.getAllPunteggi=function(){cov_1rgh1c2c8g().f[9]++;cov_1rgh1c2c8g().s[81]++;return new Promise(function(resolve,reject){cov_1rgh1c2c8g().f[10]++;var graduatoria=(cov_1rgh1c2c8g().s[82]++,StudentModel.getAllPunteggi());cov_1rgh1c2c8g().s[83]++;graduatoria.then(function(result){cov_1rgh1c2c8g().f[11]++;cov_1rgh1c2c8g().s[84]++;if(result.length>0){cov_1rgh1c2c8g().b[25][0]++;cov_1rgh1c2c8g().s[85]++;resolve(result);}else{cov_1rgh1c2c8g().b[25][1]++;cov_1rgh1c2c8g().s[86]++;resolve(null);}});});};/**
 * This method inserts a specific punteggio
* @param {Object} req - The HTTP req
 * @param {Object} res - The HTTP res
 * @returns {Boolean}  - This method returns true if the insert of punteggio was successfull, else false
 */cov_1rgh1c2c8g().s[87]++;exports.insertPunteggio=function(req,res){cov_1rgh1c2c8g().f[12]++;cov_1rgh1c2c8g().s[88]++;return new Promise(function(resolve,reject){cov_1rgh1c2c8g().f[13]++;var email=(cov_1rgh1c2c8g().s[89]++,req.query.email);//var email_Temp = req.body.email_Temp
var RegExpPunteggio=(cov_1rgh1c2c8g().s[90]++,/^\d+$/);var points=(cov_1rgh1c2c8g().s[91]++,req.body.inputPunteggio);var isRight=(cov_1rgh1c2c8g().s[92]++,true);cov_1rgh1c2c8g().s[93]++;if(!points.match(RegExpPunteggio)){cov_1rgh1c2c8g().b[26][0]++;cov_1rgh1c2c8g().s[94]++;isRight=false;}else{cov_1rgh1c2c8g().b[26][1]++;}cov_1rgh1c2c8g().s[95]++;if(!isRight){cov_1rgh1c2c8g().b[27][0]++;cov_1rgh1c2c8g().s[96]++;resolve(false);cov_1rgh1c2c8g().s[97]++;return;}else{cov_1rgh1c2c8g().b[27][1]++;}var punteggioConvertito=(cov_1rgh1c2c8g().s[98]++,parseInt(points));var inserted=(cov_1rgh1c2c8g().s[99]++,StudentModel.insertPunteggio(email,punteggioConvertito));cov_1rgh1c2c8g().s[100]++;inserted.then(function(result){cov_1rgh1c2c8g().f[14]++;cov_1rgh1c2c8g().s[101]++;resolve(true);});});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0dWRlbnRDb250cm9sLmpzIl0sIm5hbWVzIjpbImhhc2giLCJyZXF1aXJlIiwiU3R1ZGVudE1vZGVsIiwiZXhwb3J0cyIsInVwZGF0ZSIsInJlcSIsInJlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibmFtZSIsImJvZHkiLCJpbnB1dE5hbWVTIiwic3VybmFtZSIsImlucHV0U3VybmFtZVMiLCJjaXR0YSIsImlucHV0Q2l0eSIsImluZGlyaXp6byIsImlucHV0QWRkcmVzcyIsImNvcnNvIiwiaW5wdXREZWdyZWUiLCJzdHVkZW50ZSIsImlzUmlnaHQiLCJsZW5ndGgiLCJ0ZXN0IiwiY29va2llIiwic2V0TmFtZSIsInNldFN1cm5hbWUiLCJzZXRDaXR5Iiwic2V0QWRkcmVzcyIsInNldERlZ3JlZUNvdXJzZSIsImNoZWNrUyIsInVwZGF0ZVN0dWRlbnQiLCJzZXNzaW9uIiwidXRlbnRlIiwiRW1haWwiLCJ0aGVuIiwicmVzdWx0IiwidXBkYXRlUGFzc3dvcmQiLCJvbGRQYXNzd29yZCIsImlucHV0T2xkUGFzc3dvcmQiLCJwYXNzd29yZCIsImlucHV0UGFzc3dvcmQiLCJwYXNzd29yZENvbmZpcm0iLCJpbnB1dENvbmZpcm1QYXNzd29yZCIsImNoZWNrUGFzc3dvcmQiLCJQYXNzd29yZCIsInNhbHQiLCJwYXNzd29yZEhhc2hlZCIsImhhc2hQYXNzd29yZCIsImdldFN0dWRlbnQiLCJpZCIsImdldCIsImZpbmRCeUVtYWlsIiwiTmFtZSIsImdldE5hbWUiLCJTdXJuYW1lIiwiZ2V0U3VybmFtZSIsImdldEVtYWlsIiwiZ2V0QWxsUHVudGVnZ2kiLCJncmFkdWF0b3JpYSIsImluc2VydFB1bnRlZ2dpbyIsImVtYWlsIiwicXVlcnkiLCJSZWdFeHBQdW50ZWdnaW8iLCJwb2ludHMiLCJpbnB1dFB1bnRlZ2dpbyIsIm1hdGNoIiwicHVudGVnZ2lvQ29udmVydGl0byIsInBhcnNlSW50IiwiaW5zZXJ0ZWQiXSwibWFwcGluZ3MiOiI4a2VBZVk7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YXNoID0gcmVxdWlyZSgnLi9oYXNoLmpzJylcbnZhciBTdHVkZW50TW9kZWwgPSByZXF1aXJlKCcuLi9tb2RlbHMvc3R1ZGVudC5qcycpXG5cbi8qKlxuICogVGhpcyBtZXRob2QgdXBkYXRlcyB0aGUgc3R1ZGVudCdzIGluZm9ybWF0aW9uc1xuICogQHBhcmFtIHtPYmplY3R9IHJlcSAtIFRoZSBIVFRQIHJlcXVlc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSByZXMgLSBUaGUgSFRUUCByZXNwb25zZVxuICogQHJldHVybnMge0Jvb2xlYW59ICAtIEl0IHJldHVybnMgdHJ1ZSBpZiB0aGUgdXBkYXRlIHdhcyBzdWNjZXNzZnVsbCwgZWxzZSBmYWxzZVxuICovXG5leHBvcnRzLnVwZGF0ZSA9IGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBuYW1lID0gcmVxLmJvZHkuaW5wdXROYW1lU1xuICAgIHZhciBzdXJuYW1lID0gcmVxLmJvZHkuaW5wdXRTdXJuYW1lU1xuICAgIHZhciBjaXR0YSA9IHJlcS5ib2R5LmlucHV0Q2l0eVxuICAgIHZhciBpbmRpcml6em8gPSByZXEuYm9keS5pbnB1dEFkZHJlc3NcbiAgICB2YXIgY29yc28gPSByZXEuYm9keS5pbnB1dERlZ3JlZVxuXG4gICAgdmFyIHN0dWRlbnRlID0gbmV3IFN0dWRlbnRNb2RlbCgpXG5cbiAgICAvLyBGb3JtIHZhbGlkYXRpb25cbiAgICB2YXIgaXNSaWdodCA9IHRydWVcblxuICAgIGlmIChuYW1lLmxlbmd0aCAhPSAwKSB7XG4gICAgICBpZiAoISgvXltBLVphLXpdKyQvLnRlc3QobmFtZSkpIHx8IG5hbWUubGVuZ3RoIDw9IDIpIHtcbiAgICAgICAgcmVzLmNvb2tpZSgnZXJyTmFtZVMnLCAnMScpXG4gICAgICAgIGlzUmlnaHQgPSBmYWxzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R1ZGVudGUuc2V0TmFtZShuYW1lKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXJuYW1lLmxlbmd0aCAhPSAwKSB7XG4gICAgICBpZiAoISgvXltBLVphLXpdKyQvLnRlc3Qoc3VybmFtZSkpIHx8IHN1cm5hbWUubGVuZ3RoIDw9IDIpIHtcbiAgICAgICAgcmVzLmNvb2tpZSgnZXJyU3VybmFtZVMnLCAnMScpXG4gICAgICAgIGlzUmlnaHQgPSBmYWxzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R1ZGVudGUuc2V0U3VybmFtZShzdXJuYW1lKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaXR0YS5sZW5ndGggIT0gMCkge1xuICAgICAgaWYgKCEoL15bQS1aYS16XFxzXSskLy50ZXN0KGNpdHRhKSkgfHwgY2l0dGEubGVuZ3RoIDw9IDIpIHtcbiAgICAgICAgcmVzLmNvb2tpZSgnZXJyU3R1ZGVudENpdHknLCAnMScpXG4gICAgICAgIGlzUmlnaHQgPSBmYWxzZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R1ZGVudGUuc2V0Q2l0eShjaXR0YSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW5kaXJpenpvLmxlbmd0aCAhPSAwKSB7XG4gICAgICBpZiAoISgvXltBLVphLXowLTksXFxzXSskLy50ZXN0KGluZGlyaXp6bykpIHx8IGluZGlyaXp6by5sZW5ndGggPD0gNykge1xuICAgICAgICByZXMuY29va2llKCdlcnJTdHVkZW50QWRkcmVzcycsICcxJylcbiAgICAgICAgaXNSaWdodCA9IGZhbHNlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHVkZW50ZS5zZXRBZGRyZXNzKGluZGlyaXp6bylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29yc28ubGVuZ3RoICE9IDApIHtcbiAgICAgIGlmICghKC9eW0EtWmEtelxcc10rJC8udGVzdChjb3JzbykpIHx8IGNvcnNvLmxlbmd0aCA8PSAyKSB7XG4gICAgICAgIHJlcy5jb29raWUoJ2VyclN0dWRlbnRDb3JzbycsICcxJylcbiAgICAgICAgaXNSaWdodCA9IGZhbHNlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHVkZW50ZS5zZXREZWdyZWVDb3Vyc2UoY29yc28pXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFpc1JpZ2h0KSB7XG4gICAgICByZXNvbHZlKGZhbHNlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIGNoZWNrUyA9IFN0dWRlbnRNb2RlbC51cGRhdGVTdHVkZW50KHN0dWRlbnRlLCByZXEuc2Vzc2lvbi51dGVudGUudXRlbnRlLkVtYWlsKVxuICAgIC8qKlxuICAgICogSXQgY2hlY2tzIHRoZSByZXN1bHQgb2YgdXBkYXRlU3R1ZGVudCBmdW5jdGlvbiBhbmQgdXBkYXRlcyB0aGUgc3R1ZGVudCBzZXNzaW9uXG4gICAgKiBAcGFyYW0gIHtPYmplY3R9IHJlc3VsdCAtIFRoZSByZXN1bHQgb2YgdXBkYXRlU3R1ZGVudCBmdW5jdGlvblxuICAgICogQHJldHVybnMge0Jvb2xlYW59IC0gSXQgcmV0dXJucyB0cnVlIGFuZCBnZW5lcmF0ZXMgYW4gXCJlZGl0IGNvbXBsZXRlXCIgY29va2llIGlmIHJlc3VsdCAhPSBudWxsLCBlbHNlIGl0IHJldHVybnMgYSByZWplY3RcbiovXG4gICAgY2hlY2tTLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgIHJlcS5zZXNzaW9uLnV0ZW50ZS51dGVudGUgPSByZXN1bHRcbiAgICAgICAgcmVzLmNvb2tpZSgndXBkYXRlRWZmJywgJzEnKVxuICAgICAgICByZXNvbHZlKHRydWUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKClcbiAgICAgIH1cbiAgICB9KVxuICB9KVxufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHVwZGF0ZXMgdGhlIHN0dWRlbnQncyBwYXNzd29yZFxuICogQHBhcmFtIHtPYmplY3R9IHJlcSAtIFRoZSBIVFRQIHJlcXVlc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSByZXMgLSBUaGUgSFRUUCByZXNwb25zZVxuICogQHJldHVybnMge0Jvb2xlYW59ICAtIEl0IHJldHVybnMgdHJ1ZSBpZiB0aGUgdXBkYXRlIHdhcyBzdWNjZXNzZnVsbCwgZWxzZSBmYWxzZVxuICAqL1xuZXhwb3J0cy51cGRhdGVQYXNzd29yZCA9IGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBvbGRQYXNzd29yZCA9IHJlcS5ib2R5LmlucHV0T2xkUGFzc3dvcmRcbiAgICB2YXIgcGFzc3dvcmQgPSByZXEuYm9keS5pbnB1dFBhc3N3b3JkXG4gICAgdmFyIHBhc3N3b3JkQ29uZmlybSA9IHJlcS5ib2R5LmlucHV0Q29uZmlybVBhc3N3b3JkXG5cbiAgICAvLyBGb3JtIFZhbGlkYXRpb25cbiAgICB2YXIgaXNSaWdodCA9IHRydWVcblxuICAgIGlmICgob2xkUGFzc3dvcmQgPT0gbnVsbCkgfHwgKG9sZFBhc3N3b3JkLmxlbmd0aCA8PSA3KSB8fCAoIS9eW0EtWmEtejAtOV0rJC8udGVzdChvbGRQYXNzd29yZCkpKSB7XG4gICAgICByZXMuY29va2llKCdlcnJPbGRQYXNzd29yZCcsICcxJylcbiAgICAgIGlzUmlnaHQgPSBmYWxzZVxuICAgIH1cblxuICAgIGlmICgocGFzc3dvcmQgPT0gbnVsbCkgfHwgKHBhc3N3b3JkLmxlbmd0aCA8PSA3KSB8fCAoIS9eW0EtWmEtejAtOV0rJC8udGVzdChwYXNzd29yZCkpKSB7XG4gICAgICByZXMuY29va2llKCdlcnJQYXNzd29yZCcsICcxJylcbiAgICAgIGlzUmlnaHQgPSBmYWxzZVxuICAgIH1cblxuICAgIGlmIChwYXNzd29yZENvbmZpcm0gIT0gcGFzc3dvcmQpIHtcbiAgICAgIHJlcy5jb29raWUoJ2VyclBhc3N3b3JkQ29uZmlybScsICcxJylcbiAgICAgIGlzUmlnaHQgPSBmYWxzZVxuICAgIH1cblxuICAgIGlmICghaXNSaWdodCkge1xuICAgICAgcmVzb2x2ZShmYWxzZSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChoYXNoLmNoZWNrUGFzc3dvcmQocmVxLnNlc3Npb24udXRlbnRlLnV0ZW50ZS5QYXNzd29yZC5oYXNoLCByZXEuc2Vzc2lvbi51dGVudGUudXRlbnRlLlBhc3N3b3JkLnNhbHQsIG9sZFBhc3N3b3JkKSkge1xuICAgICAgdmFyIHBhc3N3b3JkSGFzaGVkID0gaGFzaC5oYXNoUGFzc3dvcmQocGFzc3dvcmQpXG4gICAgICB2YXIgY2hlY2tTID0gU3R1ZGVudE1vZGVsLnVwZGF0ZVBhc3N3b3JkKHBhc3N3b3JkSGFzaGVkLCByZXEuc2Vzc2lvbi51dGVudGUudXRlbnRlLkVtYWlsKVxuICAgICAgLyoqXG4gICAgICAgICogSXQgY2hlY2tzIHRoZSByZXN1bHQgb2YgdXBkYXRlUGFzc3dvcmQgZnVuY3Rpb24gYW5kIHVwZGF0ZXMgdGhlIHN0dWRlbnQgc2Vzc2lvblxuICAgICAgICAqIEBwYXJhbSAge09iamVjdH0gcmVzdWx0IC0gVGhlIHJlc3VsdCBvZiB1cGRhdGVQYXNzd29yZCBmdW5jdGlvbiAoYWJvdXQgc3R1ZGVudClcbiAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBJdCByZXR1cm5zIHRydWUgYW5kIGdlbmVyYXRlcyBhbiBcImVkaXQgcGFzc3dvcmQgY29tcGxldGVcIiBjb29raWUgaWYgcmVzdWx0ICE9IG51bGwsIGVsc2UgaXQgcmV0dXJucyBhIHJlamVjdFxuICAgICAgICAqL1xuICAgICAgY2hlY2tTLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICByZXEuc2Vzc2lvbi51dGVudGUudXRlbnRlID0gcmVzdWx0XG4gICAgICAgICAgcmVzLmNvb2tpZSgndXBkYXRlUGFzc0VmZicsICcxJylcbiAgICAgICAgICByZXNvbHZlKHRydWUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5jb29raWUoJ2Vyck9sZFBhc3N3b3JkJywgJzEnKVxuICAgICAgcmVzb2x2ZSh0cnVlKVxuICAgIH1cbiAgfSlcbn1cblxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGdldCBzdHVkZW50IGJ5IGVtYWlsXG4gKiBAcGFyYW0ge09iamVjdH0gcmVxIC0gVGhlIEhUVFAgcmVxdWVzdFxuICogQHBhcmFtIHtPYmplY3R9IHJlcyAtIFRoZSBIVFRQIHJlc3BvbnNlXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gIC0gSXQgcmV0dXJucyB0cnVlIGlmIHRoZSB1cGRhdGUgd2FzIHN1Y2Nlc3NmdWxsLCBlbHNlIGZhbHNlXG4gICovXG5leHBvcnRzLmdldFN0dWRlbnQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgdmFyIGdldCA9IFN0dWRlbnRNb2RlbC5maW5kQnlFbWFpbChpZClcbiAgICBnZXQudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICByZXNvbHZlKHsgTmFtZTogcmVzdWx0LmdldE5hbWUoKSwgU3VybmFtZTogcmVzdWx0LmdldFN1cm5hbWUoKSwgRW1haWw6IHJlc3VsdC5nZXRFbWFpbCgpfSlcbiAgICB9KVxuICB9KVxufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHJpZXZlcyBhbGwgYXBwb2ludG1lbnRcbiogQHBhcmFtIHtPYmplY3R9IHJlcSAtIFRoZSBIVFRQIHJlcVxuICogQHBhcmFtIHtPYmplY3R9IHJlcyAtIFRoZSBIVFRQIHJlc3BvbnNlXG4gKiBAcmV0dXJucyB7SW50fSAtIFxuICovXG5leHBvcnRzLmdldEFsbFB1bnRlZ2dpID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBncmFkdWF0b3JpYSA9IFN0dWRlbnRNb2RlbC5nZXRBbGxQdW50ZWdnaSgpXG4gICAgZ3JhZHVhdG9yaWEudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKG51bGwpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGluc2VydHMgYSBzcGVjaWZpYyBwdW50ZWdnaW9cbiogQHBhcmFtIHtPYmplY3R9IHJlcSAtIFRoZSBIVFRQIHJlcVxuICogQHBhcmFtIHtPYmplY3R9IHJlcyAtIFRoZSBIVFRQIHJlc1xuICogQHJldHVybnMge0Jvb2xlYW59ICAtIFRoaXMgbWV0aG9kIHJldHVybnMgdHJ1ZSBpZiB0aGUgaW5zZXJ0IG9mIHB1bnRlZ2dpbyB3YXMgc3VjY2Vzc2Z1bGwsIGVsc2UgZmFsc2VcbiAqL1xuZXhwb3J0cy5pbnNlcnRQdW50ZWdnaW8gPSBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgZW1haWwgPSByZXEucXVlcnkuZW1haWxcbiAgICAvL3ZhciBlbWFpbF9UZW1wID0gcmVxLmJvZHkuZW1haWxfVGVtcFxuICAgIHZhciBSZWdFeHBQdW50ZWdnaW8gPSAvXlxcZCskL1xuICAgIHZhciBwb2ludHMgPSByZXEuYm9keS5pbnB1dFB1bnRlZ2dpb1xuICAgIHZhciBpc1JpZ2h0ID0gdHJ1ZTtcblxuICAgIGlmKCFwb2ludHMubWF0Y2goUmVnRXhwUHVudGVnZ2lvKSl7XG4gICAgICBpc1JpZ2h0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFpc1JpZ2h0KSB7XG4gICAgICByZXNvbHZlKGZhbHNlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHB1bnRlZ2dpb0NvbnZlcnRpdG8gPSBwYXJzZUludChwb2ludHMpO1xuICAgIHZhciBpbnNlcnRlZCA9IFN0dWRlbnRNb2RlbC5pbnNlcnRQdW50ZWdnaW8oZW1haWwscHVudGVnZ2lvQ29udmVydGl0bylcbiAgICBpbnNlcnRlZC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIHJlc29sdmUodHJ1ZSlcbiAgICB9KVxuICB9KVxufVxuIl19